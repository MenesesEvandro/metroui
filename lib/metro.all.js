
/*!
 ███╗   ███╗███████╗████████╗██████╗  ██████╗     ██╗   ██╗██╗
 ████╗ ████║██╔════╝╚══██╔══╝██╔══██╗██╔═══██╗    ██║   ██║██║
 ██╔████╔██║█████╗     ██║   ██████╔╝██║   ██║    ██║   ██║██║
 ██║╚██╔╝██║██╔══╝     ██║   ██╔══██╗██║   ██║    ██║   ██║██║
 ██║ ╚═╝ ██║███████╗   ██║   ██║  ██║╚██████╔╝    ╚██████╔╝██║
 ╚═╝     ╚═╝╚══════╝   ╚═╝   ╚═╝  ╚═╝ ╚═════╝      ╚═════╝ ╚═╝                                                             

 * Metro UI v5.1.0 Components Library  (https://metroui.org.ua)
 * Copyright 2012-2025 by Serhii Pimenov
 * Licensed under MIT
 */

(()=>{var Ti=Object.defineProperty;var ma=(e,r)=>{for(var l in r)Ti(e,l,{get:r[l],enumerable:!0})};var Ni=e=>!isNaN(e),It="YYYY-MM-DDTHH:mm:ss.sss",ha="Invalid date",Ri=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,ji=/(%[a-z])/gi,Gi="%Y-%m-%dT%H:%M:%S.%Q%t",Ji={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},fa={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},Y={ms:"ms",s:"second",m:"minute",h:"hour",D:"day",W:"week",d:"weekDay",M:"month",Y:"year",Y2:"year2",t:"time",c:"century",q:"quarter"},Ur=(e="")=>{throw new Error("This argument is required!")},ga=(e,r=!0)=>{try{return r?typeof e<"u":typeof e<"u"&&e!==null}catch{return!1}},qt=e=>typeof e>"u"||e===null,ot=function(e,r,l){let i=""+e;return l&&i.length>=l?i:Array(l+1-i.length).join(r)+i},Hi={months:"\u0421\u0456\u0447\u0435\u043D\u044C_\u041B\u044E\u0442\u0438\u0439_\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C_\u041A\u0432\u0456\u0442\u0435\u043D\u044C_\u0422\u0440\u0430\u0432\u0435\u043D\u044C_\u0427\u0435\u0440\u0432\u0435\u043D\u044C_\u041B\u0438\u043F\u0435\u043D\u044C_\u0421\u0435\u0440\u043F\u0435\u043D\u044C_\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C_\u0416\u043E\u0432\u0442\u0435\u043D\u044C_\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434_\u0413\u0440\u0443\u0434\u0435\u043D\u044C".split("_"),monthsParental:"\u0421\u0456\u0447\u043D\u044F_\u041B\u044E\u0442\u043E\u0433\u043E_\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044F_\u041A\u0432\u0456\u0442\u043D\u044F_\u0422\u0440\u0430\u0432\u043D\u044F_\u0427\u0435\u0440\u0432\u043D\u044F_\u041B\u0438\u043F\u043D\u044F_\u0421\u0435\u0440\u043F\u043D\u044F_\u0412\u0435\u0440\u0435\u0441\u043D\u044F_\u0416\u043E\u0432\u0442\u043D\u044F_\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430_\u0413\u0440\u0443\u0434\u043D\u044F".split("_"),monthsShort:"\u0421\u0456\u0447_\u041B\u044E\u0442_\u0411\u0435\u0440_\u041A\u0432\u0456_\u0422\u0440\u0430_\u0427\u0435\u0440_\u041B\u0438\u043F_\u0421\u0435\u0440_\u0412\u0435\u0440_\u0416\u043E\u0432_\u041B\u0438\u0441_\u0413\u0440\u0443".split("_"),weekdays:"\u041D\u0435\u0434\u0456\u043B\u044F_\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A_\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A_\u0421\u0435\u0440\u0435\u0434\u0430_\u0427\u0435\u0442\u0432\u0435\u0440_\u041F'\u044F\u0442\u043D\u0438\u0446\u044F_\u0421\u0443\u0431\u043E\u0442\u0430".split("_"),weekdaysShort:"\u041D\u0435\u0434_\u041F\u043E\u043D_\u0412\u0456\u0432_\u0421\u0435\u0440_\u0427\u0435\u0442_\u041F\u0442\u043D_\u0421\u0443\u0431".split("_"),weekdaysMin:"\u041D\u0434_\u041F\u043D_\u0412\u0442_\u0421\u0440_\u0427\u0442_\u041F\u0442_\u0421\u0431".split("_"),weekStart:1},Pi={months:"Januar_Februar_M\xE4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_M\xE4r_Apr_Mai_Jun_Jul_Aug_Sep_Okt_Nov_Dez".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"Son_Mon_Die_Mit_Don_Fre_Sam".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekStart:1},F=class O{constructor(){let r=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(r))),this.locale="en",this.weekStart=O.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,!Ni(this.value.getTime()))throw new Error(ha)}static locales={en:Ji,ua:Hi,de:Pi};static isDatetime(r){return r instanceof O}static now(r=!1){return j()[r?"val":"time"]()}static parse(r=Ur()){return j(Date.parse(r))}static setLocale(r=Ur(),l=Ur()){O.locales[r]=l}static getLocale(r="en"){return ga(O.locales[r],!1)?O.locales[r]:O.locales.en}static align(r,l){let i=j(r),t,o;switch(l){case Y.s:t=i.ms(0);break;case Y.m:t=O.align(i,Y.s)[Y.s](0);break;case Y.h:t=O.align(i,Y.m)[Y.m](0);break;case Y.D:t=O.align(i,Y.h)[Y.h](0);break;case Y.M:t=O.align(i,Y.D)[Y.D](1);break;case Y.Y:t=O.align(i,Y.M)[Y.M](0);break;case Y.W:{o=i.weekDay(),t=O.align(r,Y.D).addDay(-o);break}default:t=i}return t}static alignEnd(r,l){let i=j(r),t,o;switch(l){case Y.ms:t=i.ms(999);break;case Y.s:t=O.alignEnd(i,Y.ms);break;case Y.m:t=O.alignEnd(i,Y.s)[Y.s](59);break;case Y.h:t=O.alignEnd(i,Y.m)[Y.m](59);break;case Y.D:t=O.alignEnd(i,Y.h)[Y.h](23);break;case Y.M:t=O.alignEnd(i,Y.D)[Y.D](1).add(1,Y.M).add(-1,Y.D);break;case Y.Y:t=O.alignEnd(i,Y.D)[Y.M](11)[Y.D](31);break;case Y.W:{o=i.weekDay(),t=O.alignEnd(i,"day").addDay(6-o);break}default:t=r}return t}immutable(r){return this.mutable=!(qt(r)||r),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(r,l){return this.locale=l||ga(O.locales[r],!1)?r:"en",this.weekStart=O.getLocale(this.locale).weekStart,this}clone(){let r=j(this.value);return r.locale=this.locale,r.weekStart=this.weekStart,r.mutable=this.mutable,r}align(r){return this.mutable?(this.value=O.align(this,r).val(),this):this.clone().immutable(!1).align(r).immutable(!this.mutable)}alignEnd(r){return this.mutable?(this.value=O.alignEnd(this,r).val(),this):this.clone().immutable(!1).alignEnd(r).immutable(!this.mutable)}val(r){return r instanceof Date?this.mutable?(this.value=r,this):j(r):this.value}year2(){return+(""+this.year()).substr(-2)}_set(r,l){let i="set"+(this.utcMode&&r!=="t"?"UTC":"")+fa[r];if(this.mutable)return this.value[i](l),this;let t=this.clone();return t.value[i](l),t}_get(r){let l="get"+(this.utcMode&&r!=="t"?"UTC":"")+fa[r];return this.value[l]()}_work(r,l){return!arguments.length||typeof l>"u"||l===null?this._get(r):this._set(r,l)}ms(r){return this._work("ms",r)}second(r){return this._work("s",r)}minute(r){return this._work("m",r)}hour(r){return this._work("h",r)}day(r){return this._work("D",r)}month(r){return this._work("M",r)}year(r){return this._work("Y",r)}time(r){return this._work("t",r)}weekDay(r){if(!arguments.length||qt(r))return this.utcMode?this.value.getUTCDay():this.value.getDay();let l=this.weekDay(),i=r-l;return this.day(this.day()+i),this}get(r){return typeof this[r]!="function"?this:this[r]()}set(r,l){return typeof this[r]!="function"?this:this[r](l)}add(r,l){switch(l){case Y.h:return this.time(this.time()+r*60*60*1e3);case Y.m:return this.time(this.time()+r*60*1e3);case Y.s:return this.time(this.time()+r*1e3);case Y.ms:return this.time(this.time()+r);case Y.D:return this.day(this.day()+r);case Y.W:return this.day(this.day()+r*7);case Y.M:return this.month(this.month()+r);case Y.Y:return this.year(this.year()+r)}}addHour(r){return this.add(r,Y.h)}addMinute(r){return this.add(r,Y.m)}addSecond(r){return this.add(r,Y.s)}addMs(r){return this.add(r,Y.ms)}addDay(r){return this.add(r,Y.D)}addWeek(r){return this.add(r,Y.W)}addMonth(r){return this.add(r,Y.M)}addYear(r){return this.add(r,Y.Y)}format(r,l){let i=r||It,t=O.getLocale(l||this.locale),o=this.year(),a=this.year2(),s=this.month(),c=this.day(),p=this.weekDay(),d=this.hour(),m=this.minute(),f=this.second(),g=this.ms(),u={YY:a,YYYY:o,M:s+1,MM:ot(s+1,0,2),MMM:t.monthsShort[s],MMMM:t.months[s],D:c,DD:ot(c,0,2),d:p,dd:t.weekdaysMin[p],ddd:t.weekdaysShort[p],dddd:t.weekdays[p],H:d,HH:ot(d,0,2),m,mm:ot(m,0,2),s:f,ss:ot(f,0,2),sss:ot(g,0,3)};return i.replace(Ri,(A,b)=>b||u[A])}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}},j=(...e)=>e&&e[0]instanceof F?e[0]:new F(...e),Vi=F.prototype.format,_i={buddhist(){return this.year()+543},format(e,r){e=e||It;let l={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()},i=e.replace(/(\[[^\]]+])|B{4}|B{2}/g,(t,o)=>o||l[t]);return Vi.bind(this)(i,r)}};Object.assign(F.prototype,_i);var Oi=(e,r)=>{let l=e instanceof F?e.clone().align("month"):j(e),i=r===0||r?r:e.weekStart,t=i?l.isoWeekDay():l.weekDay(),o=F.getLocale(l.locale),a=j(),s,c=(d,m)=>{if(m===0)return d;let f=d[0];return d.slice(1).concat([f])},p={month:o.months[l.month()],days:[],weekstart:r?1:0,weekdays:c(o.weekdaysMin,i),today:a.format("YYYY-MM-DD"),weekends:[],week:[]};for(l.addDay(i?-t+1:-t),s=0;s<42;s++)p.days.push(l.format("YYYY-MM-DD")),l.add(1,"day");for(p.weekends=p.days.filter(function(d,m){return i===0?[0,6,7,13,14,20,21,27,28,34,35,41].includes(m):[5,6,12,13,19,20,26,27,33,34,40,41].includes(m)}),l=a.clone(),t=i?l.isoWeekDay():l.weekDay(),l.addDay(i?-t+1:-t),s=0;s<7;s++)p.week.push(l.format("YYYY-MM-DD")),l.add(1,"day");return p};Object.assign(F.prototype,{calendar(e){return Oi(this,e)}});var Li=F.prototype.format;Object.assign(F.prototype,{century(){return Math.ceil(this.year()/100)},format(e,r){e=e||It;let l={C:this.century()},i=e.replace(/(\[[^\]]+])|C/g,(t,o)=>o||l[t]);return Li.bind(this)(i,r)}});Object.assign(F.prototype,{same(e){return this.time()===j(e).time()},compare(e,r,l="="){let i=j(e),t=j(this.value),o,a;switch(l=l||"=",["<",">",">=","<=","=","!="].includes(l)===!1&&(l="="),r=(r||"ms").toLowerCase(),o=t.align(r).time(),a=i.align(r).time(),l){case"<":return o<a;case">":return o>a;case"<=":return o<=a;case">=":return o>=a;case"=":return o===a;case"!=":return o!==a}},between(e,r){return this.younger(e)&&this.older(r)},older(e,r){return this.compare(e,r,"<")},olderOrEqual(e,r){return this.compare(e,r,"<=")},younger(e,r){return this.compare(e,r,">")},youngerOrEqual(e,r){return this.compare(e,r,">=")},equal(e,r){return this.compare(e,r,"=")},notEqual(e,r){return this.compare(e,r,"!=")},diff(e){let r=j(e),l=Math.abs(this.time()-r.time()),i=Math.abs(this.month()-r.month()+12*(this.year()-r.year()));return{ms:l,second:Math.ceil(l/1e3),minute:Math.ceil(l/(1e3*60)),hour:Math.ceil(l/(1e3*60*60)),day:Math.ceil(l/(1e3*60*60*24)),month:i,year:Math.floor(i/12)}},distance(e,r){return this.diff(e)[r]}});Object.assign(F.prototype,{isLeapYear(){let e=this.year();return e%4===0&&e%100!==0||e%400===0}});Object.assign(F.prototype,{dayOfYear(){let e=[0,31,59,90,120,151,181,212,243,273,304,334],r=this.month(),l=this.day();return e[r]+l+(r>1&&this.isLeapYear()?1:0)}});Object.assign(F.prototype,{daysInMonth(){return j(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear(){return this.isLeapYear()?366:365},daysInYearMap(){let e=[],r=j(this.value);r.month(0).day(1);for(let l=0;l<12;l++)r.add(1,"month").add(-1,"day"),e.push(r.day()),r.day(1).add(1,"month");return e},daysInYearObj(e,r){let l=this.daysInYearMap(),i={},t=F.getLocale(e||this.locale);return l.forEach((o,a)=>i[t[r?"monthsShort":"months"][a]]=o),i}});Object.assign(F.prototype,{decade(){return Math.floor(this.year()/10)*10},decadeStart(){let e=this.decade();return(this.mutable?this:this.clone()).year(e).month(0).day(1)},decadeEnd(){let e=this.decade()+9;return(this.mutable?this:this.clone()).year(e).month(11).day(31)},decadeOfMonth(){let e=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,r=this.day();return r<=e?1:r<=e*2?2:3}});Object.assign(F,{from(e,r,l){let i,t,o,a,s,c,p,d,m,f,g,u,A,b,x,v,I,B,k,w=function(U,z){return U.map(function(J){return J.toLowerCase()}).indexOf(z.toLowerCase())},E=function(U){let z=-1,J=F.getLocale(l||"en");return qt(U)?-1:(z=w(J.months,U),z===-1&&typeof J.monthsParental<"u"&&(z=w(J.monthsParental,U)),z===-1&&(U=U.substr(0,3),z=w(J.monthsShort,U)),z===-1?-1:z+1)},y=function(U){let z={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]},J=-1,H,P;for(let X=0;X<z[U].length;X++)if(H=z[U][X],P=o.indexOf(H),P!==-1){J=P;break}return J};if(!r)return j();if(i=e.replace(/[\/,.:\s]/g,"-"),t=r.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),o=t.split("-"),a=i.split("-"),i.replace(/-/g,"").trim()==="")throw new Error(ha);return s=y("month"),c=y("day"),p=y("year"),d=y("hour"),m=y("minute"),f=y("second"),g=y("ms"),s>-1&&a[s]?isNaN(parseInt(a[s]))?(a[s]=E(a[s]),a[s]===-1&&(s=-1)):(k=parseInt(a[s]),(k<1||k>12)&&(s=-1)):s=-1,u=p>-1&&a[p]?a[p]:0,A=s>-1&&a[s]?a[s]:1,b=c>-1&&a[c]?a[c]:1,x=d>-1&&a[d]?a[d]:0,v=m>-1&&a[m]?a[m]:0,I=f>-1&&a[f]?a[f]:0,B=g>-1&&a[g]?a[g]:0,j(u,A-1,b,x,v,I,B)}});var Wi=F.prototype.format;Object.assign(F.prototype,{ampm(e){let r=this.hour()<12?"AM":"PM";return e?r.toLowerCase():r},hour12:function(e,r){let l=e;return arguments.length===0?this.hour()%12:(r=r||"am",r.toLowerCase()==="pm"&&(l+=12),this.hour(l))},format:function(e,r){let l,i,t=this.hour12();return e=e||It,l={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:t,hh:ot(t,0,2)},i=e.replace(/(\[[^\]]+])|a|A|h{1,2}/g,(o,a)=>a||l[o]),Wi.bind(this)(i,r)}});var Ki=F.prototype.format,ua=F.align,Aa=F.alignEnd;Object.assign(F,{align(e,r){let l=j(e),i,t;switch(r){case"isoWeek":t=l.isoWeekDay(),i=ua(l,"day").addDay(-t+1);break;default:i=ua.apply(void 0,[l,r])}return i},alignEnd(e,r){let l=j(e),i,t;switch(r){case"isoWeek":t=l.isoWeekDay(),i=Aa(l,"day").addDay(7-t);break;default:i=Aa.apply(void 0,[l,r])}return i}});Object.assign(F.prototype,{isoWeekDay(e){let r=(this.weekDay()+6)%7+1;return!arguments.length||qt(e)?r:this.addDay(e-r)},format(e,r){e=e||It;let l={I:this.isoWeekDay()},i=e.replace(/(\[[^\]]+])|I{1,2}/g,(t,o)=>o||l[t]);return Ki.bind(this)(i,r)}});Object.assign(F,{max(){return[].slice.call(arguments).map(r=>j(r)).sort((r,l)=>l.time()-r.time())[0]}});Object.assign(F.prototype,{max(){return F.max.apply(this,[this].concat([].slice.call(arguments)))}});Object.assign(F,{min(){return[].slice.call(arguments).map(r=>j(r)).sort((r,l)=>r.time()-l.time())[0]}});Object.assign(F.prototype,{min(){return F.min.apply(this,[this].concat([].slice.call(arguments)))}});var Xi=F.align,qi=F.alignEnd,Zi=F.prototype.add;Object.assign(F,{align(e,r){let l=j(e),i;switch(r){case"quarter":i=F.align(l,"day").day(1).month(l.quarter()*3-3);break;default:i=Xi.apply(this,[l,r])}return i},alignEnd(e,r){let l=j(e),i;switch(r){case"quarter":i=F.align(l,"quarter").add(3,"month").add(-1,"ms");break;default:i=qi.apply(this,[l,r])}return i}});Object.assign(F.prototype,{quarter(){let e=this.month();return e<=2?1:e<=5?2:e<=8?3:4},add(e,r){return r==="quarter"?this.month(this.month()+e*3):Zi.bind(this)(e,r)},addQuarter(e){return this.add(e,"quarter")}});Object.assign(F,{sort(e,r){let l,i,t={};switch(typeof r=="string"||typeof r!="object"||qt(r)?(t.format=It,t.dir=r&&r.toUpperCase()==="DESC"?"DESC":"ASC",t.returnAs="datetime"):(t.format=r.format||It,t.dir=(r.dir||"ASC").toUpperCase(),t.returnAs=r.format?"string":r.returnAs||"datetime"),i=e.map(o=>j(o)).sort((o,a)=>o.valueOf()-a.valueOf()),t.dir==="DESC"&&i.reverse(),t.returnAs){case"string":l=i.map(o=>o.format(t.format));break;case"date":l=i.map(o=>o.val());break;default:l=i}return l}});var $i=F.prototype.format;Object.assign(F.prototype,{utcOffset(){return this.value.getTimezoneOffset()},timezone(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format(e,r){e=e||It;let l={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()},i=e.replace(/(\[[^\]]+])|Z{1,3}|z/g,(t,o)=>o||l[t]);return $i.bind(this)(i,r)}});var tn=F.prototype.format;Object.assign(F.prototype,{weekNumber(e){let r,l,i,t,o,a;return e=+e||0,i=j(this.year(),0,1),t=i.weekDay()-e,t=t>=0?t:t+7,o=Math.floor((this.time()-i.time()-(this.utcOffset()-i.utcOffset())*6e4)/864e5)+1,t<4?(a=Math.floor((o+t-1)/7)+1,a>52&&(r=j(this.year()+1,0,1),l=r.weekDay()-e,l=l>=0?l:l+7,a=l<4?1:53)):a=Math.floor((o+t-1)/7),a},isoWeekNumber(){return this.weekNumber(1)},weeksInYear(e){return j(this.value).month(11).day(31).weekNumber(e)},format:function(e,r){let l,i,t=this.weekNumber(),o=this.isoWeekNumber();return e=e||It,l={W:t,WW:ot(t,0,2),WWW:o,WWWW:ot(o,0,2)},i=e.replace(/(\[[^\]]+])|W{1,4}/g,(a,s)=>s||l[a]),tn.bind(this)(i,r)}});Object.assign(F.prototype,{strftime(e,r){let l=e||Gi,i=F.getLocale(r||this.locale),t=this.year(),o=this.year2(),a=this.month(),s=this.day(),c=this.weekDay(),p=this.hour(),d=this.hour12(),m=this.minute(),f=this.second(),g=this.ms(),u=this.time(),A=ot(s,0,2),b=ot(a+1,0,2),x=ot(p,0,2),v=ot(d,0,2),I=ot(m,0,2),B=ot(f,0,2),k=ot(g,0,3),w=this,E=function(){return j(w.value).day(w.day()-(w.weekDay()+6)%7+3)},y={"%a":i.weekdaysShort[c],"%A":i.weekdays[c],"%b":i.monthsShort[a],"%h":i.monthsShort[a],"%B":i.months[a],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":A,"%D":[A,b,t].join("/"),"%e":s,"%F":[t,b,A].join("-"),"%G":E().year(),"%g":(""+E().year()).slice(2),"%H":x,"%I":v,"%j":ot(this.dayOfYear(),0,3),"%k":x,"%l":v,"%m":b,"%n":a+1,"%M":I,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(u/1e3),"%S":B,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":c,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":o,"%Y":t,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[v,I,B].join(":")+" "+this.ampm(),"%R":[x,I].join(":"),"%T":[x,I,B].join(":"),"%Q":k,"%q":g,"%t":this.timezone()};return l.replace(ji,U=>y[U]===0||y[U]?y[U]:U)}});Object.assign(F,{isToday(e){let r=j(e).align("day"),l=j().align("day");return r.time()===l.time()}});Object.assign(F.prototype,{isToday(){return F.isToday(this)},today(){let e=j();return this.mutable?this.val(e.val()):e}});Object.assign(F,{isTomorrow(e){let r=j(e).align("day"),l=j().align("day").add(1,"day");return r.time()===l.time()}});Object.assign(F.prototype,{isTomorrow(){return F.isTomorrow(this)},tomorrow(){return this.mutable?this.add(1,"day"):this.clone().immutable(!1).add(1,"day").immutable(!this.mutable)}});Object.assign(F.prototype,{toDateString(){return this.value.toDateString()},toISOString(){return this.value.toISOString()},toJSON(){return this.value.toJSON()},toGMTString(){return this.value.toGMTString()},toLocaleDateString(){return this.value.toLocaleDateString()},toLocaleString(){return this.value.toLocaleString()},toLocaleTimeString(){return this.value.toLocaleTimeString()},toTimeString(){return this.value.toTimeString()},toUTCString(){return this.value.toUTCString()},toDate(){return new Date(this.value)}});Object.assign(F,{timestamp(){return new Date().getTime()/1e3}});Object.assign(F.prototype,{unix(e){let r;return!arguments.length||qt(e)?Math.floor(this.valueOf()/1e3):(r=e*1e3,this.mutable?this.time(r):j(this.value).time(r))},timestamp(){return this.unix()}});Object.assign(F,{isYesterday(e){let r=j(e).align("day"),l=j().align("day").add(-1,"day");return r.time()===l.time()}});Object.assign(F.prototype,{isYesterday(){return F.isYesterday(this)},yesterday(){return this.mutable?this.add(-1,"day"):this.clone().immutable(!1).add(-1,"day").immutable(!this.mutable)}});var ba=e=>{let r,l=Math.floor(e/1e3),i=Math.floor(l/60),t=Math.floor(i/60),o=Math.floor(t/24),a=Math.floor(o/30),s=Math.floor(a/12);return s>=1&&(r=`${s} year`),a>=1&&s<1&&(r=`${a} mon`),o>=1&&o<=30&&(r=`${o} days`),t&&t<24&&(r=`${t} hour`),i&&i>=40&&i<60&&(r="less a hour"),i&&i<40&&(r=`${i} min`),l&&l>=30&&l<60&&(r=`${l} sec`),l<30&&(r="few sec"),r};Object.assign(F,{timeLapse(e){let r=j(e),l=j(),i=l-r;return ba(i)}});Object.assign(F.prototype,{timeLapse(){let e=j()-+this;return ba(e)}});var en={parseTime(e){if(!isNaN(e))return Math.abs(+e);let r=/([0-9]+d)|([0-9]{1,2}h)|([0-9]{1,2}m)|([0-9]{1,2}s)/gm;return e.match(r).reduce((i,t)=>{let o;return t.includes("d")?o=1e3*60*60*24*parseInt(t):t.includes("h")?o=1e3*60*60*parseInt(t):t.includes("m")?o=1e3*60*parseInt(t):t.includes("s")&&(o=1e3*parseInt(t)),i+o},0)}};Object.assign(F,en);Object.assign(F.prototype,{moon(){let e=["new-moon","waxing-crescent","first-quarter","waxing-gibbous","full-moon","waning-gibbous","last-quarter","waning-crescent"];return(()=>{let l=this.year(),i=this.month(),t=this.day(),o,a,s,c=o=a=s=0;return i<3&&(l--,i+=12),++i,c=365.25*l,o=30.6*i,a=c+o+t-694039.09,a/=29.5305882,s=parseInt(a),a-=s,s=Math.round(a*8),s>=8&&(s=0),{phase:s,name:e[s]}})()}});var on="3.0.6",rn="25.10.2024, 15:09:35",xa=()=>{console.info(`%c Datetime Library %c v${on} %c ${rn} `,"color: #ffffff; font-weight: bold; background: #003152","color: white; background: darkgreen","color: white; background: #0080fe;")};F.info=xa;globalThis.Datetime=F;globalThis.datetime=j;(function(){"use strict";let e=["january","february","march","april","may","june","july","august","september","october","november","december"],r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];var l=F.getLocale;F.getLocale=function(i){var t;if(!Metro)return i="en",l.call(this,i);Metro.locales[i]||(i="en"),t=Metro.locales[i];let o=e.map(function(d,m){return t[d]}),a=e.map(function(d,m){return t[`${d}_short`]}),s=r.map(function(d,m){return t[d]}),c=r.map(function(d,m){return t[`${d}_short`]}),p=r.map(function(d,m){return t[`${d}_short_2`]});return{months:o,monthsShort:a,weekdays:s,weekdaysShort:c,weekdaysMin:p,weekStart:t.weekStart}}})();var Nr="\\d",Rr="\\s\\uFEFF\\xA0",ue="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",an="\\u2000-\\u206F",nn="\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7",ln="\\u2700-\\u27BF",Ne="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",Re="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",sn=new RegExp("^["+Rr+"]+"),cn=new RegExp("["+Rr+"]+$"),pn=new RegExp("^"+Nr+"+$"),dn=/[<>&"'`]/g,mn=/(<([^>]+)>)/ig,jr=new RegExp("(?:["+Re+"]["+ue+"]*)?(?:["+Ne+"]["+ue+"]*)+|(?:["+Re+"]["+ue+"]*)+(?!["+Ne+"])|["+Nr+"]+|["+ln+"]|[^"+nn+an+Rr+"]+","g"),Gr=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,fn=new RegExp("^(?:["+Ne+Re+"]["+ue+"]*)+$"),gn=new RegExp("^((?:["+Ne+Re+"]["+ue+"]*)|["+Nr+"])+$"),Jr=/^[\x01-\xFF]*$/,S=(e,r="")=>e?typeof e=="string"?e:Array.isArray(e)?e.join(""):JSON.stringify(e):r,va=(e,r)=>typeof e>"u"||e===null?r:e,Ut=(e,r,l)=>{let i;return r?r instanceof RegExp?i=r:i=new RegExp(r,va(l,"")):i=Jr.test(e)?Gr:jr,va(S(e).match(i),[])},Hr=(e,r=!1)=>{let l=S(e),i=l.substr(1);return l.substr(0,1).toUpperCase()+(r?i.toLowerCase():i)},un=e=>Ut(S(e)).map((r,l)=>l===0?r.toLowerCase():Hr(r)).join(""),An=e=>Ut(S(e)).map(r=>r.toLowerCase()).join("-"),hn=e=>{let r=S(e);return r.substr(0,1).toLowerCase()+r.substr(1)},bn=(e,r="-")=>Ut(S(e)).map(l=>l.toLowerCase()).join(r),Pr=e=>S(e).toLowerCase(),Ae=(e,r=[])=>S(e).split("").filter(l=>!r.includes(l)),xn=(e,r)=>Ae(S(e),r).reverse().join(""),vn=(e=[])=>{let r=[...e],l=r.length,i,t;for(;l!==0;)t=Math.floor(Math.random()*l),l-=1,i=r[l],r[l]=r[t],r[t]=i;return r},wn=e=>vn(S(e).split("")).join(""),kn=e=>Ut(S(e)).map(r=>r.toLowerCase()).join("_"),Bn=(e,r)=>{let l=r.toLowerCase(),i=r.toUpperCase();return e+(r===l?i:l)},En=e=>S(e).split("").reduce(Bn,""),yn=(e,r,l="")=>{let i=S(e),t=Jr.test(i)?Gr:jr,o=Array.isArray(r)?r:typeof r!="string"?[]:r.split(l);return e.replace(t,(a,s)=>s&&o.includes(i[s-1])?Pr(a):Hr(a))},wa=e=>S(e).toUpperCase(),In=e=>S(e).length,Ge=(e=[])=>{let r=[...e];for(let l=0;l<r.length;++l)for(let i=l+1;i<r.length;++i)r[l]===r[i]&&r.splice(i--,1);return r},Cn=(e,r)=>Ae(e,r).length,Qn=(e,r)=>Ge(Ae(e,r)).length,Fn=(e,r="")=>{let l=S(e),i=S(r);return l===""||i===""?0:l.split(i).length-1},Dn=(e,r,l)=>Ut(e,r,l).length,Mn=(e,r,l)=>Ge(Ut(e,r,l)).length,zn={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function Yn(e){return zn[e]}var Un=e=>S(e).replace(dn,Yn),ka={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},Sn=Object.keys(ka);function Tn(e,r){return e.replace(ka[r],r)}var Nn=e=>Sn.reduce(Tn,S(e)),Rn=(e,r)=>Ge(Ae(e,r)).join(""),jn=(e,r,l)=>Ge(Ut(e,r,l)).join(""),he=(e,r,l)=>S(e).substring(r,l),Gn=(e,r=0)=>he(S(e),0,r),Jn=(e,r=0)=>{let l=S(e);return l?he(l,l.length-r):""},Yt=9007199254740991,Hn="\uFEFF",be=(e,r,l=Yt)=>e<r?r:e>l?l:e,Zt=e=>e===1/0?Yt:e===-1/0?-Yt:~~e,Ba=(e,r=0,l="...")=>{let i=S(e),t=r?be(Zt(r),0,Yt):i.length;return he(i,0,t)+(i.length===t?"":l)},Pn=(e,r=0,l="...")=>{let i=Ba(e,r,"");return i.slice(e,i.lastIndexOf(" "))+l},Vn=(e,r=1)=>{let l=S(e),i=[],t=Math.round(l.length/r);for(let o=0;o<r;o++)i.push(he(l,o*t,t));return i},_n=(e,r=0,l="")=>{let i=S(e),t=r?be(Zt(r),0,Yt):i.length,o=0,a=Jr.test(i)?Gr:jr;return i.replace(a,(s,c)=>{let p=c+s.length;p<=t-l.length&&(o=p)}),i.substring(0,o)+l},Je=(e,r=0)=>{let l=S(e),i=r?be(Zt(r),0,Yt):l.length,t=l;if(r===0)return"";for(let o=0;o<i-1;o++)l+=t;return l},Tr=(e,r=0)=>{let l=e.length,i=r-l;return Je(e,i+1).substring(0,r)},Ea=(e,r="",l=0,i=!1)=>{let t=S(e),o=l?be(Zt(l),0,Yt):t.length,a=r.length,s=o-t.length,c=s;if(s<=0||a===0)return t;let p=Tr(r,c);return i?p+t:t+p},On=(e,r=" ",l=0)=>Ea(e,r,l,!0),Ln=(e,r=" ",l=0)=>Ea(e,r,l,!1),Wn=(e,r="",l=0)=>{let i=S(e),t=l?be(Zt(l),0,Yt):i.length,o=r.length,a=t-i.length,s=Zt(a/2),c=a%2;return a<=0||o===0?i:Tr(r,s)+i+Tr(r,s+c)},Kn=(e,r="",l=0)=>{let i=S(e);return i.substring(0,l)+r+i.substring(l)},Xn=Array.prototype.reduce,qn=Array.prototype.reduceRight,He=(e,r)=>ya(Ia(e,r),r),ya=(e,r)=>{let l=S(e);if(!r)return l.replace(sn,"");if(r===""||l==="")return l;typeof r!="string"&&(r="");let i=!0;return Xn.call(l,(t,o)=>i&&r.includes(o)?t:(i=!1,t+o),"")},Ia=(e,r)=>{let l=S(e);if(!r)return l.replace(cn,"");if(r===""||l==="")return l;typeof r!="string"&&(r="");let i=!0;return qn.call(l,(t,o)=>i&&r.includes(o)?t:(i=!1,o+t),"")},Zn=(e,r,l)=>S(e).endsWith(r,l),$n=e=>fn.test(S(e)),tl=e=>gn.test(S(e)),el=e=>pn.test(S(e)),ol=(e,r=!0)=>r?S(e).length===0:He(e).length===0,Ca=e=>He(e).length===0,rl=e=>Pr(e)===e,al=e=>wa(e)===e,il=(e,r,l)=>S(e).startsWith(r,l),nl=e=>S(e).replace(mn,""),ll=(e,r=[])=>{let l=S(e),i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return l.replace(i,(t,o)=>r.includes(o)?t:"")},ct={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function sl(e,r){let l=1,i=e.length,t,o="",a,s,c,p,d,m;for(let f=0;f<i;f++)if(typeof e[f]=="string")o+=e[f];else if(typeof e[f]=="object"){if(a=e[f],a.keys){t=r[l];for(let g=0;g<a.keys.length;g++){if(typeof t>"u")throw new Error(je('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[g],a.keys[g-1]));t=t[a.keys[g]]}}else a.param_no?t=r[a.param_no]:t=r[l++];if(ct.not_type.test(a.type)&&ct.not_primitive.test(a.type)&&t instanceof Function&&(t=t()),ct.numeric_arg.test(a.type)&&typeof t!="number"&&isNaN(t))throw new TypeError(je("[sprintf] expecting number but found %T"));switch(ct.number.test(a.type)&&(d=t>=0),a.type){case"b":t=parseInt(t,10).toString(2);break;case"c":t=String.fromCharCode(parseInt(t,10));break;case"d":case"i":t=parseInt(t,10);break;case"j":t=JSON.stringify(t,null,a.width?parseInt(a.width):0);break;case"e":t=a.precision?parseFloat(t).toExponential(a.precision):parseFloat(t).toExponential();break;case"f":t=a.precision?parseFloat(t).toFixed(a.precision):parseFloat(t);break;case"g":t=a.precision?String(Number(t.toPrecision(a.precision))):parseFloat(t);break;case"o":t=(parseInt(t,10)>>>0).toString(8);break;case"s":t=String(t),t=a.precision?t.substring(0,a.precision):t;break;case"t":t=String(!!t),t=a.precision?t.substring(0,a.precision):t;break;case"T":t=Object.prototype.toString.call(t).slice(8,-1).toLowerCase(),t=a.precision?t.substring(0,a.precision):t;break;case"u":t=parseInt(t,10)>>>0;break;case"v":t=t.valueOf(),t=a.precision?t.substring(0,a.precision):t;break;case"x":t=(parseInt(t,10)>>>0).toString(16);break;case"X":t=(parseInt(t,10)>>>0).toString(16).toUpperCase();break}ct.json.test(a.type)?o+=t:(ct.number.test(a.type)&&(!d||a.sign)?(m=d?"+":"-",t=t.toString().replace(ct.sign,"")):m="",c=a.pad_char?a.pad_char==="0"?"0":a.pad_char.charAt(1):" ",p=a.width-(m+t).length,s=a.width&&p>0?c.repeat(p):"",o+=a.align?m+t+s:c==="0"?m+s+t:s+m+t)}return o}var Sr=Object.create(null);function cl(e){if(Sr[e])return Sr[e];let r=e,l,i=[],t=0;for(;r;){if((l=ct.text.exec(r))!==null)i.push(l[0]);else if((l=ct.modulo.exec(r))!==null)i.push("%");else if((l=ct.placeholder.exec(r))!==null){if(l[2]){t|=1;let o=[],a=l[2],s=[];if((s=ct.key.exec(a))!==null)for(o.push(s[1]);(a=a.substring(s[0].length))!=="";)if((s=ct.key_access.exec(a))!==null)o.push(s[1]);else if((s=ct.index_access.exec(a))!==null)o.push(s[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");l[2]=o}else t|=2;if(t===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:l[0],param_no:l[1],keys:l[2],sign:l[3],pad_char:l[4],align:l[5],width:l[6],precision:l[7],type:l[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");r=r.substring(l[0].length)}return Sr[e]=i}var je=e=>sl(cl(e),arguments),pl=(e,r)=>je.apply(null,[e].concat(r||[])),dl=(e,r,l)=>S(e).includes(r,l),ml=(e,r=void 0,l=void 0,i=!0)=>S(e).split(r,l).map(t=>i?t.trim():t).filter(t=>i?!Ca(t):!0),fl=(e,r=null,l="")=>{let i=S(e),t;return r?(t=new RegExp(r,"g"),i.replace(t,l)):i},gl=(e,r="div")=>`<${r}>${S(e)}</${r}>`,ul=(e,r="",l="")=>r+S(e)+l,Al=e=>typeof e=="string",hl=(e,r,l="")=>{let i=S(e),t;if(!(r instanceof RegExp)){if(t=r?He(S(r)):"",!t)return!1;r=new RegExp(t,l)}return r.test(i)},bl=(e,r="",l=1)=>S(e)+Je(r,l),xl=(e,r="",l=1)=>Je(r,l)+S(e),vl=e=>{let r=S(e);return r===""?r:r[0]===Hn?r.substring(1):r},wl=(e,r=5,l="...")=>e&&`${e.substring(0,r)}${l}${e.substring(e.length-r)}`,D={camelCase:un,capitalize:Hr,chars:Ae,count:In,countChars:Cn,countUniqueChars:Qn,countSubstr:Fn,countWords:Dn,countUniqueWords:Mn,dashedName:An,decapitalize:hn,kebab:bn,lower:Pr,reverse:xn,shuffle:wn,snake:kn,swap:En,title:yn,upper:wa,words:Ut,wrap:ul,wrapTag:gl,escapeHtml:Un,unescapeHtml:Nn,unique:Rn,uniqueWords:jn,substring:he,first:Gn,last:Jn,truncate:Ba,truncateWithAlign:Pn,slice:Vn,prune:_n,repeat:Je,pad:Wn,lpad:On,rpad:Ln,insert:Kn,trim:He,ltrim:ya,rtrim:Ia,endsWith:Zn,isAlpha:$n,isAlphaDigit:tl,isDigit:el,isBlank:ol,isEmpty:Ca,isLower:rl,isUpper:al,startsWith:il,stripTags:ll,stripTagsAll:nl,sprintf:je,vsprintf:pl,includes:dl,split:ml,strip:fl,isString:Al,matches:hl,append:bl,prepend:xl,stripBoom:vl,shorten:wl},Jt=class{constructor(r="",{mutable:l=!0}={}){this.value=r.toString(),this.mutable=l}[Symbol.toPrimitive](r){return r==="number"?+this.value:this.value}get[Symbol.toStringTag](){return"Str"}val(r){return typeof r>"u"||r===null?this.value:(this.value=r.toString(),this)}get length(){return this.value.length}immutable(r=!0){this.mutable=!r}toString(){return this.value}_result(r){return this.mutable?(this.value=r,this):Vr(r)}camelCase(){return this._result(D.camelCase(this.value))}capitalize(r){return this._result(D.capitalize(this.value,r))}chars(r){return this._result(D.chars(this.value,r))}count(){return D.count(this.value)}countChars(r){return D.countChars(this.value,r)}countUniqueChars(r){return D.countUniqueChars(this.value,r)}countSubstr(r){return D.countSubstr(this.value,r)}countWords(r,l){return D.countChars(this.value,r,l)}countUniqueWords(r,l){return D.countUniqueChars(this.value,r,l)}dashedName(){return this._result(D.dashedName(this.value))}decapitalize(){return this._result(D.decapitalize(this.value))}endsWith(r,l){return D.endsWith(this.value,r,l)}escapeHtml(){return this._result(D.escapeHtml(this.value))}first(){return this._result(D.first(this.value))}includes(r,l){return D.includes(this.value,r,l)}insert(r,l){return this._result(D.insert(this.value,r,l))}isAlpha(){return D.isAlpha(this.value)}isAlphaDigit(){return D.isAlphaDigit(this.value)}isBlank(r){return D.isBlank(this.value,r)}isDigit(){return D.isDigit(this.value)}isEmpty(){return D.isEmpty(this.value)}isLower(){return D.isLower(this.value)}static isString(r){return D.isString(r)}isUpper(){return D.isUpper(this.value)}kebab(r){return this._result(D.kebab(this.value,r))}last(r){return this._result(D.last(this.value,r))}lower(){return this._result(D.lower(this.value))}matches(r,l){return D.matches(this.value,r,l)}pad(r,l){return this._result(D.pad(this.value,r,l))}lpad(r,l){return this._result(D.lpad(this.value,r,l))}rpad(r,l){return this._result(D.rpad(this.value,r,l))}prune(r,l){return this._result(D.prune(this.value,r,l))}repeat(r){return this._result(D.repeat(this.value,r))}append(r,l){return this._result(D.append(this.value,r,l))}prepend(r,l){return this._result(D.prepend(this.value,r,l))}reverse(r){return this._result(D.reverse(this.value,r))}shuffle(){return this._result(D.shuffle(this.value))}slice(r){return this._result(D.slice(this.value,r))}snake(){return this._result(D.snake(this.value))}split(r,l,i){return this._result(D.split(this.value,r,l,i))}sprintf(...r){return this._result(D.sprintf(this.value,...r))}vsprintf(...r){return this._result(D.vsprintf(this.value,...r))}startsWith(r,l){return D.startsWith(this.value,r,l)}stripBoom(){return this._result(D.stripBoom(this.value))}stripTags(r){return this._result(D.stripTags(this.value,r))}stripTagsAll(){return this._result(D.stripTagsAll(this.value))}strip(r,l){return this._result(D.strip(this.value,r,l))}substring(r,l){return this._result(D.substring(this.value,r,l))}swap(){return this._result(D.swap(this.value))}title(r,l){return this._result(D.title(this.value,r,l))}trim(r){return this._result(D.trim(this.value,r))}ltrim(r){return this._result(D.ltrim(this.value,r))}rtrim(r){return this._result(D.rtrim(this.value,r))}truncate(r,l){return this._result(D.truncate(this.value,r,l))}truncateWithAlign(r,l){return this._result(D.truncateWithAlign(this.value,r,l))}unescapeHtml(){return this._result(D.unescapeHtml(this.value))}unique(r){return this._result(D.unique(this.value,r))}uniqueWords(r,l){return this._result(D.uniqueWords(this.value,r,l))}upper(){return this._result(D.upper(this.value))}words(r,l){return D.words(this.value,r,l)}wrap(r,l){return this._result(D.wrap(this.value,r,l))}wrapTag(r){return this._result(D.wrapTag(this.value,r))}shorten(r,l){return this._result(D.shorten(this.value,r,l))}};Object.assign(Jt,D);var Vr=e=>new Jt(e),kl="0.5.0",Bl="08.05.2024, 14:20:26",El=()=>{console.info(`%c String %c v${kl} %c ${Bl} `,"color: #000000; font-weight: bold; background: #fff200","color: white; background: darkgreen","color: white; background: #0080fe;")};Jt.info=El;globalThis.Str=Jt;globalThis.str=Vr;var yl=["opacity","zIndex"];function Il(){return null}function Cl(e){return typeof e=="string"||typeof e=="boolean"||typeof e=="number"}function re(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function Ql(e){let r=getComputedStyle(e);return!re(e)||+r.opacity==0||e.hidden||r.visibility==="hidden"}function M(e){return e==null}function it(e){return e.replace(/-([a-z])/g,function(r,l){return l.toUpperCase()})}function Qt(e){let r;return!e||Object.prototype.toString.call(e)!=="[object Object]"?!1:(r=e.prototype!==void 0,r?r.constructor&&typeof r.constructor=="function":!0)}function ie(e){for(let r in e)if(St(e,r))return!1;return!0}function ne(e){return e instanceof Object&&"length"in e}function ae(e,r){return r=r||" ",e.split(r).map(function(l){return(""+l).trim()}).filter(function(l){return l!==""})}function $t(e,r){return r||(r=[0,""]),e=String(e),r[0]=parseFloat(e),r[1]=e.match(/[\d.\-+]*\s*(.*)/)[1]||"",r}function Ua(e,r){let l=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn|fr|lh|cqw|cqh|cqi|cqb|cqmin|cqmax|q)?$/.exec(e);return typeof l[1]<"u"?l[1]:r}function Qa(e,r,l){r=it(r),["scrollLeft","scrollTop"].indexOf(r)>-1?e[r]=parseInt(l):e.style[r]=isNaN(l)||yl.indexOf(""+r)>-1?l:l+"px"}function Sa(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}function Fl(e){try{return JSON.parse(e)}catch{return e}}function Dl(e,r,l){let i;return M(l)&&e.nodeType===1&&(i="data-"+r.replace(/[A-Z]/g,"-$&").toLowerCase(),l=e.getAttribute(i),typeof l=="string"?(l=Fl(l),Ft.set(e,r,l)):l=void 0),l}function _r(e){return typeof e!="string"?void 0:e.replace(/-/g,"").toLowerCase()}function St(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function Fa(e){let r=e||globalThis.location.hostname;return r==="localhost"||r==="127.0.0.1"||r==="[::1]"||r===""||r.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)!==null}function Ml(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function zl(e){let r=e||globalThis.location.hostname;return/(^localhost)|(^127\.)|(^192\.168\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2\d\.)|(^172\.3[0-1]\.)|(^::1$)|(^[fF][cCdD])/.test(r)}var at=Element.prototype.matches,h=(e,r)=>new h.init(e,r);h.version="1.0.0";h.build_time="14.01.2025, 11:19:35";h.info=()=>console.info(`%c M4Q %c v${h.version} %c ${h.build_time} `,"color: white; font-weight: bold; background: #fd6a02","color: white; background: darkgreen","color: white; background: #0080fe;");h.fn=h.prototype=Object.create(Array.prototype);h.prototype.constructor=h;h.prototype.uid="";h.extend=h.fn.extend=function(){let e,r,l=arguments[0]||{},i=1,t=arguments.length;for(typeof l!="object"&&typeof l!="function"&&(l={}),i===t&&(l=this,i--);i<t;i++)if((e=arguments[i])!=null)for(r in e)St(e,r)&&(l[r]=e[r]);return l};h.assign=function(){let e,r,l=arguments[0]||{},i=1,t=arguments.length;for(typeof l!="object"&&typeof l!="function"&&(l={}),i===t&&(l=this,i--);i<t;i++)if((e=arguments[i])!=null)for(r in e)St(e,r)&&e[r]!==void 0&&(l[r]=e[r]);return l};(function(e){try{let s=new Blob([`
            var fakeIdToId = {};
            onmessage = function (event) {
                var data = event.data,
                    name = data.name,
                    fakeId = data.fakeId,
                    time;
                if(data.hasOwnProperty('time')) {
                    time = data.time;
                }
                switch (name) {
                    case 'setInterval':
                        fakeIdToId[fakeId] = setInterval(function () {
                            postMessage({fakeId: fakeId});
                        }, time);
                        break;
                    case 'clearInterval':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearInterval(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                    case 'setTimeout':
                        fakeIdToId[fakeId] = setTimeout(function () {
                            postMessage({fakeId: fakeId});
                            if (fakeIdToId.hasOwnProperty (fakeId)) {
                                delete fakeIdToId[fakeId];
                            }
                        }, time);
                        break;
                    case 'clearTimeout':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearTimeout(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                }
            }
        `]);e=window.URL.createObjectURL(s)}catch{}let r,l={},i=0,t=2147483647,o="";function a(){do i===t?i=0:i++;while(l.hasOwnProperty(i));return i}if(!(typeof Worker>"u"))try{r=new Worker(e),window.setInterval=function(s,c){let p=a();return l[p]={callback:s,parameters:Array.prototype.slice.call(arguments,2)},r.postMessage({name:"setInterval",fakeId:p,time:c}),p},window.clearInterval=function(s){l.hasOwnProperty(s)&&(delete l[s],r.postMessage({name:"clearInterval",fakeId:s}))},window.setTimeout=function(s,c){let p=a();return l[p]={callback:s,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},r.postMessage({name:"setTimeout",fakeId:p,time:c}),p},window.clearTimeout=function(s){l.hasOwnProperty(s)&&(delete l[s],r.postMessage({name:"clearTimeout",fakeId:s}))},window.setImmediate=function(s){return setTimeout(s,0)},window.clearImmediate=function(s){clearTimeout(s)},r.onmessage=function(s){let c=s.data,p=c.fakeId,d,m,f;if(l.hasOwnProperty(p)&&(d=l[p],f=d.callback,m=d.parameters,d.hasOwnProperty("isTimeout")&&d.isTimeout&&delete l[p]),typeof f=="string")try{f=new Function(f)}catch(g){console.error(o+"Error parsing callback code string: ",g)}typeof f=="function"&&f.apply(window,m)},r.onerror=function(s){console.error(s)}}catch{console.log("Can't create worker for Intervals, use standard functions.")}})();h.fn.extend({index:function(e){let r,l=-1;return this.length===0||(M(e)?r=this[0]:e instanceof h&&e.length>0?r=e[0]:typeof e=="string"?r=h(e)[0]:r=void 0,M(r))||r&&r.parentNode&&h.each(r.parentNode.children,function(i){this===r&&(l=i)}),l},indexOf:function(e){let r,l=-1;return this.length===0||(M(e)?r=this[0]:e instanceof h&&e.length>0?r=e[0]:typeof e=="string"?r=h(e)[0]:r=void 0,M(r))||this.each(function(i){this===r&&(l=i)}),l},get:function(e){return e===void 0?this.items():e<0?this[e+this.length]:this[e]},eq:function(e){return!M(e)&&this.length>0?h.extend(h(this.get(e)),{_prevObj:this}):this},is:function(e){let r=!1;return this.length===0?!1:e instanceof h?this.same(e):(e===":selected"?this.each(function(){this.selected&&(r=!0)}):e===":checked"?this.each(function(){this.checked&&(r=!0)}):e===":visible"?this.each(function(){re(this)&&(r=!0)}):e===":hidden"?this.each(function(){let l=getComputedStyle(this);(this.getAttribute("type")==="hidden"||this.hidden||l.display==="none"||l.visibility==="hidden"||parseInt(l.opacity)===0)&&(r=!0)}):typeof e=="string"&&[":selected"].indexOf(e)===-1?this.each(function(){at.call(this,e)&&(r=!0)}):ne(e)?this.each(function(){let l=this;h.each(e,function(){l===this&&(r=!0)})}):typeof e=="object"&&e.nodeType===1&&this.each(function(){this===e&&(r=!0)}),r)},same:function(e){let r=!0;return e instanceof h||(e=h(e)),this.length!==e.length?!1:(this.each(function(){e.items().indexOf(this)===-1&&(r=!1)}),r)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){let e=this.filter(function(r,l){return l%2===0});return h.extend(e,{_prevObj:this})},even:function(){let e=this.filter(function(r,l){return l%2!==0});return h.extend(e,{_prevObj:this})},filter:function(e){if(typeof e=="string"){let r=e;e=function(l){return at.call(l,r)}}return h.extend(h.merge(h(),[].filter.call(this,e)),{_prevObj:this})},find:function(e){let r=[],l;return e instanceof h?e:(this.length===0?l=this:(this.each(function(){let i=this;typeof i.querySelectorAll>"u"||(r=r.concat([].slice.call(i.querySelectorAll(e))))}),l=h.merge(h(),r)),h.extend(l,{_prevObj:this}))},contains:function(e){return this.find(e).length>0},children:function(e){let r,l=[];return e instanceof h?e:(this.each(function(){let i=this;for(r=0;r<i.children.length;r++)i.children[r].nodeType===1&&l.push(i.children[r])}),l=e?l.filter(function(i){return at.call(i,e)}):l,h.extend(h.merge(h(),l),{_prevObj:this}))},parent:function(e){let r=[];if(this.length!==0)return e instanceof h?e:(this.each(function(){this.parentNode&&r.indexOf(this.parentNode)===-1&&r.push(this.parentNode)}),r=e?r.filter(function(l){return at.call(l,e)}):r,h.extend(h.merge(h(),r),{_prevObj:this}))},parents:function(e){let r=[];if(this.length!==0)return e instanceof h?e:(this.each(function(){let l=this.parentNode;for(;l;)l.nodeType===1&&r.indexOf(l)===-1&&(M(e)||at.call(l,e))&&r.push(l),l=l.parentNode}),h.extend(h.merge(h(),r),{_prevObj:this}))},siblings:function(e){let r=[];if(this.length!==0)return e instanceof h?e:(this.each(function(){let l=this;l.parentNode&&h.each(l.parentNode.children,function(){l!==this&&r.push(this)})}),e&&(r=r.filter(function(l){return at.call(l,e)})),h.extend(h.merge(h(),r),{_prevObj:this}))},_siblingAll:function(e,r){let l=[];if(this.length!==0)return r instanceof h?r:(this.each(function(){let i=this;for(;i&&(i=i[e],!!i);)l.push(i)}),r&&(l=l.filter(function(i){return at.call(i,r)})),h.extend(h.merge(h(),l),{_prevObj:this}))},_sibling:function(e,r){let l=[];if(this.length!==0)return r instanceof h?r:(this.each(function(){let i=this[e];i&&i.nodeType===1&&l.push(i)}),r&&(l=l.filter(function(i){return at.call(i,r)})),h.extend(h.merge(h(),l),{_prevObj:this}))},prev:function(e){return this._sibling("previousElementSibling",e)},next:function(e){return this._sibling("nextElementSibling",e)},prevAll:function(e){return this._siblingAll("previousElementSibling",e)},nextAll:function(e){return this._siblingAll("nextElementSibling",e)},closest:function(e){let r=[];if(this.length!==0)return e instanceof h?e:e?(this.each(function(){let l=this;for(;l&&l;){if(at.call(l,e)){r.push(l);return}l=l.parentElement}}),h.extend(h.merge(h(),r.reverse()),{_prevObj:this})):this.parent(e)},has:function(e){let r=[];if(this.length!==0)return this.each(function(){h(this).children(e).length>0&&r.push(this)}),h.extend(h.merge(h(),r),{_prevObj:this})},back:function(e){let r;if(e===!0)for(r=this._prevObj;r&&r._prevObj;)r=r._prevObj;else r=this._prevObj?this._prevObj:this;return r}});function Da(e,r=document.body){let l=document.createElement("script");if(l.type="text/javascript",M(e))return h(l);let i=h(e)[0];return i.src?l.src=i.src:l.textContent=i.innerText,i.type&&(l.type=i.type),i.async&&(l.async=i.async),r.appendChild(l),i.parentNode&&i.parentNode.removeChild(i),l}h.extend({script:function(e,r){if(!M(e))if(e instanceof h&&(e=e[0]),e.tagName&&e.tagName==="SCRIPT")Da(e,r);else{let l=h(e).find("script");h.each(l,function(){Da(this,r)})}}});h.fn.extend({script:function(){return this.each(function(){h.script(this)})}});h.fn.extend({_prop:function(e,r){return arguments.length===1?this.length===0?void 0:this[0][e]:(M(r)&&(r=""),this.each(function(){let l=this;l[e]=r,e==="innerHTML"&&h.script(l,l)}))},prop:function(e,r){return arguments.length===1?this._prop(e):this._prop(e,typeof r>"u"?"":r)},val:function(e){return M(e)?this.length===0?void 0:this[0].value:this.each(function(){let r=h(this);typeof this.value<"u"?this.value=e:r.html(e)})},html:function(e){let r=this,l=[];return arguments.length===0?this._prop("innerHTML"):(e instanceof h?e.each(function(){l.push(h(this).outerHTML())}):l.push(e),r._prop("innerHTML",l.join(`
`)),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(e){return arguments.length===0?this._prop("textContent"):this._prop("textContent",typeof e>"u"?"":e)},innerText:function(e){return arguments.length===0?this._prop("innerText"):this._prop("innerText",typeof e>"u"?"":e)},empty:function(){return this.each(function(){typeof this.innerHTML<"u"&&(this.innerHTML="")})},clear:function(){return this.empty()}});h.each=function(e,r){let l=0;if(ne(e))[].forEach.call(e,function(i,t){r.apply(i,[t,i])});else for(let i in e)St(e,i)&&r.apply(e[i],[i,e[i],l++]);return e};h.fn.extend({each:function(e){return h.each(this,e)}});var xe=function(e){this.expando="DATASET:UID:"+e.toUpperCase(),xe.uid++};xe.uid=-1;xe.prototype={cache:function(e){let r=e[this.expando];return r||(r={},Sa(e)&&(e.nodeType?e[this.expando]=r:Object.defineProperty(e,this.expando,{value:r,configurable:!0}))),r},set:function(e,r,l){let i,t=this.cache(e);if(typeof r=="string")t[it(r)]=l;else for(i in r)St(r,i)&&(t[it(i)]=r[i]);return t},get:function(e,r){return r===void 0?this.cache(e):e[this.expando]&&e[this.expando][it(r)]},access:function(e,r,l){return r===void 0||r&&typeof r=="string"&&l===void 0?this.get(e,r):(this.set(e,r,l),l!==void 0?l:r)},remove:function(e,r){let l,i=e[this.expando];if(i!==void 0){if(r!==void 0)for(Array.isArray(r)?r=r.map(it):(r=it(r),r=r in i?[r]:r.match(/[^\x20\t\r\n\f]+/g)||[]),l=r.length;l--;)delete i[r[l]];return(r===void 0||ie(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando]),!0}},hasData:function(e){let r=e[this.expando];return r!==void 0&&!ie(r)}};var Ft=new xe("m4q");h.extend({hasData:function(e){return Ft.hasData(e)},data:function(e,r,l){return Ft.access(e,r,l)},removeData:function(e,r){return Ft.remove(e,r)},dataSet:function(e){if(M(e))return Ft;if(["INTERNAL","M4Q"].indexOf(e.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new xe(e)}});h.fn.extend({data:function(e,r){let l,i,t,o,a,s;if(this.length!==0){if(i=this[0],arguments.length===0){if(this.length&&(t=Ft.get(i),i.nodeType===1))for(o=i.attributes,s=o.length;s--;)o[s]&&(a=o[s].name,a.indexOf("data-")===0&&(a=it(a.slice(5)),Dl(i,a,t[a])));return t}return arguments.length===1?(l=Ft.get(i,e),l===void 0&&i.nodeType===1&&i.hasAttribute("data-"+e)&&(l=i.getAttribute("data-"+e)),l):this.each(function(){Ft.set(this,e,r)})}},removeData:function(e){return this.each(function(){Ft.remove(this,e)})},origin:function(e,r,l){if(this.length===0)return this;if(M(e)&&M(r))return h.data(this[0]);if(M(r)){let i=h.data(this[0],"origin-"+e);return M(i)?l:i}return this.data("origin-"+e,r),this}});h.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:Fa(),isLocalhost:Fa,touchable:Ml(),isPrivateAddress:zl,uniqueId:function(e){let r=new Date().getTime();return M(e)&&(e="m4q"),(e!==""?e+"-":"")+"xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){let i=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(l==="x"?i:i&3|8).toString(16)})},toArray:function(e){let r,l=[];for(r=0;r<e.length;r++)l.push(e[r]);return l},import:function(e){let r=[];return this.each(e,function(){r.push(this)}),this.merge(h(),r)},merge:function(e,r){let l=+r.length,i=0,t=e.length;for(;i<l;i++)e[t++]=r[i];return e.length=t,e},type:function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)]$/,"$1").toLowerCase()},sleep:function(e){for(e+=new Date().getTime();new Date<e;);},isSelector:function(e){if(typeof e!="string")return!1;try{return document.querySelector(e),!0}catch{return!1}},remove:function(e){return h(e).remove()},isPlainObject:Qt,isEmptyObject:ie,isArrayLike:ne,acceptData:Sa,not:M,parseUnit:$t,getUnit:Ua,unit:$t,isVisible:re,isHidden:Ql,matches:function(e,r){return at.call(e,r)},random:function(e,r){return arguments.length===1&&ne(e)?e[Math.floor(Math.random()*e.length)]:Math.floor(Math.random()*(r-e+1)+e)},hasProp:St,dark:globalThis.matchMedia&&globalThis.matchMedia("(prefers-color-scheme: dark)").matches,serializeToArray:function(e){let r=h(e)[0];if(!r||r.nodeName!=="FORM"){console.warn("Element is not a HTMLFromElement");return}let l,i,t=[];for(l=r.elements.length-1;l>=0;l=l-1)if(r.elements[l].name!=="")switch(r.elements[l].nodeName){case"INPUT":switch(r.elements[l].type){case"checkbox":case"radio":r.elements[l].checked&&t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].value));break;case"file":break;default:t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].value))}break;case"TEXTAREA":t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].value));break;case"SELECT":switch(r.elements[l].type){case"select-one":t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].value));break;case"select-multiple":for(i=r.elements[l].options.length-1;i>=0;i=i-1)r.elements[l].options[i].selected&&t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].options[i].value));break}break;case"BUTTON":switch(r.elements[l].type){case"reset":case"submit":case"button":t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].value));break}break}return t},serialize:function(e){return h.serializeToArray(e).join("&")},viewport:function(){let e=window,r=document,l=r.documentElement,i=r.getElementsByTagName("body")[0],t=e.innerWidth||l.clientWidth||i.clientWidth,o=e.innerHeight||l.clientHeight||i.clientHeight;return{width:t,height:o}}});h.fn.extend({items:function(){return h.toArray(this)}});var Yl=Event.prototype.stopPropagation,Ul=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,Yl.apply(this,arguments)};Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,Ul.apply(this,arguments)};Event.prototype.stop=function(e){return e?this.stopImmediatePropagation():this.stopPropagation()};h.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(e){let r,l=-1,i,t;if(this.events.length>0){for(r=0;r<this.events.length;r++)if(this.events[r].handler===null){l=r;break}}return i={element:e.el,event:e.event,handler:e.handler,selector:e.selector,ns:e.ns,id:e.id,options:e.options},l===-1?(this.events.push(i),t=this.events.length-1):(this.events[l]=i,t=l),t},getEventHandler:function(e){if(this.events[e]!==void 0&&this.events[e]!==null)return this.events[e]=null,this.events[e].handler},off:function(){return h.each(this.events,function(){this.element.removeEventListener(this.event,this.handler,!0)}),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(e,r,l){return M(l)&&(l="before"),h.each(ae(e),function(){this.eventHooks[it(l+"-"+this)]=r}),this},removeEventHook:function(e,r){return M(r)&&(r="before"),h.each(ae(e),function(){delete this.eventHooks[it(r+"-"+this)]}),this},removeEventHooks:function(e){let r=this;return M(e)?this.eventHooks={}:h.each(ae(e),function(){delete r.eventHooks[it("before-"+this)],delete r.eventHooks[it("after-"+this)]}),this}});h.fn.extend({on:function(e,r,l,i){if(this.length!==0)return typeof r=="function"&&(i=l,l=r,r=void 0),Qt(i)||(i={}),this.each(function(){let t=this;h.each(ae(e),function(){let o,a=this,s=a.split("."),c=_r(s[0]),p=i.ns?i.ns:s[1],d,m;h.eventUID++,o=function(f){let g=f.target,u=h.eventHooks[it("before-"+c)],A=h.eventHooks[it("after-"+c)];if(typeof u=="function"&&u.call(g,f),!r)l.call(t,f);else for(;g&&g!==t;){if(at.call(g,r)&&(l.call(g,f),f.isPropagationStopped)){f.stopImmediatePropagation();break}g=g.parentNode}typeof A=="function"&&A.call(g,f),i.once&&(d=+h(t).origin("event-"+f.type+(r?":"+r:"")+(p?":"+p:"")),isNaN(d)||h.events.splice(d,1))},Object.defineProperty(o,"name",{value:l.name&&l.name!==""?l.name:"func_event_"+c+"_"+h.eventUID}),m=c+(r?":"+r:"")+(p?":"+p:""),t.addEventListener(c,o,ie(i)?!1:i),d=h.setEventHandler({el:t,event:c,handler:o,selector:r,ns:p,id:h.eventUID,options:ie(i)?!1:i}),h(t).origin("event-"+m,d)})})},one:function(e,r,l,i){return Qt(i)||(i={}),i.once=!0,this.on.apply(this,[e,r,l,i])},off:function(e,r,l){return Qt(r)&&(l=r,r=null),Qt(l)||(l={}),M(e)||e.toLowerCase()==="all"?this.each(function(){let i=this;h.each(h.events,function(){let t=this;t.element===i&&(i.removeEventListener(t.event,t.handler,t.options),t.handler=null,h(i).origin("event-"+name+(t.selector?":"+t.selector:"")+(t.ns?":"+t.ns:""),null))})}):this.each(function(){let i=this;h.each(ae(e),function(){let t=this.split("."),o=_r(t[0]),a=l.ns?l.ns:t[1],s,c;s="event-"+o+(r?":"+r:"")+(a?":"+a:""),c=h(i).origin(s),c!==void 0&&h.events[c].handler&&(i.removeEventListener(o,h.events[c].handler,h.events[c].options),h.events[c].handler=null),h(i).origin(s,null)})})},trigger:function(e,r){return this.fire(e,r)},fire:function(e,r){let l,i;if(this.length!==0)return l=_r(e),["focus","blur"].indexOf(l)>-1?(this[0][l](),this):(i=new CustomEvent(l,{bubbles:!0,cancelable:!0,detail:r}),this.each(function(){this.dispatchEvent(i)}))}});"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach(function(e){h.fn[e]=function(r,l,i){return arguments.length>0?this.on(e,r,l,i):this.fire(e)}});h.fn.extend({hover:function(e,r){return this.mouseenter(e).mouseleave(r||e)}});h.ready=function(e,r){document.addEventListener("DOMContentLoaded",e,r||!1)};h.load=function(e){return h(window).on("load",e)};h.unload=function(e){return h(window).on("unload",e)};h.fn.extend({unload:function(e){return this.length===0||this[0].self!==window?void 0:h.unload(e)}});h.beforeunload=function(e){return typeof e=="string"?h(window).on("beforeunload",function(r){return r.returnValue=e,e}):h(window).on("beforeunload",e)};h.fn.extend({beforeunload:function(e){return this.length===0||this[0].self!==window?void 0:h.beforeunload(e)}});h.fn.extend({ready:function(e){if(this.length&&this[0]===document&&typeof e=="function")return h.ready(e)}});h.ajax=function(e){return new Promise(function(r,l){let i=new XMLHttpRequest,t=(e.method||"GET").toUpperCase(),o=[],a=M(e.async)?!0:e.async,s=e.url,c,p=function(f,g){typeof f=="function"&&f.apply(null,g)},d=function(f){return["GET","JSON"].indexOf(f)!==-1},m=function(f){let g=[];return h.each(f,function(u,A){let b=Cl(A)?A:JSON.stringify(A);g.push(u+"="+b)}),g.join("&")};if(e.data instanceof HTMLFormElement){let f=e.data.getAttribute("action").trim(),g=e.data.getAttribute("method").trim();M(s)&&f&&(s=f),g&&(t=g.toUpperCase())}if(e.timeout&&(i.timeout=e.timeout),e.withCredentials&&(i.withCredentials=e.withCredentials),e.data instanceof HTMLFormElement)c=h.serialize(e.data);else if(e.data instanceof HTMLElement&&e.data.getAttribute("type")&&e.data.getAttribute("type").toLowerCase()==="file"){let f=e.data.getAttribute("name");c=new FormData;for(let g=0;g<e.data.files.length;g++)c.append(f,e.data.files[g])}else Qt(e.data)?c=m(e.data):e.data instanceof FormData||typeof e.data=="string"?c=e.data:(c=new FormData,c.append("_data",JSON.stringify(e.data)));d(t)&&(s+=typeof c=="string"?"?"+c:ie(c)?"":"?"+JSON.stringify(c)),i.open(t,s,a,e.user,e.password),e.headers&&h.each(e.headers,function(f,g){i.setRequestHeader(f,g),o.push(f)}),d(t)||o.indexOf("Content-type")===-1&&e.contentType!==!1&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(c),i.addEventListener("load",function(f){if(i.readyState===4&&i.status<300){let g=e.returnValue&&e.returnValue==="xhr"?i:i.response;if(e.parseJson)try{g=JSON.parse(g)}catch{g={}}p(r,[g]),p(e.onSuccess,[f,i])}else p(l,[i]),p(e.onFail,[f,i]);p(e.onLoad,[f,i])}),h.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],function(){let f=it("on-"+(this==="readystatechange"?"state":this));i.addEventListener(f,function(g){p(e[f],[g,i])})})})};["GET","POST","PUT","PATCH","DELETE","JSON"].forEach(function(e){h[e.toLowerCase()]=function(r,l,i){let t={method:e==="JSON"?"GET":e,url:r,data:l,parseJson:e==="JSON"};return h.ajax(h.extend({},t,i))}});h.fn.extend({load:function(e,r,l){let i=this;return this.length&&this[0].self===window?h.load(e):h.get(e,r,l).then(function(t){i.each(function(){this.innerHTML=t})})}});h.fn.extend({style:function(e,r){let l;function i(t,o,a){return["scrollLeft","scrollTop"].indexOf(o)>-1?h(t)[o]():getComputedStyle(t,a)[o]}if(!(typeof e=="string"&&this.length===0)){if(this.length===0)return this;if(l=this[0],M(e)||e==="all")return getComputedStyle(l,r);{let t={},o=e.split(", ").map(function(a){return(""+a).trim()});return o.length===1?i(l,o[0],r):(h.each(o,function(){let a=this;t[this]=i(l,a,r)}),t)}}},removeStyleProperty:function(e){if(M(e)||this.length===0)return this;let r=e.split(", ").map(function(l){return(""+l).trim()});return this.each(function(){let l=this;h.each(r,function(){l.style.removeProperty(this)})})},css:function(e,r){return e=e||"all",typeof e=="string"&&M(r)?this.style(e):this.each(function(){let l=this;typeof e=="object"?h.each(e,function(i,t){Qa(l,i,t)}):typeof e=="string"&&Qa(l,e,r)})},scrollTop:function(e){return M(e)?this.length===0?void 0:this[0]===window?scrollY:this[0].scrollTop:this.each(function(){this.scrollTop=e})},scrollLeft:function(e){return M(e)?this.length===0?void 0:this[0]===window?scrollX:this[0].scrollLeft:this.each(function(){this.scrollLeft=e})}});h.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(e){return this.hasClass(e)},hasClass:function(e){let r=!1,l=e.split(" ").filter(function(i){return(""+i).trim()!==""});return M(e)?!1:(this.each(function(){let i=this;h.each(l,function(){!r&&i.classList&&i.classList.contains(this)&&(r=!0)})}),r)},clearClasses:function(){return this.each(function(){this.className=""})},cls:function(e){return this.length===0?void 0:e?this[0].className.split(" "):this[0].className},removeClassBy:function(e){return this.each(function(){let r=h(this),l=r.cls(!0);h.each(l,function(){let i=this;i.indexOf(e)>-1&&r.removeClass(i)})})},classNames:function(){let e=Array.prototype.slice.call(arguments,0),r=[];return h.each(e,function(l,i){typeof i=="string"?r.push(i):Qt(i)?h.each(i,function(t,o){o&&r.push(t)}):Il()}),this.each(function(){this.className+=" "+r.join(" ")})}});["add","remove","toggle"].forEach(function(e){h.fn[e+"Class"]=function(r){let l=r?Array.isArray(r)?r:r.split(" ").filter(function(i){return!!i}):[];return l.length?this.each(function(){let i=this;typeof i.classList<"u"?h.each(l,function(o,a){i.classList[e](a)}):i.className+=l.join(" ")}):this}});h.parseHTML=function(e){let r,l,i=[],t,o,a=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof e!="string")return[];if(e=e.trim(),t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=document.location.href,t.head.appendChild(r),o=t.body,l=a.exec(e),l)i.push(document.createElement(l[1]));else{o.innerHTML=e;for(let s=0;s<o.childNodes.length;s++)i.push(o.childNodes[s])}return i};h.fn.extend({_size:function(e,r){if(this.length!==0){if(M(r)){let l=this[0];if(e==="height")return l===window?window.innerHeight:l===document?l.body.clientHeight:parseInt(getComputedStyle(l).height);if(e==="width")return l===window?window.innerWidth:l===document?l.body.clientWidth:parseInt(getComputedStyle(l).width)}return this.each(function(){let l=this;l===window||l===document||(l.style[e]=isNaN(r)?r:r+"px")})}},height:function(e){return this._size("height",e)},width:function(e){return this._size("width",e)},_sizeOut:function(e,r){let l,i,t,o;if(this.length!==0)return!M(r)&&typeof r!="boolean"?this.each(function(){let a=this;if(a===window||a===document)return;let s,c=getComputedStyle(a),p=e==="width"?parseInt(c["border-left-width"])+parseInt(c["border-right-width"]):parseInt(c["border-top-width"])+parseInt(c["border-bottom-width"]),d=e==="width"?parseInt(c["padding-left"])+parseInt(c["padding-right"]):parseInt(c["padding-top"])+parseInt(c["padding-bottom"]);s=h(this)[e](r)[e]()-p-d,a.style[e]=s+"px"}):(l=this[0],i=l[e==="width"?"offsetWidth":"offsetHeight"],t=getComputedStyle(l),o=i+parseInt(t[e==="width"?"margin-left":"margin-top"])+parseInt(t[e==="width"?"margin-right":"margin-bottom"]),r===!0?o:i)},outerWidth:function(e){return this._sizeOut("width",e)},outerHeight:function(e){return this._sizeOut("height",e)},padding:function(e){if(this.length===0)return;let r=getComputedStyle(this[0],e);return{top:parseInt(r["padding-top"]),right:parseInt(r["padding-right"]),bottom:parseInt(r["padding-bottom"]),left:parseInt(r["padding-left"])}},margin:function(e){if(this.length===0)return;let r=getComputedStyle(this[0],e);return{top:parseInt(r["margin-top"]),right:parseInt(r["margin-right"]),bottom:parseInt(r["margin-bottom"]),left:parseInt(r["margin-left"])}},border:function(e){if(this.length===0)return;let r=getComputedStyle(this[0],e);return{top:parseInt(r["border-top-width"]),right:parseInt(r["border-right-width"]),bottom:parseInt(r["border-bottom-width"]),left:parseInt(r["border-left-width"])}}});h.fn.extend({offset:function(e){let r;return M(e)?this.length===0?void 0:(r=this[0].getBoundingClientRect(),{top:r.top+scrollY,left:r.left+scrollX}):this.each(function(){let l=h(this),i=e.top,t=e.left,o=getComputedStyle(this).position,a=l.offset();o==="static"&&l.css("position","relative"),["absolute","fixed"].indexOf(o)===-1&&(i=i-a.top,t=t-a.left),l.css({top:i,left:t})})},position:function(e){let r=0,l=0,i,t;if((M(e)||typeof e!="boolean")&&(e=!1),this.length!==0)return i=this[0],t=getComputedStyle(i),e&&(r=parseInt(t["margin-left"]),l=parseInt(t["margin-top"])),{left:i.offsetLeft-r,top:i.offsetTop-l}},left:function(e,r){if(this.length!==0)return M(e)?this.position(r).left:typeof e=="boolean"?(r=e,this.position(r).left):this.each(function(){h(this).css({left:e})})},top:function(e,r){if(this.length!==0)return M(e)?this.position(r).top:typeof e=="boolean"?(r=e,this.position(r).top):this.each(function(){h(this).css({top:e})})},coord:function(){return this.length===0?void 0:this[0].getBoundingClientRect()},pos:function(){if(this.length!==0)return{top:parseInt(h(this[0]).style("top")),left:parseInt(h(this[0]).style("left"))}}});h.fn.extend({attr:function(e,r){let l={};if(!(this.length===0&&arguments.length===0))return this.length&&arguments.length===0?(h.each(this[0].attributes,function(){l[this.nodeName]=this.nodeValue}),l):arguments.length===1&&typeof e=="string"?this.length&&this[0].nodeType===1&&this[0].hasAttribute(e)?this[0].getAttribute(e):void 0:this.each(function(){let i=this;Qt(e)?h.each(e,function(t,o){i.setAttribute(t,o)}):i.setAttribute(e,r)})},removeAttr:function(e){let r;return M(e)?this.each(function(){let l=this;h.each(this.attributes,function(){l.removeAttribute(this)})}):(r=typeof e=="string"?e.split(",").map(function(l){return l.trim()}):e,this.each(function(){let l=this;h.each(r,function(){l.hasAttribute(this)&&l.removeAttribute(this)})}))},toggleAttr:function(e,r){return this.each(function(){let l=this;M(r)?l.removeAttribute(e):l.setAttribute(e,r)})},id:function(e){return typeof e>"u"?this.length===1?h(this[0]).attr("id"):this.map(r=>h(r).attr("id")):this.each(function(){h(this).attr("id",e)})}});h.extend({meta:function(e){return M(e)?h("meta"):h("meta[name='$name']".replace("$name",e))},metaBy:function(e){return M(e)?h("meta"):h("meta[$name]".replace("$name",e))},doctype:function(){return h("doctype")},html:function(){return h("html")},head:function(){return h("html").find("head")},body:function(){return h("body")},document:function(){return h(document)},window:function(){return h(window)},charset:function(e){if(e){let r=h("meta[charset]");r.length>0&&r.attr("charset",e)}return document.characterSet}});h.extend({bind:(e,r)=>e.bind(r)});(function(e){e.forEach(function(r){["append","prepend"].forEach(function(l){St(r,l)||Object.defineProperty(r,l,{configurable:!0,enumerable:!0,writable:!0,value:function(){let i=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();i.forEach(function(o){let a=o instanceof Node;t.appendChild(a?o:document.createTextNode(String(o)))}),l==="prepend"?this.insertBefore(t,this.firstChild):this.appendChild(t)}})})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);var Ct=function(e){let r;return typeof e=="string"?r=h.isSelector(e)?h(e):h.parseHTML(e):e instanceof HTMLElement?r=[e]:ne(e)&&(r=e),r};h.fn.extend({appendText:function(e){return this.each(function(r,l){l.innerHTML+=e})},prependText:function(e){return this.each(function(r,l){l.innerHTML=e+l.innerHTML})},append:function(e){let r=Ct(e);return this.each(function(l,i){h.each(r,function(){if(i===this)return;let t=l===0?this:this.cloneNode(!0);t.tagName&&t.tagName==="SCRIPT"?h.script(t,i):i.append(t)})})},appendTo:function(e){let r=Ct(e);return this.each(function(){let l=this;h.each(r,function(i,t){l!==this&&t.append(i===0?l:l.cloneNode(!0))})})},prepend:function(e){let r=Ct(e);return this.each(function(l,i){h.each(r,function(){if(i===this)return;let t=l===0?this:this.cloneNode(!0);h.script(t),t.tagName&&t.tagName!=="SCRIPT"&&i.prepend(t)})})},prependTo:function(e){let r=Ct(e);return this.each(function(){let l=this;h.each(r,function(i,t){l!==this&&h(t).prepend(i===0?l:l.cloneNode(!0))})})},insertBefore:function(e){let r=Ct(e);return this.each(function(){let l=this;h.each(r,function(i){if(l===this)return;let t=this.parentNode;t&&t.insertBefore(i===0?l:l.cloneNode(!0),this)})})},insertAfter:function(e){let r=Ct(e);return this.each(function(){let l=this;h.each(r,function(i,t){if(l===this)return;let o=this.parentNode;o&&o.insertBefore(i===0?l:l.cloneNode(!0),t.nextSibling)})})},after:function(e){return this.each(function(){let r=this;typeof e=="string"?r.insertAdjacentHTML("afterend",e):h(e).insertAfter(r)})},before:function(e){return this.each(function(){let r=this;typeof e=="string"?r.insertAdjacentHTML("beforebegin",e):h(e).insertBefore(r)})},clone:function(e,r){let l=[];return M(e)&&(e=!1),M(r)&&(r=!1),this.each(function(){let i=this.cloneNode(e),t=h(i),o;r&&h.hasData(this)&&(o=h(this).data(),h.each(o,function(a,s){t.data(a,s)})),l.push(i)}),h.merge(h(),l)},import:function(e){let r=[];return M(e)&&(e=!1),this.each(function(){r.push(document.importNode(this,e))}),h.merge(h(),r)},adopt:function(){let e=[];return this.each(function(){e.push(document.adoptNode(this))}),h.merge(h(),e)},remove:function(e){let r=0,l,i,t=[];if(this.length!==0){for(i=e?this.filter(function(o){return at.call(o,e)}):this.items();(l=i[r])!=null;r++)l.parentNode&&(t.push(l.parentNode.removeChild(l)),h.removeData(l));return h.merge(h(),t)}},wrap:function(e){if(this.length===0)return;let r=h(Ct(e));if(!r.length)return;let l=[];return this.each(function(){let i,t;for(t=r.clone(!0,!0),t.insertBefore(this),i=t;i.children().length;)i=i.children().eq(0);i.append(this),l.push(t)}),h(l)},wrapAll:function(e){let r,l,i;if(this.length!==0&&(r=h(Ct(e)),!!r.length)){for(l=r.clone(!0,!0),l.insertBefore(this[0]),i=l;i.children().length;)i=i.children().eq(0);return this.each(function(){i.append(this)}),l}},wrapInner:function(e){if(this.length===0)return;let r=h(Ct(e));if(!r.length)return;let l=[];return this.each(function(){let i=h(this),t=i.html(),o=r.clone(!0,!0);i.html(o.html(t)),l.push(o)}),h(l)}});h.extend({animation:{duration:1e3,ease:"linear",elements:{}}});typeof window.setupAnimation=="object"&&h.each(window.setupAnimation,function(e,r){typeof h.animation[e]<"u"&&!M(r)&&(h.animation[e]=r)});var Sl=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],Tl=["opacity","zIndex"],Nl=["opacity","volume"],Rl=["scrollLeft","scrollTop"],jl=["opacity","volume"];function Ta(e){return e instanceof HTMLElement||e instanceof SVGElement}function Gl(e,r){let l=/^(\*=|\+=|-=)/.exec(e);if(!l)return e;let i=Ua(e)||0,t=parseFloat(r),o=parseFloat(e.replace(l[0],""));switch(l[0][0]){case"+":return t+o+i;case"-":return t-o+i;case"*":return t*o+i;case"/":return t/o+i}}function Jl(e,r,l){return typeof e[r]<"u"?Rl.indexOf(r)>-1?r==="scrollLeft"?e===window?scrollX:e.scrollLeft:e===window?scrollY:e.scrollTop:e[r]||0:e.style[r]||getComputedStyle(e,l)[r]}function Hl(e,r,l,i,t){M(t)&&(t=!1),r=it(r),t&&(l=parseInt(l)),Ta(e)?typeof e[r]<"u"?e[r]=l:e.style[r]=r==="transform"||r.toLowerCase().indexOf("color")>-1?l:l+i:e[r]=l}function Pl(e,r,l){h.each(r,function(i,t){Hl(e,i,t[0]+t[2]*l,t[3],t[4])})}function Na(e){if(!Ta(e))return{};let r=e.style.transform||"",l=/(\w+)\(([^)]*)\)/g,i={},t;for(;t=l.exec(r);)i[t[1]]=t[2];return i}function Or(e){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e||"#000000").slice(1).map(function(l){return parseInt(l,16)})}function Vl(e,r){return getComputedStyle(e)[r].replace(/[^\d.,]/g,"").split(",").map(function(l){return parseInt(l)})}function _l(e,r,l){let i=[],t=Na(e);h.each(r,function(o,a){let s=a[0],c=a[1],p=a[2],d=a[3];o=""+o,(o.indexOf("rotate")>-1||o.indexOf("skew")>-1)&&d===""&&(d="deg"),o.indexOf("scale")>-1&&(d=""),o.indexOf("translate")>-1&&d===""&&(d="px"),d==="turn"?i.push(o+"("+c*l+d+")"):i.push(o+"("+(s+p*l)+d+")")}),h.each(t,function(o,a){r[o]===void 0&&i.push(o+"("+a+")")}),e.style.transform=i.join(" ")}function Ol(e,r,l){h.each(r,function(i,t){let o,a=[0,0,0],s;for(o=0;o<3;o++)a[o]=Math.floor(t[0][o]+t[2][o]*l);s="rgb("+a.join(",")+")",e.style[i]=s})}function Ma(e){let r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return e[0]==="#"&&e.length===4?"#"+e.replace(r,function(l,i,t,o){return i+i+t+t+o+o}):e[0]==="#"?e:"#"+e}function za(e,r,l){Pl(e,r.props,l),_l(e,r.transform,l),Ol(e,r.color,l)}function Ll(e,r,l){let i={props:{},transform:{},color:{}},t,o,a,s,c,p,d=Na(e);return M(l)&&(l="normal"),h.each(r,function(m,f){let g=Sl.indexOf(""+m)>-1,u=Tl.indexOf(""+m)>-1,A=(""+m).toLowerCase().indexOf("color")>-1;if(Array.isArray(f)&&f.length===1&&(f=f[0]),Array.isArray(f)?(o=A?Or(Ma(f[0])):$t(f[0]),a=A?Or(Ma(f[1])):$t(f[1])):(g?o=d[m]||m==="scale"?1:0:A?o=Vl(e,m):o=Jl(e,m,void 0),o=A?o:$t(o),a=A?Or(f):$t(Gl(f,Array.isArray(o)?o[0]:o))),jl.indexOf(""+m)>-1&&o[0]===a[0]&&(o[0]=a[0]>0?0:1),l==="reverse"&&(p=o,o=a,a=p),c=e instanceof HTMLElement&&a[1]===""&&!u&&!g?"px":a[1],A)for(s=[0,0,0],t=0;t<3;t++)s[t]=a[t]-o[t];else s=a[0]-o[0];g?i.transform[m]=[o[0],a[0],s,c]:A?i.color[m]=[o,a,s,c]:i.props[m]=[o[0],a[0],s,c,Nl.indexOf(""+m)===-1]}),i}function Ya(e,r,l){return Math.min(Math.max(e,r),l)}var Bt={linear:function(){return function(e){return e}}};Bt.default=Bt.linear;var Lr={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){let r,l=4;for(;e<((r=Math.pow(2,--l))-1)/11;);return 1/Math.pow(4,3-l)-7.5625*Math.pow((r*3-2)/22-e,2)}},Elastic:function(e,r){M(e)&&(e=1),M(r)&&(r=.5);let l=Ya(e,1,10),i=Ya(r,.1,2);return function(t){return t===0||t===1?t:-l*Math.pow(2,10*(t-1))*Math.sin((t-1-i/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/i)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,r){Lr[e]=function(){return function(l){return Math.pow(l,r+2)}}});Object.keys(Lr).forEach(function(e){let r=Lr[e];Bt["easeIn"+e]=r,Bt["easeOut"+e]=function(l,i){return function(t){return 1-r(l,i)(1-t)}},Bt["easeInOut"+e]=function(l,i){return function(t){return t<.5?r(l,i)(t*2)/2:1-r(l,i)(t*-2+2)/2}}});var Wl={id:null,el:null,draw:{},dur:h.animation.duration,ease:h.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function Wr(e){return new Promise(function(r){let l=this,i=h.assign({},Wl,{dur:h.animation.duration,ease:h.animation.ease},e),t=i.id,o=i.el,a=i.draw,s=i.dur,c=i.ease,p=i.loop,d=i.onStart,m=i.onFrame,f=i.onDone,g=i.pause,u=i.dir,A=i.defer,b={},x="linear",v=[],I=Bt.linear,B,k=u==="alternate"?"normal":u,w=!1,E=t||+(performance.now()*Math.pow(10,14));if(M(o))throw new Error("Unknown element!");if(typeof o=="string"&&(o=document.querySelector(o)),typeof a!="function"&&typeof a!="object")throw new Error("Unknown draw object. Must be a function or object!");s===0&&(s=1),u==="alternate"&&typeof p=="number"&&(p*=2),typeof c=="string"?(B=/\(([^)]+)\)/.exec(c),x=c.split("(")[0],v=B?B[1].split(",").map(function(J){return parseFloat(J)}):[],I=Bt[x]||Bt.linear):typeof c=="function"?I=c:I=Bt.linear,h.animation.elements[E]={element:o,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};let y=function(){typeof a=="object"&&(b=Ll(o,a,k)),typeof d=="function"&&d.apply(o),h.animation.elements[E].loop+=1,h.animation.elements[E].started=performance.now(),h.animation.elements[E].duration=s,h.animation.elements[E].id=requestAnimationFrame(z)},U=function(){cancelAnimationFrame(h.animation.elements[E].id),delete h.animation.elements[t],typeof f=="function"&&f.apply(o),r(l)},z=function(J){let H,P,{stop:X,pause:dt,started:At}=h.animation.elements[E];if(h.animation.elements[E].paused&&(At=J-h.animation.elements[E].t*s,h.animation.elements[E].started=At),P=((J-At)/s).toFixed(4),P>1&&(P=1),P<0&&(P=0),H=I.apply(null,v)(P),h.animation.elements[E].t=P,h.animation.elements[E].p=H,dt){h.animation.elements[E].id=requestAnimationFrame(z);return}if(X>0){X===2&&(typeof a=="function"?a.bind(o)(1,1):za(o,b,1)),U();return}typeof a=="function"?a.bind(o)(P,H):za(o,b,H),typeof m=="function"&&m.apply(o,[P,H]),P<1&&(h.animation.elements[E].id=requestAnimationFrame(z)),parseInt(P)===1&&(p?(u==="alternate"&&(k=k==="normal"?"reverse":"normal"),typeof p=="boolean"?setTimeout(function(){y()},g):p>h.animation.elements[E].loop?setTimeout(function(){y()},g):U()):u==="alternate"&&!w?(k=k==="normal"?"reverse":"normal",w=!0,y()):U())};A>0?setTimeout(function(){y()},A):y()})}function te(e,r){let l=h.animation.elements[e];typeof l>"u"||(M(r)&&(r=!0),l.stop=r===!0?2:1,typeof l.onStop=="function"&&l.onStop.apply(l.element))}function Kl(e,r){h.each(h.animation.elements,function(l,i){r?typeof r=="string"?at.call(i.element,r)&&te(l,e):r.length?h.each(r,function(){i.element===this&&te(l,e)}):r instanceof Element&&i.element===r&&te(l,e):te(l,e)})}function ee(e){let r=h.animation.elements[e];typeof r>"u"||(r.pause=1,r.paused=performance.now(),typeof r.onPause=="function"&&r.onPause.apply(r.element))}function Xl(e){h.each(h.animation.elements,function(r,l){e?typeof e=="string"?at.call(l.element,e)&&ee(r):e.length?h.each(e,function(){l.element===this&&ee(r)}):e instanceof Element&&l.element===e&&ee(r):ee(r)})}function oe(e){let r=h.animation.elements[e];typeof r>"u"||(r.pause=0,r.paused=0,typeof r.onResume=="function"&&r.onResume.apply(r.element))}function ql(e){h.each(h.animation.elements,function(r,l){e?typeof e=="string"?at.call(l.element,e)&&oe(r):e.length?h.each(e,function(){l.element===this&&oe(r)}):e instanceof Element&&l.element===e&&oe(r):oe(r)})}var Zl={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};function Ra(e,r){let l=h.extend({},Zl,r);if(typeof l.loop!="boolean"&&l.loop--,!Array.isArray(e))return console.warn("Chain array is not defined!"),!1;let i=function(t,o){return t.then(function(){return typeof l.onChainItem=="function"&&l.onChainItem(o),Wr(o).then(function(){typeof l.onChainItemComplete=="function"&&l.onChainItemComplete(o)})})};e.reduce(i,Promise.resolve()).then(function(){typeof l.onChainComplete=="function"&&l.onChainComplete(),l.loop&&Ra(e,l)})}h.easing={};h.extend(h.easing,Bt);h.extend({animate:function(e){let r,l,i,t,o;return arguments.length>1?(r=h(arguments[0])[0],l=arguments[1],i=arguments[2]||h.animation.duration,t=arguments[3]||h.animation.ease,o=arguments[4],typeof i=="function"&&(o=i,t=h.animation.ease,i=h.animation.duration),typeof t=="function"&&(o=t,t=h.animation.ease),Wr({el:r,draw:l,dur:i,ease:t,onDone:o})):Wr(e)},chain:Ra,stop:te,stopAll:Kl,resume:oe,resumeAll:ql,pause:ee,pauseAll:Xl});h.fn.extend({animate:function(e){let r=this,l,i,t,o,a=e,s;return s=!Array.isArray(e)&&(arguments.length>1||arguments.length===1&&typeof arguments[0].draw>"u"),s?(l=arguments[0],i=arguments[1]||h.animation.duration,t=arguments[2]||h.animation.ease,o=arguments[3],typeof i=="function"&&(o=i,i=h.animation.duration,t=h.animation.ease),typeof t=="function"&&(o=t,t=h.animation.ease),this.each(function(){return h.animate({el:this,draw:l,dur:i,ease:t,onDone:o})})):Array.isArray(e)?(h.each(e,function(){let c=this;r.each(function(){c.el=this,h.animate(c)})}),this):this.each(function(){a.el=this,h.animate(a)})},chain:function(e,r){return this.each(function(){let l=this;h.each(e,function(){this.el=l}),h.chain(e,r)})},stop:function(e){return this.each(function(){let r=this;h.each(h.animation.elements,function(l,i){i.element===r&&te(l,e)})})},pause:function(){return this.each(function(){let e=this;h.each(h.animation.elements,function(r,l){l.element===e&&ee(r)})})},resume:function(){return this.each(function(){let e=this;h.each(h.animation.elements,function(r,l){l.element===e&&oe(r)})})}});h.extend({hidden:function(e,r,l){return e=h(e)[0],typeof r=="string"&&(r=r.toLowerCase()==="true"),typeof r=="function"&&(l=r,r=!e.hidden),e.hidden=r,typeof l=="function"&&(h.bind(l,e),l.call(e,arguments)),this},hide:function(e,r){let l=h(e);e=l[0];let i=e.style.display,t=getComputedStyle(e,null).display;return l.origin("display",{inline:i,css:t}),e.style.display="none",typeof r=="function"&&(h.bind(r,e),r.call(e,arguments)),this},show:function(e,r){let i=h(e).origin("display");if(e=h(e)[0],e.style.display="",i){let t=i.inline||"",o=i.css||"";t&&t!=="none"?e.style.display=t:o==="none"&&(e.style.display="block")}else e.style.display="block";return parseInt(e.style.opacity)===0&&(e.style.opacity="1"),typeof r=="function"&&(h.bind(r,e),r.call(e,arguments)),this},visible:function(e,r,l){return r===void 0&&(r=!0),e.style.visibility=r?"visible":"hidden",typeof l=="function"&&(h.bind(l,e),l.call(e,arguments)),this},toggle:function(e,r){let l=getComputedStyle(e,null).display!=="none"?"hide":"show";return h[l](e,r)}});h.fn.extend({hide:function(){let e;return h.each(arguments,function(){typeof this=="function"&&(e=this)}),this.each(function(){h.hide(this,e)})},show:function(){let e;return h.each(arguments,function(){typeof this=="function"&&(e=this)}),this.each(function(){h.show(this,e)})},visible:function(e,r){return this.each(function(){h.visible(this,e,r)})},toggle:function(e){return this.each(function(){h.toggle(this,e)})},hidden:function(e,r){return this.each(function(){h.hidden(this,e,r)})}});h.extend({fx:{off:!1}});h.fn.extend({fadeIn:function(e,r,l){return this.each(function(){let i=this,t=h(i),o=!(!re(i)||re(i)&&+t.style("opacity")==0);if(M(e)&&M(r)&&M(l)?(l=null,e=h.animation.duration):typeof e=="function"&&(l=e,e=h.animation.duration),typeof r=="function"&&(l=r,r=h.animation.ease),h.fx.off&&(e=0),o)return typeof l=="function"&&h.bind(l,this)(),this;let a=t.origin("display",void 0,"block");return i.style.opacity="0",i.style.display=a,h.animate({el:i,draw:{opacity:1},dur:e,ease:r,onDone:function(){typeof l=="function"&&h.bind(l,this)()}})})},fadeOut:function(e,r,l){return this.each(function(){let i=this,t=h(i);return M(e)&&M(r)&&M(l)?(l=null,e=h.animation.duration):typeof e=="function"&&(l=e,e=h.animation.duration),typeof r=="function"&&(l=r,r=h.animation.ease),t.origin("display",t.style("display")),re(i)?h.animate({el:i,draw:{opacity:0},dur:e,ease:r,onDone:function(){this.style.display="none",typeof l=="function"&&h.bind(l,this)()}}):(typeof l=="function"&&h.bind(l,this)(),this)})},slideUp:function(e,r,l){return this.each(function(){let i=this,t=h(i),o;if(t.height()!==0)return M(e)&&M(r)&&M(l)?(l=null,e=h.animation.duration):typeof e=="function"&&(l=e,e=h.animation.duration),typeof r=="function"&&(l=r,r=h.animation.ease),o=t.height(),t.origin("height",o),t.origin("display",h(i).style("display")),t.css({overflow:"hidden"}),h.animate({el:i,draw:{height:0},dur:e,ease:r,onDone:function(){t.hide().removeStyleProperty("overflow, height"),typeof l=="function"&&h.bind(l,this)()}})})},slideDown:function(e,r,l){return this.each(function(){let i=this,t=h(i),o,a;return M(e)&&M(r)&&M(l)?(l=null,e=h.animation.duration):typeof e=="function"&&(l=e,e=h.animation.duration),typeof r=="function"&&(l=r,r=h.animation.ease),t.show().visible(!1),o=+t.origin("height",void 0,t.height()),parseInt(o)===0&&(o=i.scrollHeight),a=t.origin("display",t.style("display"),"block"),t.height(0).visible(!0),t.css({overflow:"hidden",display:a==="none"?"block":a}),h.animate({el:i,draw:{height:o},dur:e,ease:r,onDone:function(){h(i).removeStyleProperty("overflow, height, visibility"),typeof l=="function"&&h.bind(l,this)()}})})},moveTo:function(e,r,l,i,t){let o={top:r,left:e};return typeof l=="function"&&(t=l,l=h.animation.duration,i=h.animation.ease),typeof i=="function"&&(t=i,i=h.animation.ease),this.each(function(){h.animate({el:this,draw:o,dur:l,ease:i,onDone:t})})},centerTo:function(e,r,l,i,t){return typeof l=="function"&&(t=l,l=h.animation.duration,i=h.animation.ease),typeof i=="function"&&(t=i,i=h.animation.ease),this.each(function(){let o={left:e-this.clientWidth/2,top:r-this.clientHeight/2};h.animate({el:this,draw:o,dur:l,ease:i,onDone:t})})},colorTo:function(e,r,l,i){let t={color:e};return typeof r=="function"&&(i=r,r=h.animation.duration,l=h.animation.ease),typeof l=="function"&&(i=l,l=h.animation.ease),this.each(function(){h.animate({el:this,draw:t,dur:r,ease:l,onDone:i})})},backgroundTo:function(e,r,l,i){let t={backgroundColor:e};return typeof r=="function"&&(i=r,r=h.animation.duration,l=h.animation.ease),typeof l=="function"&&(i=l,l=h.animation.ease),this.each(function(){h.animate({el:this,draw:t,dur:r,ease:l,onDone:i})})},zoomIn:function(e,r,l){let i={scale:[0,1]};return typeof e=="function"&&(l=e,e=h.animation.duration,r=h.animation.ease),typeof r=="function"&&(l=r,r=h.animation.ease),this.each(function(){h.animate({el:this,draw:i,dur:e,ease:r,onDone:l})})},zoomOut:function(e=1e3,r="linear",l=()=>{}){return typeof e=="function"&&(l=e,e=h.animation.duration,r=h.animation.ease),typeof r=="function"&&(l=r,r=h.animation.ease),this.each(function(){h.animate({el:this,draw:{scale:0},dur:e,ease:r,onDone:l})})}});h.init=function(e,r){let l,i=this;if(typeof e=="string"&&(e=e.trim()),this.uid=h.uniqueId(),!e)return this;if(typeof e=="function")return h.ready(e);if(e instanceof Element)return this.push(e),this;if(e instanceof h)return h.each(e,function(){i.push(this)}),this;if(e==="window"&&(e=window),e==="document"&&(e=document),e==="body"&&(e=document.body),e==="html"&&(e=document.documentElement),e==="doctype"&&(e=document.doctype),e&&(e.nodeType||e.self===window))return this.push(e),this;if(ne(e))return h.each(e,function(){h(this).each(function(){i.push(this)})}),this;if(typeof e!="string"&&e.self&&e.self!==window)return this;if(e==="#"||e===".")return console.error("Selector can't be # or ."),this;if(e[0]==="@")h("[data-role]").each(function(){ae(h(this).attr("data-role"),",").indexOf(e.slice(1))>-1&&i.push(this)});else if(l=h.parseHTML(e),l.length===1&&l[0].nodeType===3)try{[].push.apply(this,document.querySelectorAll(e))}catch{}else h.merge(this,l);return r!==void 0&&(r instanceof h?this.each(function(){h(r).append(i)}):r instanceof HTMLElement?h(r).append(i):Qt(r)&&h.each(this,function(){for(let t in r)St(r,t)&&this.setAttribute(t,r[t])})),this};h.init.prototype=h.fn;globalThis.$=h;globalThis.Dom=h;var Kr={};ma(Kr,{EVENTS:()=>Tt,info:()=>ps,useCompose:()=>ns,useCurry:()=>is,useDebounce:()=>rs,useEvent:()=>es,useMemo:()=>os,usePipe:()=>as,useState:()=>ts,useThrottle:()=>ls});var ve=[],$l=-1,ts=(e,r)=>{let l=$l++;ve[l]={value:e};let i=t=>{let o=ve[l].value;ve[l].value=typeof t=="function"?t(o):t,typeof r=="function"&&r(ve[l].value,o)};return[ve[l],i]},Tt;(function(e){e.LOAD="load",e.VIEWPORT="viewport",e.ATTRIBUTE="attribute",e.CHILDREN="children",e.DATA="data"})(Tt||(Tt={}));var es=({event:e,root:r,target:l,effect:i})=>{let t=typeof l=="string"?document.querySelector(l):l;if(typeof i!="function")throw Error("Side effect must be a function!");if(!t)throw Error("Please specify a target element!");switch(e){case Tt.LOAD:{new MutationObserver((a,s)=>{let c=document.querySelector(l);c!==null&&(i(c),s.disconnect())}).observe(document.body,{childList:!0,subtree:!0});break}case Tt.VIEWPORT:{let a={root:r instanceof HTMLElement?r:typeof r=="string"?document.querySelector(r):null,rootMargin:"0px",threshold:.5};new IntersectionObserver((c,p)=>{for(let d of c)d.isIntersecting&&i(t)},a).observe(t);break}case Tt.ATTRIBUTE:{new MutationObserver(a=>{for(let s of a)s.target===t&&s.type==="attributes"&&i(t,s.attributeName,t.getAttribute(s.attributeName))}).observe(t,{attributes:!0});break}case Tt.CHILDREN:{new MutationObserver(a=>{for(let s of a)s.target===t&&s.type==="childList"&&i(t,s.addedNodes,s.removedNodes)}).observe(t,{childList:!0,subtree:!0});break}case Tt.DATA:{new MutationObserver(a=>{for(let s of a)s.target===t&&s.type==="characterData"&&i(t,t.textContent)}).observe(t,{characterData:!0});break}default:t instanceof HTMLElement&&t.addEventListener(e,o=>{i(t,o)})}},os=e=>{let r=new Map;return(...l)=>{let i=`${l.length}${l.join("+")}`;if(r.has(i))return r.get(i);let t=e.apply(null,l);return r.set(i,t),t}},rs=(e,r)=>{let l;return function(...i){let t=()=>{e.apply(this,i)};clearTimeout(l),l=setTimeout(t,r)}},as=(...e)=>r=>e.reduce((l,i)=>i(l),r),is=e=>function r(...l){return l.length>=e.length?e.apply(this,l):function(...i){return r.apply(this,l.concat(i))}},ns=(...e)=>r=>e.reduceRight((l,i)=>i(l),r),ls=(e,r)=>{let l=!1,i,t;function o(...a){if(l){i=this,t=a;return}e.apply(this,a),l=!0,setTimeout(()=>{t&&(o.apply(i,t),t=i=null)},r)}return o},ss="0.10.0",cs="09.07.2024, 13:04:50",ps=()=>{console.info(`%c Hooks %c v${ss} %c ${cs} `,"color: #ffffff; font-weight: bold; background: #5c2c05","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Hooks=Kr;var $=class{constructor(r=0,l=0,i=0){this.h=r,this.s=l,this.v=i}toString(){return"hsv("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.v*100)+"%"].join(", ")+")"}},ce=class{constructor(r=0,l=0,i=0){this.h=r,this.s=(""+l).includes("%")?parseInt(l)/100:l,this.l=(""+i).includes("%")?parseInt(i)/100:i}toString(){return"hsl("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%"].join(", ")+")"}},pe=class{constructor(r=0,l=0,i=0,t=0){this.h=r,this.s=(""+l).includes("%")?parseInt(l)/100:l,this.l=(""+i).includes("%")?parseInt(i)/100:i,this.a=t}toString(){return"hsla("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%",parseFloat(this.a).toFixed(2)].join(", ")+")"}},st=class{constructor(r=0,l=0,i=0){this.r=r,this.g=l,this.b=i}toString(){return`rgb(${this.r},${this.g},${this.b})`}},Rt=class{constructor(r=0,l=0,i=0,t=0){this.r=r,this.g=l,this.b=i,this.a=t}toString(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}},de=class{constructor(r=0,l=0,i=0,t=0){this.c=r,this.m=l,this.y=i,this.k=t}toString(){return`cmyk(${this.c},${this.m},${this.y},${this.k})`}},Pt={aliceBlue:"#f0f8ff",antiqueWhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedAlmond:"#ffebcd",blue:"#0000ff",blueViolet:"#8a2be2",brown:"#a52a2a",burlyWood:"#deb887",cadetBlue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerBlue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkBlue:"#00008b",darkCyan:"#008b8b",darkGoldenRod:"#b8860b",darkGray:"#a9a9a9",darkGreen:"#006400",darkKhaki:"#bdb76b",darkMagenta:"#8b008b",darkOliveGreen:"#556b2f",darkOrange:"#ff8c00",darkOrchid:"#9932cc",darkRed:"#8b0000",darkSalmon:"#e9967a",darkSeaGreen:"#8fbc8f",darkSlateBlue:"#483d8b",darkSlateGray:"#2f4f4f",darkTurquoise:"#00ced1",darkViolet:"#9400d3",deepPink:"#ff1493",deepSkyBlue:"#00bfff",dimGray:"#696969",dodgerBlue:"#1e90ff",fireBrick:"#b22222",floralWhite:"#fffaf0",forestGreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostWhite:"#F8F8FF",gold:"#ffd700",goldenRod:"#daa520",gray:"#808080",green:"#008000",greenYellow:"#adff2f",honeyDew:"#f0fff0",hotPink:"#ff69b4",indianRed:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderBlush:"#fff0f5",lawnGreen:"#7cfc00",lemonChiffon:"#fffacd",lightBlue:"#add8e6",lightCoral:"#f08080",lightCyan:"#e0ffff",lightGoldenRodYellow:"#fafad2",lightGray:"#d3d3d3",lightGreen:"#90ee90",lightPink:"#ffb6c1",lightSalmon:"#ffa07a",lightSeaGreen:"#20b2aa",lightSkyBlue:"#87cefa",lightSlateGray:"#778899",lightSteelBlue:"#b0c4de",lightYellow:"#ffffe0",lime:"#00ff00",limeGreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumAquaMarine:"#66cdaa",mediumBlue:"#0000cd",mediumOrchid:"#ba55d3",mediumPurple:"#9370db",mediumSeaGreen:"#3cb371",mediumSlateBlue:"#7b68ee",mediumSpringGreen:"#00fa9a",mediumTurquoise:"#48d1cc",mediumVioletRed:"#c71585",midnightBlue:"#191970",mintCream:"#f5fffa",mistyRose:"#ffe4e1",moccasin:"#ffe4b5",navajoWhite:"#ffdead",navy:"#000080",oldLace:"#fdd5e6",olive:"#808000",oliveDrab:"#6b8e23",orange:"#ffa500",orangeRed:"#ff4500",orchid:"#da70d6",paleGoldenRod:"#eee8aa",paleGreen:"#98fb98",paleTurquoise:"#afeeee",paleVioletRed:"#db7093",papayaWhip:"#ffefd5",peachPuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderBlue:"#b0e0e6",purple:"#800080",rebeccaPurple:"#663399",red:"#ff0000",rosyBrown:"#bc8f8f",royalBlue:"#4169e1",saddleBrown:"#8b4513",salmon:"#fa8072",sandyBrown:"#f4a460",seaGreen:"#2e8b57",seaShell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyBlue:"#87ceeb",slateBlue:"#6a5acd",slateGray:"#708090",snow:"#fffafa",springGreen:"#00ff7f",steelBlue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whiteSmoke:"#f5f5f5",yellow:"#ffff00",yellowGreen:"#9acd32"},Pe={lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},ja={color:function(e,r=Pt,l=void 0){return r[e]!==void 0?r[e]:l},palette:function(e=Pt){return Object.keys(e)},colors:function(e=Pt){return Object.values(e)}},Ga={HSV:$,HSL:ce,HSLA:pe,RGB:st,RGBA:Rt,CMYK:de},W={HEX:"hex",RGB:"rgb",RGBA:"rgba",HSV:"hsv",HSL:"hsl",HSLA:"hsla",CMYK:"cmyk",UNKNOWN:"unknown"},Ve={angle:30,algorithm:1,step:.1,distance:5,tint1:.8,tint2:.4,shade1:.6,shade2:.3,alpha:1,baseLight:"#ffffff",baseDark:"self"};function ds(e,r){let l;switch(r){case"hex":l=e.map(function(i){return Et(i)});break;case"rgb":l=e.map(function(i){return K(i)});break;case"rgba":l=e.map(function(i){return Nt(i,opt.alpha)});break;case"hsl":l=e.map(function(i){return Gt(i)});break;case"hsla":l=e.map(function(i){return se(i,opt.alpha)});break;case"cmyk":l=e.map(function(i){return we(i)});break;default:l=e}return l}function Dt(e,r,l){return Math.max(r,Math.min(e,l))}function ft(e,r,l){return e<r?r:e>l?l:e}function pt(e,r){for(e+=r;e>=360;)e-=360;for(;e<0;)e+=360;return e}var Ja=e=>{let r=c=>/^#([A-Fa-f0-9]{3}){1,2}$/.test(c),l=c=>/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(c),i=c=>/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(c),t=c=>/^hsv\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(c),o=c=>/^hsl\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(c),a=c=>/^hsla\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(c),s=c=>/^cmyk\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(c);return r(e)||l(e)||t(e)||a(e)||a(e)||i(e)||o(e)||s(e)},Ha=(e="hex",r="#000000")=>{let l;return typeof r=="string"&&(l=vt(r)),gt(l)||(l="#000000"),ut(l,e.toLowerCase())},ms=Ha,Be=function(e){if(gt(e)&&typeof e!="string")return e;if(typeof e!="string")throw new Error("Value is not a string!");if(e[0]==="#"&&e.length===4){let r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return"#"+e.replace(r,(l,i,t,o)=>i+i+t+t+o+o)}return e[0]==="#"?e:"#"+e},fs=Be,Zr=e=>{if(e=vt(e),!gt(e))return;let r=K(e);return(r.r*299+r.g*587+r.b*114)/1e3<128},Pa=e=>!Zr(e),fe=e=>vt(e)instanceof $,Ee=e=>vt(e)instanceof ce,Vt=e=>vt(e)instanceof pe,ye=e=>vt(e)instanceof st,jt=e=>vt(e)instanceof Rt,Ie=e=>vt(e)instanceof de,Ce=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),gt=e=>e?typeof e=="string"?Ja(e):Ce(e)||ye(e)||jt(e)||fe(e)||Ee(e)||Vt(e)||Ie(e):!1,yt=e=>Ce(e)?W.HEX:ye(e)?W.RGB:jt(e)?W.RGBA:fe(e)?W.HSV:Ee(e)?W.HSL:Vt(e)?W.HSLA:Ie(e)?W.CMYK:W.UNKNOWN,Va=(e,r)=>!gt(e)||!gt(r)?!1:Et(e)===Et(r),_a=e=>e.toString(),Oe=e=>{let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Be(e)),l=[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)];return r?new st(...l):null},Le=e=>"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1),xt=e=>{let r=new $,l,i,t,o=e.r/255,a=e.g/255,s=e.b/255,c=Math.max(o,a,s),p=Math.min(o,a,s),d=c-p;return t=c,c===0?i=0:i=1-p/c,c===p?l=0:c===o&&a>=s?l=60*((a-s)/d):c===o&&a<s?l=60*((a-s)/d)+360:c===a?l=60*((s-o)/d)+120:c===s?l=60*((o-a)/d)+240:l=0,r.h=l,r.s=i,r.v=t,r},Mt=e=>{let r,l,i,t=e.h,o=e.s*100,a=e.v*100,s=Math.floor(t/60),c=(100-o)*a/100,p=(a-c)*(t%60/60),d=c+p,m=a-p;switch(s){case 0:r=a,l=d,i=c;break;case 1:r=m,l=a,i=c;break;case 2:r=c,l=a,i=d;break;case 3:r=c,l=m,i=a;break;case 4:r=d,l=c,i=a;break;case 5:r=a,l=c,i=m;break}return new st(Math.round(r*255/100),Math.round(l*255/100),Math.round(i*255/100))},gs=e=>Le(Mt(e)),us=e=>xt(Oe(e)),$r=e=>{let r=new de,l=e.r/255,i=e.g/255,t=e.b/255;return r.k=Math.min(1-l,1-i,1-t),r.c=1-r.k===0?0:(1-l-r.k)/(1-r.k),r.m=1-r.k===0?0:(1-i-r.k)/(1-r.k),r.y=1-r.k===0?0:(1-t-r.k)/(1-r.k),r.c=Math.round(r.c*100),r.m=Math.round(r.m*100),r.y=Math.round(r.y*100),r.k=Math.round(r.k*100),r},ta=e=>{let r=Math.floor(255*(1-e.c/100)*(1-e.k/100)),l=Math.ceil(255*(1-e.m/100)*(1-e.k/100)),i=Math.ceil(255*(1-e.y/100)*(1-e.k/100));return new st(r,l,i)},We=e=>{let r,l,i,t;return r=parseInt(e.h),i=(2-e.s)*e.v,l=e.s*e.v,i===0?l=0:(t=i<=1?i:2-i,t===0?l=0:l/=t),i/=2,Number.isNaN(l)&&(l=0),Number.isNaN(i)&&(i=0),new ce(r,l,i)},Xr=e=>{let r,l,i,t;return r=e.h,t=e.l*2,l=e.s*(t<=1?t:2-t),i=(t+l)/2,t+l===0?l=0:l=2*l/(t+l),new $(r,l,i)},_t=e=>new st(Math.round(e.r/51)*51,Math.round(e.g/51)*51,Math.round(e.b/51)*51),Oa=e=>{let r=_t(e);return new Rt(r.r,r.g,r.b,e.a)},La=e=>Le(_t(Oe(e))),Wa=e=>xt(_t(K(e))),Ka=e=>We(xt(_t(K(e)))),Xa=e=>$r(_t(ta(e))),qr=e=>Ce(e)?La(e):ye(e)?_t(e):jt(e)?Oa(e):fe(e)?Wa(e):Ee(e)?Ka(e):Ie(e)?Xa(e):e,ut=(e,r="rgb",l=1)=>{let i;switch(r.toLowerCase()){case"hex":i=Et(e);break;case"rgb":i=K(e);break;case"rgba":i=Nt(e,l);break;case"hsl":i=Gt(e);break;case"hsla":i=se(e,l);break;case"hsv":i=me(e);break;case"cmyk":i=we(e);break;default:i=e}return i},Et=e=>typeof e=="string"&&e[0]==="#"?Be(e):Le(K(_e(e))),K=e=>{if(ye(e))return e;if(jt(e))return new st(e.r,e.g,e.b);if(fe(e))return Mt(e);if(Ee(e)||Vt(e))return Mt(Xr(e));if(Ce(e))return Oe(e);if(Ie(e))return ta(e);throw new Error("Unknown color format!")},Nt=(e,r=1)=>{if(jt(e))return r&&(e.a=r),e;let l=K(e);return new Rt(l.r,l.g,l.b,typeof e.a<"u"?e.a:r)},me=e=>xt(K(e)),Gt=e=>We(xt(K(e))),se=(e,r=1)=>{if(Vt(e))return r&&(e.a=r),e;let l=We(xt(K(e)));return l.a=typeof e.a<"u"?e.a:r,new pe(l.h,l.s,l.l,l.a)},we=e=>$r(K(e)),qa=e=>{let r=K(e),l=yt(e).toLowerCase(),i=Math.round(r.r*.2125+r.g*.7154+r.b*.0721),t=new st(i,i,i);return ut(t,l)},Za=(e,r=10)=>Ht(e,-1*Math.abs(r)),Ht=(e,r=10)=>{let l,i,t=r>0,o=function(a,s){let c,p,d,m=a.slice(1),f=parseInt(m,16);return c=(f>>16)+s,c>255?c=255:c<0&&(c=0),d=(f>>8&255)+s,d>255?d=255:d<0&&(d=0),p=(f&255)+s,p>255?p=255:p<0&&(p=0),"#"+(p|d<<8|c<<16).toString(16)};l=yt(e).toLowerCase(),l===W.RGBA&&e.a;do i=o(Et(e),r),t?r--:r++;while(i.length<7);return ut(i,l)},$a=(e,r,l=1)=>{let i=me(e),t=yt(e).toLowerCase(),o=i.h;for(o+=r;o>=360;)o-=360;for(;o<0;)o+=360;return i.h=o,ut(i,t,l)},rt=(e,r,l)=>{l=l===0?0:l||50;let i=new st(0,0,0),t=K(e),o=K(r),a=l/100;return i.r=Math.round((o.r-t.r)*a+t.r),i.g=Math.round((o.g-t.g)*a+t.g),i.b=Math.round((o.b-t.b)*a+t.b),Et(i)},ea=(e,r)=>{let l=K(e),i=K(r),t=new st;return l.b=Math.floor(l.b*i.b/255),l.g=Math.floor(l.g*i.g/255),l.r=Math.floor(l.r*i.r/255),Et(t)},ti=(e,r)=>{if(!gt(e))throw new Error(e+" is not a valid color value!");r/=100;let l=yt(e).toLowerCase(),i=K(e),t=r<0?0:255,o=r<0?r*-1:r,a,s,c,p;return a=Math.round((t-i.r)*o)+i.r,s=Math.round((t-i.g)*o)+i.g,c=Math.round((t-i.b)*o)+i.b,(l===W.RGBA||l===W.HSLA)&&(p=e.a),ut(new st(a,s,c),l,p)},le=(e,r)=>{let l,i,t;if(!gt(e))throw new Error(e+" is not a valid color value!");return l=Gt(e),l.s+=r/100,l.s=Dt(0,1,l.s),i=yt(e).toLowerCase(),(i===W.RGBA||i===W.HSLA)&&(t=e.a),ut(l,i,t)},ei=(e,r)=>{let l,i,t;if(!gt(e))throw new Error(e+" is not a valid color value!");return l=Gt(e),l.s-=r/100,l.s=Dt(l.s),i=yt(e).toLowerCase(),(i===W.RGBA||i===W.HSLA)&&(t=e.a),ut(l,i,t)},oi=(e,r)=>{let l,i,t,o;if(!gt(e))throw new Error(e+" is not a valid color value!");return l=Gt(e),o=(l.h+r)%360,l.h=o<0?360+o:o,i=yt(e).toLowerCase(),(i===W.RGBA||i===W.HSLA)&&(t=e.a),ut(l,i,t)},ri=(e,r)=>{let l,i,t;if(!gt(e))throw new Error(e+" is not a valid color value!");return l=K(e),l.r=Math.max(0,Math.min(255,l.r-Math.round(255*-(r/100)))),l.g=Math.max(0,Math.min(255,l.g-Math.round(255*-(r/100)))),l.b=Math.max(0,Math.min(255,l.b-Math.round(255*-(r/100)))),i=yt(e).toLowerCase(),(i===W.RGBA||i===W.HSLA)&&(t=e.a),ut(l,i,t)},ai=(e,r,l)=>{let i=_e(e),t=_e(r),o=Nt(i,void 0),a=Nt(t,void 0),s=new Rt;return(""+l).toLowerCase(),s.r=Math.round((o.r+a.r)/2),s.g=Math.round((o.g+a.g)/2),s.b=Math.round((o.b+a.b)/2),s.a=Math.round((o.a+a.a)/2),ut(s,l,s.a)},ii=(e,r,l=W.HEX,i)=>{let t=Object.assign({},Ve,i),o,a=[],s,c,p,d,m;if(s=me(e),fe(s)===!1)return console.warn("The value is a not supported color format!"),!1;switch(p=s.h,d=s.s,m=s.v,r){case"monochromatic":case"mono":{if(t.algorithm===1)c=Mt(s),c.r=ft(Math.round(c.r+(255-c.r)*t.tint1),0,255),c.g=ft(Math.round(c.g+(255-c.g)*t.tint1),0,255),c.b=ft(Math.round(c.b+(255-c.b)*t.tint1),0,255),a.push(xt(c)),c=Mt(s),c.r=ft(Math.round(c.r+(255-c.r)*t.tint2),0,255),c.g=ft(Math.round(c.g+(255-c.g)*t.tint2),0,255),c.b=ft(Math.round(c.b+(255-c.b)*t.tint2),0,255),a.push(xt(c)),a.push(s),c=Mt(s),c.r=ft(Math.round(c.r*t.shade1),0,255),c.g=ft(Math.round(c.g*t.shade1),0,255),c.b=ft(Math.round(c.b*t.shade1),0,255),a.push(xt(c)),c=Mt(s),c.r=ft(Math.round(c.r*t.shade2),0,255),c.g=ft(Math.round(c.g*t.shade2),0,255),c.b=ft(Math.round(c.b*t.shade2),0,255),a.push(xt(c));else if(t.algorithm===2)for(a.push(s),o=1;o<=t.distance;o++)m=Dt(m-t.step,0,1),d=Dt(d-t.step,0,1),a.push({h:p,s:d,v:m});else if(t.algorithm===3)for(a.push(s),o=1;o<=t.distance;o++)m=Dt(m-t.step,0,1),a.push({h:p,s:d,v:m});else m=Dt(s.v+t.step*2,0,1),a.push({h:p,s:d,v:m}),m=Dt(s.v+t.step,0,1),a.push({h:p,s:d,v:m}),a.push(s),d=s.s,m=s.v,m=Dt(s.v-t.step,0,1),a.push({h:p,s:d,v:m}),m=Dt(s.v-t.step*2,0,1),a.push({h:p,s:d,v:m});break}case"complementary":case"complement":case"comp":{a.push(s),p=pt(s.h,180),a.push(new $(p,d,m));break}case"double-complementary":case"double-complement":case"double":{a.push(s),p=pt(p,180),a.push(new $(p,d,m)),p=pt(p,t.angle),a.push(new $(p,d,m)),p=pt(p,180),a.push(new $(p,d,m));break}case"analogous":case"analog":{p=pt(p,t.angle),a.push(new $(p,d,m)),a.push(s),p=pt(s.h,0-t.angle),a.push(new $(p,d,m));break}case"triadic":case"triad":{for(a.push(s),o=1;o<3;o++)p=pt(p,120),a.push(new $(p,d,m));break}case"tetradic":case"tetra":{a.push(s),p=pt(s.h,180),a.push(new $(p,d,m)),p=pt(s.h,-1*t.angle),a.push(new $(p,d,m)),p=pt(p,180),a.push(new $(p,d,m));break}case"square":{for(a.push(s),o=1;o<4;o++)p=pt(p,90),a.push(new $(p,d,m));break}case"split-complementary":case"split-complement":case"split":{p=pt(p,180-t.angle),a.push(new $(p,d,m)),a.push(s),p=pt(s.h,180+t.angle),a.push(new $(p,d,m));break}case"material":{var f=t.baseLight,g=t.baseDark==="self"||!t.baseDark?ea(e,e):t.baseDark;a.push({50:rt(f,e,10),100:rt(f,e,30),200:rt(f,e,50),300:rt(f,e,70),400:rt(f,e,85),500:rt(f,e,100),600:rt(g,e,92),700:rt(g,e,83),800:rt(g,e,74),900:rt(g,e,65),A100:Ht(le(rt(g,e,15),80),65),A200:Ht(le(rt(g,e,15),80),55),A400:Ht(le(rt(f,e,100),55),10),A700:Ht(le(rt(g,e,83),65),10)});break}default:console.error("Unknown scheme name")}return r==="material"?a[0]:ds(a,l)},vt=function(e){let r=(""+e).toLowerCase();typeof Pt[r]<"u"&&(r=Pt[r]),typeof Pe[r]<"u"&&(r=Pe[r]);let l=r.replace(/[^\d.,%]/g,"").split(",").map(i=>isNaN(i)?i:+i);return r[0]==="#"?Be(r):r.includes("rgba")?new Rt(l[0],l[1],l[2],l[3]):r.includes("rgb")?new st(l[0],l[1],l[2]):r.includes("cmyk")?new de(l[0],l[1],l[2],l[3]):r.includes("hsv")?new $(l[0],l[1],l[2]):r.includes("hsla")?new pe(l[0],l[1],l[2],l[3]):r.includes("hsl")?new ce(l[0],l[1],l[2]):r},_e=vt,oa=(e="hex",r=1)=>{let l=(s,c)=>Math.floor(s+Math.random()*(c+1-s)),i,t,o,a;return t=l(0,255),o=l(0,255),a=l(0,255),i="#"+((1<<24)+(t<<16)+(o<<8)+a).toString(16).slice(1),e==="hex"?i:ut(i,e,r)},As=oa,ni=Object.freeze({__proto__:null,Primitives:Ga,colorTypes:W,colorDefaultProps:Ve,test:Ja,createColor:Ha,create:ms,expandHexColor:Be,expand:fs,isDark:Zr,isLight:Pa,isHSV:fe,isHSL:Ee,isHSLA:Vt,isRGB:ye,isRGBA:jt,isCMYK:Ie,isHEX:Ce,isColor:gt,colorType:yt,equal:Va,colorToString:_a,hex2rgb:Oe,rgb2hex:Le,rgb2hsv:xt,hsv2rgb:Mt,hsv2hex:gs,hex2hsv:us,rgb2cmyk:$r,cmyk2rgb:ta,hsv2hsl:We,hsl2hsv:Xr,rgb2websafe:_t,rgba2websafe:Oa,hex2websafe:La,hsv2websafe:Wa,hsl2websafe:Ka,cmyk2websafe:Xa,websafe:qr,toColor:ut,toHEX:Et,toRGB:K,toRGBA:Nt,toHSV:me,toHSL:Gt,toHSLA:se,toCMYK:we,grayscale:qa,darken:Za,lighten:Ht,hueShift:$a,mix:rt,multiply:ea,shade:ti,saturate:le,desaturate:ei,spin:oi,brighten:ri,add:ai,createColorScheme:ii,parseColor:vt,parse:_e,randomColor:oa,random:As}),ke=class{_setValue(r){r||(r="#000000"),typeof r=="string"&&(r=vt(r)),r&&gt(r)?this._value=r:this._value=void 0}_setOptions(r){this._options=Object.assign({},Ve,r)}constructor(r="#000000",l=null){this._setValue(r),this._setOptions(l)}get options(){return this._options}set options(r){this._setOptions(r)}get value(){return this._value?this._value:void 0}set value(r){this._setValue(r)}toRGB(){if(this._value)return this._value=K(this._value),this}get rgb(){return this._value?K(this._value):void 0}toRGBA(r){if(this._value)return jt(this._value)?r&&(this._value=Nt(this._value,r)):this._value=Nt(this._value,r||Ve.alpha),this}get rgba(){return this._value?jt(this._value)?this._value:Nt(this._value,this._options.alpha):void 0}toHEX(){if(this._value)return this._value=Et(this._value),this}get hex(){return this._value?Et(this._value):void 0}toHSV(){if(this._value)return this._value=me(this._value),this}get hsv(){return this._value?me(this._value):void 0}toHSL(){if(this._value)return this._value=Gt(this._value),this}get hsl(){return this._value?Gt(this._value):void 0}toHSLA(r){if(this._value)return Vt(this._value)?r&&(this._value=se(this._value,r)):this._value=se(this._value,r),this}get hsla(){return this._value?Vt(this._value)?this._value:se(this._value,this._options.alpha):void 0}toCMYK(){if(this._value)return this._value=we(this._value),this}get cmyk(){return this._value?we(this._value):void 0}toWebsafe(){if(this._value)return this._value=qr(this._value),this}get websafe(){return this._value?qr(this._value):void 0}toString(){return this._value?_a(this._value):void 0}darken(r=10){if(this._value)return this._value=Za(this._value,r),this}lighten(r=10){if(this._value)return this._value=Ht(this._value,r),this}isDark(){return this._value?Zr(this._value):void 0}isLight(){return this._value?Pa(this._value):void 0}hueShift(r){if(this._value)return this._value=$a(this._value,r),this}grayscale(){if(!(!this._value||this.type===W.UNKNOWN))return this._value=qa(this._value,(""+this.type).toLowerCase()),this}get type(){return yt(this._value)}getScheme(r,l,i){return this._value?ii(this._value,r,l,i):void 0}equal(r){return Va(this._value,r)}random(r,l){this._value=oa(r,l)}channel(r,l){let i=this.type;return["red","green","blue"].includes(r)&&(this.toRGB(),this._value[["red","green","blue"].indexOf(r)]=l,this["to"+i]()),r==="alpha"&&this._value.a&&(this._value.a=l),["hue","saturation","value"].includes(r)&&(this.toHSV(),this._value[["hue","saturation","value"].indexOf(r)]=l,this["to"+i]()),["lightness"].includes(r)&&(this.toHSL(),this._value[2]=l,this["to"+i]()),["cyan","magenta","yellow","black"].includes(r)&&(this.toCMYK(),this._value[["cyan","magenta","yellow","black"].indexOf(r)]=l,this["to"+i]()),this}add(r){this._setValue(ai(this._value,r))}mix(r,l){this._setValue(rt(this._value,r,l))}multiply(r){this._setValue(ea(this._value,r))}shade(r){this._setValue(ti(this._value,r))}saturate(r){this._setValue(le(this._value,r))}desaturate(r){this._setValue(ei(this._value,r))}spin(r){this._setValue(oi(this._value,r))}brighten(r){this._setValue(ri(this._value,r))}},li={...Ga},hs="1.0.4",bs="11.08.2024, 23:47:03",si=()=>{console.info(`%c Farbe %c v${hs} %c ${bs} `,"color: #ffffff; font-weight: bold; background: #ff00ff","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Farbe=ke;globalThis.farbe=e=>new ke(e);globalThis.Farbe.Routines=ni;globalThis.Farbe.Palette=ja;globalThis.Farbe.StandardColors=Pt;globalThis.Farbe.MetroColors=Pe;globalThis.Farbe.Primitives=li;globalThis.Farbe.info=si;function ci(e){return e.replace(/([A-Z])/g,function(r){return"-"+r.toLowerCase()})}function xs(e=[]){return Array.isArray(e)?e.join(" "):e.toString()}var vs=["opacity","zIndex","order","zoom"];function pi(e={}){return typeof e=="string"?e:Object.keys(e).map(r=>{let l=ci(r),i=e[r];return!vs.includes(l)&&!isNaN(i)&&(i+="px"),`${l}: ${i}`}).join(";")}var ws=["accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inert","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","popover","spellcheck","style","tabindex","title","translate","writingsuggestions"],ks=e=>{let r,l,i=[],t,o,a=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof e=="string"){if(e=e.trim(),t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=document.location.href,t.head.appendChild(r),o=t.body,l=a.exec(e),l)return document.createElement(l[1]);o.innerHTML=e;for(let s=0;s<o.childNodes.length;s++)i.push(o.childNodes[s]);return i[0]}},Bs=["onauxclick","onbeforeinput","onbeforematch","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"],Qe=class{constructor(r={}){this.options=r,this.tag="div"}selfAttributes(){return[]}get attributes(){return this.getAttributes().join(" ")}getAttributes(){let r=[],l=["hidden","disabled","required","readonly","selected","open","multiply","default"],i=["className","style","data","tag","events"];for(let t in this.options)if(!i.includes(t)){if(l.includes(t)&&this.options[t]===!0){r.push(t);continue}(this.selfAttributes().includes(t)&&!r.includes(t)||ws.includes(t))&&r.push(`${t}="${this.options[t]}"`)}return this.classes&&r.push(`class="${this.classes}"`),this.styles&&r.push(`style="${this.styles}"`),this.dataSet&&r.push(this.dataSet),this.aria&&r.push(this.aria),r}draw(){return this.template()}get dataSet(){let{data:r={}}=this.options,l=[];for(let i in r)l.push(`data-${ci(i)}="${r[i]}"`);return l.join(" ")}get aria(){let{aria:r={}}=this.options,l=[];for(let i in r)l.push(`aria-${i.toLowerCase()}="${r[i]}"`);return l.join(" ")}get events(){let{events:r={},control:l=!0}=this.options,i=[];for(let t in r)l&&!Bs.includes(t)&&console.info(`Event ${t} for element ${this.tag} not specified in HTML specification`),i.push(`${t.toLowerCase()}="${r[t]}"`);return i.join(" ")}get classes(){return xs(this.options.class)}get styles(){return pi(this.options.style)}template(){return""}toString(){return this.draw()}toElement(){return ks(this.draw())}},ia=e=>{if(Array.isArray(e))return e.map(ia).join(`
`);if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(e.draw)return e.draw();throw new Error("Unknown element! "+e)},C=class extends Qe{constructor(...r){let l={},i=[];for(let t of r)typeof t=="object"&&!(t instanceof Qe)?l=t:i.push(t);super(l),this.children=i}template(r){let l=this.options.tag?this.options.tag:this.tag;return`
            <${l} ${this.attributes} ${this.events}>${r}</${l}>
        `}draw(){return this.template(this.children.map(ia).join(""))}},et=class extends Qe{constructor(r={}){super(r),this.options=r}template(){return`
            <${this.options.tag?this.options.tag:this.tag} ${this.attributes} ${this.events}/>
        `}},di=(e=[],r=document.body,l={})=>{let i,t,{clear:o=!0,where:a="beforeend"}=l;t=typeof r=="string"?document.querySelector(r):r,t instanceof HTMLElement||(t=document.body),o&&(t.innerHTML=""),Array.isArray(e)||(e=[e]),i=e.map(ia).join(""),t.insertAdjacentHTML(a,i)},Dr=(e="",r)=>{let l=document.createElement("style");return r!==void 0&&l.setAttribute("media",r),l.appendChild(document.createTextNode(e)),document.head.appendChild(l),l},na=e=>Dr(e).sheet,la=(e,r,l)=>{e.insertRule(r+"{"+l+"}")},mi=(e,r)=>{if(typeof e=="string"){Dr(e,r);return}let l=na(r);for(let i in e)la(l,i,pi(e[i]))},fi=async(e,r)=>{let l=await fetch(e,r),i,t;if(!l.ok)throw new Error("HTTP error: "+l.status);i=await l.text(),t=document.createElement("style"),t.appendChild(document.createTextNode(i)),document.body.appendChild(t)},gi=async(e,r)=>{let l=await fetch(e,r),i,t;if(!l.ok)throw new Error("HTTP error: "+l.status);i=await l.text(),t=document.createElement("script"),t.appendChild(document.createTextNode(i)),document.body.appendChild(t)},ui=async(e,r={},l=!1)=>{let i,t,o=()=>{},a;if(l!==!1&&(a=`html::key::${e}`,t=localStorage.getItem(a)),!t){if(i=await fetch(e,r),!i.ok)throw new Error("HTTP error: "+i.status);t=await i.text(),l!==!1&&localStorage.setItem(a,t)}return(0,eval)(`result = ${t}`),typeof o=="function"?o():o},Ai=e=>localStorage.removeItem(`html::key::${e}`),Ke=class extends C{tag="html";selfAttributes(){return["lang"]}},Es=(...e)=>new Ke(...e),Xe=class extends C{tag="head"},ys=(...e)=>new Xe(...e),qe=class extends et{tag="base";selfAttributes(){return["href","target"]}},Is=e=>new qe(e),Ze=class extends et{tag="link";selfAttributes(){return["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","blocking","color","disabled","fetchpriority"]}},Cs=e=>new Ze(e),$e=class extends C{tag="body"},Qs=(...e)=>new $e(...e),to=class extends C{tag="span"},Fs=(...e)=>new to(...e),eo=class extends et{tag="img";selfAttributes(){return["align","alt","border","height","hspace","ismap","longdesc","lowsrc","src","vspace","width","usemap"]}},Ds=(e="",r="",l={})=>new eo({...l,src:e,alt:r}),oo=class extends et{tag="input";selfAttributes(){return["accept","align","alt","autocomplete","autofocus","border","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","list","max","maxlength","min","multiple","name","pattern","placeholder","size","src","step","type","value"]}},Ms=(e={})=>new oo(e),ro=class extends et{tag="br";selfAttributes(){return["clear"]}},zs=e=>new ro(e),ao=class extends et{tag="hr"},Ys=e=>new ao(e),io=class extends C{constructor(r="h1",...l){super(...l),this.tag=r}},Ot=(e="h1",...r)=>new io(e,...r),Us=(...e)=>Ot("h1",...e),Ss=(...e)=>Ot("h2",...e),Ts=(...e)=>Ot("h3",...e),Ns=(...e)=>Ot("h4",...e),Rs=(...e)=>Ot("h5",...e),js=(...e)=>Ot("h6",...e),no=class extends C{tag="section"},Gs=(...e)=>new no(...e),Fe=class extends C{tag="a";selfAttributes(){return["coords","download","hreflang","name","rel","rev","shape","target","type","href"]}},Js=(...e)=>new Fe(...e),Hs=(...e)=>new Fe(...e),lo=class extends C{tag="abbr"},Ps=(...e)=>new lo(...e),so=class extends C{tag="article"},Vs=(...e)=>new so(...e),co=class extends C{tag="nav"},_s=(...e)=>new co(...e),po=class extends C{tag="aside"},Os=(...e)=>new po(...e),mo=class extends C{tag="header"},Ls=(...e)=>new mo(...e),fo=class extends C{tag="footer"},Ws=(...e)=>new fo(...e),go=class extends C{tag="address"},Ks=(...e)=>new go(...e),uo=class extends C{tag="map";selfAttributes(){return["name"]}},Xs=(...e)=>new uo(...e),Ao=class extends et{tag="area";selfAttributes(){return["alt","coords","hreflang","nohref","shape","target","type","href"]}},qs=(e={})=>new Ao(e),ho=class extends C{tag="audio";selfAttributes(){return["autoplay","controls","loop","preload","src"]}},Zs=(...e)=>new ho(...e),bo=class extends C{tag="b"},$s=(...e)=>new bo(...e),xo=class extends C{tag="bdi"},tc=(...e)=>new xo(...e),vo=class extends C{tag="bdo"},ec=(...e)=>new vo(...e),wo=class extends C{tag="blockquote";selfAttributes(){return["cite"]}},oc=(...e)=>new wo(...e),ko=class extends C{tag="button";selfAttributes(){return["autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"]}},rc=(...e)=>new ko(...e),Bo=class extends C{tag="canvas";selfAttributes(){return["width","height"]}},ac=(...e)=>new Bo(...e),Eo=class extends C{tag="table";selfAttributes(){return["align","background","bgcolor","border","bordercolor","cellpadding","cellspacing","cols","frame","height","rules","summary","width"]}},ic=(...e)=>new Eo(...e),yo=class extends C{tag="caption";selfAttributes(){return["align","valign"]}},nc=(...e)=>new yo(...e),Io=class extends et{tag="col";selfAttributes(){return["align","valign","char","charoff","span","width"]}},lc=e=>new Io(e),Co=class extends et{tag="colgroup";selfAttributes(){return["align","valign","char","charoff","span","width"]}},sc=e=>new Co(e),ge=class extends C{constructor(r="tbody",...l){super(...l),this.tag=r}selfAttributes(){return["align","valign","char","charoff","bgcolor"]}},cc=(...e)=>new ge("tbody",...e),pc=(...e)=>new ge("thead",...e),dc=(...e)=>new ge("tfoot",...e),Qo=class extends C{tag="tr";selfAttributes(){return["align","bgcolor","bordercolor","char","charoff","valign"]}},mc=(...e)=>new Qo(...e),De=class extends C{constructor(r="td",...l){super(...l),this.tag=r}selfAttributes(){return["abbr","align","axis","background","bgcolor","bordercolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]}},fc=(...e)=>new De("th",...e),gc=(...e)=>new De("td",...e),Fo=class extends C{tag="cite"},uc=(...e)=>new Fo(...e),Do=class extends C{tag="code"},Ac=(...e)=>new Do(...e),Mo=class extends C{tag="dl"},zo=class extends C{tag="dt"},Yo=class extends C{tag="dd"},hc=(...e)=>new Mo(...e),bc=(...e)=>new zo(...e),xc=(...e)=>new Yo(...e),Uo=class extends C{tag="details"},vc=(...e)=>new Uo(...e),So=class extends C{tag="summary"},wc=(...e)=>new So(...e),To=class extends C{tag="dfn"},kc=(...e)=>new To(...e),No=class extends C{tag="div";selfAttributes(){return["align","title"]}},Bc=(...e)=>new No(...e),Ro=class extends C{tag="em"},Ec=(...e)=>new Ro(...e),Me=class extends C{tag="i"},yc=(...e)=>new Me(...e),Ic=(...e)=>new Me(...e),jo=class extends C{tag="strong"},Cc=(...e)=>new jo(...e),Go=class extends C{tag="embed";selfAttributes(){return["align","height","hspace","pluginspace","src","type","vspace","width"]}},Qc=(...e)=>new Go(...e),Jo=class extends C{tag="noembed"},Fc=(...e)=>new Jo(...e),Ho=class extends C{tag="fieldset";selfAttributes(){return["form","title"]}},Dc=(...e)=>new Ho(...e),Po=class extends C{tag="legend";selfAttributes(){return["align","title"]}},Mc=(...e)=>new Po(...e),Vo=class extends C{tag="figure"},zc=(...e)=>new Vo(...e),_o=class extends C{tag="figcaption"},Yc=(...e)=>new _o(...e),Oo=class extends C{tag="form";selfAttributes(){return["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"]}},Uc=(...e)=>new Oo(...e),Lo=class extends C{tag="frameset";selfAttributes(){return["border","bordercolor","cols","frameborder","framespacing","rows"]}},Sc=(...e)=>new Lo(...e),Wo=class extends et{tag="frame";selfAttributes(){return["bordercolor","frameborder","noresize","name","src","scrolling"]}},Tc=(e={})=>new Wo(e),Ko=class extends C{tag="noframes"},Nc=(...e)=>new Ko(...e),Xo=class extends C{tag="iframe";selfAttributes(){return["align","allowtransparency","frameborder","height","hspace","marginheight","marginwidth","name","sandbox","scrolling","seamless","src","srcdoc","vspace","width"]}},Rc=(...e)=>new Xo(...e),qo=class extends C{tag="ins";selfAttributes(){return["cite","datetime"]}},jc=(...e)=>new qo(...e),Zo=class extends C{tag="kbd"},Gc=(...e)=>new Zo(...e),$o=class extends C{tag="label";selfAttributes(){return["for"]}},Jc=(...e)=>new $o(...e),ze=class extends C{constructor(r="ul",...l){super(...l),this.tag=r}selfAttributes(){return this.tag==="ul"?["type"]:["type","reserved","start"]}},tr=class extends C{tag="li";selfAttributes(){return["type","value"]}},Hc=(...e)=>new ze("ul",...e),Pc=(...e)=>new ze("ol",...e),Vc=(...e)=>new tr(...e),er=class extends C{tag="mark"},_c=(...e)=>new er(...e),or=class extends C{tag="noscript"},Oc=(...e)=>new or(...e),rr=class extends C{tag="select";selfAttributes(){return["autofocus","form","name","size"]}},Lc=(...e)=>new rr(...e),ar=class extends C{tag="optgroup";selfAttributes(){return["label"]}},Wc=(...e)=>new ar(...e),ir=class extends C{tag="option";selfAttributes(){return["label","value"]}},Kc=(...e)=>new ir(...e),nr=class extends C{tag="output";selfAttributes(){return["for","form","name"]}},Xc=(...e)=>new nr(...e),Ye=class extends C{tag="p";selfAttributes(){return["align"]}},qc=(...e)=>new Ye(...e),Zc=(...e)=>new Ye(...e),lr=class extends C{tag="pre"},$c=(...e)=>new lr(...e),Ue=class extends C{tag="q";selfAttributes(){return["cite"]}},tp=(...e)=>new Ue(...e),ep=(...e)=>new Ue(...e),Se=class extends C{tag="strike"},op=(...e)=>new Se(...e),rp=(...e)=>new Se(...e),sr=class extends C{tag="script";selfAttributes(){return["async","defer","language","src","type"]}},ap=(...e)=>new sr(...e),cr=class extends C{tag="small"},ip=(...e)=>new cr(...e),pr=class extends et{tag="source";selfAttributes(){return["media","src","type"]}},np=(e={})=>new pr(e),dr=class extends C{tag="sub"},lp=(...e)=>new dr(...e),mr=class extends C{tag="sup"},sp=(...e)=>new mr(...e),fr=class extends C{tag="textarea";selfAttributes(){return["autofocus","cols","form","maxlength","name","placeholder","rows","wrap"]}},cp=(...e)=>new fr(...e),gr=class extends C{tag="time";selfAttributes(){return["datetime","pubdate"]}},pp=(...e)=>new gr(...e),ur=class extends et{tag="track";selfAttributes(){return["kind","src","srclang","label"]}},dp=(e={})=>new ur(e),Ar=class extends C{tag="var"},mp=(...e)=>new Ar(...e),hr=class extends C{tag="video";selfAttributes(){return["autoplay","controls","height","loop","loop","poster","preload","src","width"]}},fp=(...e)=>new hr(...e),br=class extends et{tag="wbr"},gp=e=>new br(e),xr=class extends C{tag="main"},up=(...e)=>new xr(...e),vr=class extends et{tag="meta";selfAttributes(){return["content","name","http-equiv","charset"]}},Ap=e=>new vr(e),wr=class extends C{tag="title"},hp=e=>new wr(e),kr=class extends C{tag="template";selfAttributes(){return["shadowrootmode","shadowrootdelegatesfocus","shadowrootclonable","shadowrootserializable"]}},bp=(...e)=>new kr(...e),Br=class extends C{tag="ruby"},Er=class extends et{tag="rt"},yr=class extends et{tag="rp"},xp=(...e)=>new Br(...e),vp=e=>new Er(e),wp=e=>new yr(e),Ir=class extends C{tag="data"},kp=(...e)=>new Ir(...e),Cr=class extends C{tag="picture"},Bp=(...e)=>new Cr(...e),Qr=class extends C{tag="dialog";selfAttributes(){return["open"]}},Ep=(...e)=>new Qr(...e),Fr=class extends C{tag="slot";selfAttributes(){return["name"]}},yp=(...e)=>new Fr(...e),ra=Object.freeze({__proto__:null,Abbr:lo,Address:go,Anchor:Fe,Area:Ao,Article:so,Aside:po,AudioTag:ho,Base:qe,Bdi:xo,Bdo:vo,Blockquote:wo,Body:$e,Bold:bo,Br:ro,Button:ko,Canvas:Bo,Caption:yo,Cite:Fo,Code:Do,Col:Io,Colgroup:Co,Data:Ir,Dd:Yo,Details:Uo,Dfn:To,Dialog:Qr,Div:No,Dl:Mo,Dt:zo,Em:Ro,Embed:Go,Fieldset:Ho,FigCaption:_o,Figure:Vo,Footer:fo,Form:Oo,Frame:Wo,Frameset:Lo,Head:Xe,Header:mo,Heading:io,Hr:ao,Html:Ke,IFrame:Xo,Img:eo,Input:oo,Ins:qo,Ital:Me,Kbd:Zo,Label:$o,Legend:Po,Link:Ze,List:ze,ListItem:tr,Main:xr,Map:uo,Mark:er,Meta:vr,Nav:co,NoEmbed:Jo,NoFrames:Ko,NoScript:or,Option:ir,OptionGroup:ar,Output:nr,Paragraph:Ye,Picture:Cr,Pre:lr,Quoted:Ue,Rp:yr,Rt:Er,Ruby:Br,Script:sr,Section:no,Select:rr,Slot:Fr,Small:cr,Source:pr,Span:to,Strike:Se,Strong:jo,Sub:dr,Summary:So,Sup:mr,Table:Eo,TableCell:De,TableRow:Qo,TableSection:ge,Template:kr,Textarea:fr,Time:gr,Title:wr,Track:ur,Var:Ar,VideoTag:hr,Wbr:br,a:Hs,abbr:Ps,address:Ks,anchor:Js,area:qs,article:Vs,aside:Os,audio:Zs,base:Is,bdi:tc,bdo:ec,blockquote:oc,body:Qs,bold:$s,br:zs,button:rc,canvas:ac,caption:nc,cite:uc,code:Ac,col:lc,colgroup:sc,data:kp,dd:xc,details:vc,dfn:kc,dialog:Ep,div:Bc,dl:hc,dt:bc,em:Ec,embed:Qc,fieldset:Dc,figcaption:Yc,figure:zc,footer:Ws,form:Uc,frame:Tc,frameset:Sc,h1:Us,h2:Ss,h3:Ts,h4:Ns,h5:Rs,h6:js,head:ys,header:Ls,heading:Ot,hr:Ys,html:Es,i:Ic,iframe:Rc,img:Ds,input:Ms,ins:jc,ital:yc,kbd:Gc,label:Jc,legend:Mc,li:Vc,link:Cs,main:up,map:Xs,mark:_c,meta:Ap,nav:_s,noembed:Fc,noframes:Nc,noscript:Oc,ol:Pc,optgroup:Wc,option:Kc,output:Xc,p:Zc,paragraph:qc,picture:Bp,pre:$c,q:tp,quoted:ep,rp:wp,rt:vp,ruby:xp,s:rp,script:ap,section:Gs,select:Lc,slot:yp,small:ip,source:np,span:Fs,strike:op,strong:Cc,sub:lp,summary:wc,sup:sp,table:ic,tbody:cc,td:gc,template:bp,textarea:cp,tfoot:dc,th:fc,thead:pc,time:pp,title:hp,tr:mc,track:dp,ul:Hc,variable:mp,video:fp,wbr:gp}),aa={},Ip="0.12.0",Cp="12.11.2024, 20:46:19",Qp=()=>{console.info(`%c Html %c v${Ip} %c ${Cp} `,"color: #ffffff; font-weight: bold; background: #708238","color: white; background: darkgreen","color: white; background: #0080fe;")},Fp=(e=globalThis)=>{for(let r in ra)globalThis[r]&&(aa[r]=globalThis[r]),e[r]=ra[r]},Dp=(e=globalThis)=>{for(let r in aa)e[r]=aa[r]},hi={...ra,extract:Fp,restore:Dp,info:Qp};globalThis.Html={addStyle:mi,addCssRule:la,cssLoader:fi,jsLoader:gi,viewLoader:ui,clearViewStorageHolder:Ai,createStyleElement:Dr,createStyleSheet:na,render:di,...hi};var da={};ma(da,{americanExpress:()=>am,array:()=>Id,base64:()=>wd,between:()=>hd,bigint:()=>Kp,boolean:()=>yd,bytes:()=>pm,compose:()=>jp,creditCard:()=>em,date:()=>qp,digits:()=>Am,diners:()=>nm,discover:()=>im,domain:()=>Jd,email:()=>cd,endsWith:()=>Vp,finite:()=>xd,float:()=>bm,func:()=>$p,hexColor:()=>Ld,imei:()=>Fd,info:()=>wm,integer:()=>ed,ip:()=>Td,ipv4:()=>Nd,ipv6:()=>Rd,jcb:()=>lm,length:()=>Dd,mastercard:()=>rm,maxLength:()=>zd,maxValue:()=>ld,minLength:()=>Md,minValue:()=>id,notNull:()=>mm,notNumber:()=>Bd,number:()=>fd,object:()=>ud,parse:()=>ca,pattern:()=>gm,pipe:()=>Np,required:()=>dd,safeInteger:()=>rd,safeParse:()=>Sp,startsWith:()=>Hp,string:()=>sa,symbol:()=>Lp,unionPay:()=>sm,unknown:()=>_p,url:()=>Vd,visa:()=>om});var Mp=Object.defineProperty,bi=Object.getOwnPropertySymbols,zp=Object.prototype.hasOwnProperty,Yp=Object.prototype.propertyIsEnumerable,xi=(e,r,l)=>r in e?Mp(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l,Up=(e,r)=>{for(var l in r||(r={}))zp.call(r,l)&&xi(e,l,r[l]);if(bi)for(var l of bi(r))Yp.call(r,l)&&xi(e,l,r[l]);return e},N=class extends Error{constructor(e="",r=null,l){super(e),this.message=e,this.name=r,this.value=l}},ca=(e,r)=>{let l;if(!e)throw new Error("Schema object required for parse data!");if(typeof e=="function"){if(l=e.apply(null,[r]),l instanceof N)throw l}else for(let i in e){let t=r[i],o=e[i];if(!o)throw new N(`Guard not defined for field ${i} in input data!`,"general",r);if(!r.hasOwnProperty(i))throw new N(`Field ${i} doesn't exists in input data!`,"general",r);if(typeof o=="function"){if(console.log(o.name),l=o.apply(null,[t]),l instanceof N)throw l}else ca(o,t)}return r},Sp=(e,r)=>{let l;if(!e)throw new Error("Schema object required for parse data!");if(typeof e=="function"){if(l=e.apply(null,[r]),l instanceof N)return{ok:!1,error:l}}else for(let i in e){let t=r[i],o=e[i];if(o)if(typeof o=="function"){if(l=o.apply(null,[r]),l instanceof N)return{ok:!1,error:l}}else ca(o,t)}return{ok:!0,output:r}},Tp=(...e)=>r=>e.reduce((l,i)=>i(l),r),Np=Tp,Rp=(...e)=>r=>e.reduceRight((l,i)=>i(l),r),jp=Rp,Gp="VAL must be a string",sa=(e=Gp)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"?r:new N(l,"string",r)},Lt=e=>typeof e<"u"&&e!==null,Jp="VAL must starts with START_VAL",Hp=(e,r=Jp)=>{if(!Lt(e))throw new Error("START_VALUE not defined!");return function(l){let i=r.replace(/VAL/g,l).replace(/START_VAL/g,e);return typeof l=="string"&&l.startsWith(e)?l:new N(i,"startsWith",l)}},Pp="VAL must end with END_VAL",Vp=(e,r=Pp)=>{if(!Lt(e))throw new Error("END_VALUE not defined!");return function(l){let i=r.replace(/VAL/g,l).replace(/END_VAL/g,e);return typeof l=="string"&&l.endsWith(e)?l:new N(i,"endsWith",l)}},_p=()=>function(e){return e},Op="A symbol is required",Lp=(e=Op)=>function(r){return typeof r=="symbol"?r:new N(e,"symbol",r)},Wp="VAL must be a bigint",Kp=(e=Wp)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="bigint"?r:new N(l,"bigint",r)},Xp="VAL must be valid date object or date string",qp=(e=Xp)=>function(r){let l=e.replace(/VAL/g,r);return r instanceof Date?r:new N(l,"date",r)},Zp="The value must be a function",$p=(e=Zp)=>function(r){return typeof r=="function"?r:new N(e,"function",r)},td="VAL must be an integer",ed=(e=td)=>function(r){let l=e.replace(/VAL/g,r);return Number.isInteger(r)?r:new N(l,"integer",r)},od="VAL must be an safe integer",rd=(e=od)=>function(r){let l=e.replace(/VAL/g,r);return Number.isSafeInteger(r)?r:new N(l,"safeInteger",r)},ad="VAL must be a great then MIN_VALUE",id=(e,r=ad)=>{if(!Lt(e))throw new Error("MIN_VALUE not defined!");return function(l){let i=r.replace(/VAL/g,l).replace(/MIN_VALUE/g,e),t=+l;return!isNaN(t)&&t>=+e?l:new N(i,"minValue",l)}},nd="VAL must be a less then MAX_VALUE",ld=(e,r=nd)=>{if(!Lt(e))throw new Error("MAX_VALUE not defined!");return function(l){let i=r.replace(/VAL/g,l).replace(/MAX_VALUE/g,e),t=+l;return!isNaN(t)&&t<=+e?l:new N(i,"maxValue",l)}},sd="VAL must be a string in valid email format",cd=(e=sd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?r:new N(l,"email",r)},pd="Any value required",dd=(e=pd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r<"u"&&r!==null&&r!==""?r:new N(l,"required",r)},md="VAL must be a number",fd=(e=md)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="number"&&!isNaN(+r)?r:new N(l,"number",r)},gd="VAL must be an object",ud=e=>{if(typeof e!="object")throw new N(gd.replace(/VAL/g,e),"object",e);return Up({},e)},Ad="VAL must be between MIN_VAL and MAX_VAL",hd=(e,r,l=Ad)=>{if(!Lt(e))throw new Error("MIN_VALUE not defined!");if(!Lt(r))throw new Error("MAX_VALUE not defined!");return function(i){let t=l.replace(/VAL/g,i).replace(/MIN_VAL/g,e).replace(/MAX_VAL/g,r),o=+i;return!isNaN(o)&&i>=+e&&i<=+r?i:new N(t,"between",i)}},bd="VAL must be a finite number",xd=(e=bd)=>function(r){let l=e.replace(/VAL/g,r);return Number.isFinite(r)?r:new N(l,"finite",r)},vd="VAL must be a string in valid base 64 format",wd=(e=vd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(r)?r:new N(l,"base64",r)},kd="VAL can`t be a number",Bd=(e=kd)=>function(r){let l=e.replace(/VAL/g,r);return isNaN(r)?r:new N(l,"notNumber",r)},Ed="VAL must be a boolean",yd=(e=Ed)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="boolean"?r:new N(l,"boolean",r)},vi="VAL must be an array of TYPE",Id=(e,r=vi)=>(!e&&!r&&(e=sa(),r=vi),typeof e=="string"&&(r=e,e=sa()),function(l){let i=r.replace(/VAL/g,l).replace(/TYPE/g,e.name);if(!Array.isArray(l))return new N(i,"array",l);for(let t of l)if(e(t)instanceof N)return new N(i,"array",l);return l}),Cd="VAL must be a valid EMEI",Qd=e=>{let r=t=>{let o=0;for(;t>0;)o=o+t%10,t=parseInt(""+t/10,10);return o},l=(""+e).length;if(l!==15)return!1;let i=0;for(let t=l;t>=1;t--){let o=e%10;t%2===0&&(o=2*o),i+=r(o),e=parseInt(""+e/10,10)}return i%10===0},Fd=(e=Cd)=>function(r){let l=e.replace(/VAL/g,r);return Qd(r)?r:new N(l,"emei",r)},pa="VAL must be a string or array with length N",Dd=(e,r=pa)=>function(l){let i=r.replace(/VAL/g,l).replace(/N/g,e),t=(typeof l=="string"||Array.isArray(l))&&l.length===+e;return console.log(l.length,e),t?l:new N(i,"length",l)},Md=(e,r=pa)=>function(l){let i=r.replace(/VAL/g,l).replace(/N/g,e);return(typeof l=="string"||Array.isArray(l))&&l.length>=+e?l:new N(i,"minLength",l)},zd=(e,r=pa)=>function(l){let i=r.replace(/VAL/g,l).replace(/N/g,e);return(typeof l=="string"||Array.isArray(l))&&l.length<=+e?l:new N(i,"maxLength",l)},Yd="VAL must be a valid ip address ipv4 or ipv6",Ud="VAL must be a valid ipv4 address",Sd="VAL must be a valid ipv6 address",wi=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ki=/^[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}$/,Td=(e=Yd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&(wi.test(r)||ki.test(r))?r:new N(l,"ip",r)},Nd=(e=Ud)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&wi.test(r)?r:new N(l,"ipv4",r)},Rd=(e=Sd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&ki.test(r)?r:new N(l,"ipv6",r)},jd="VAL must be a valid domain name, xn--* for internationalized names",Gd=/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/,Jd=(e=jd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&Gd.test(r)?r:new N(l,"domain",r)},Hd="VAL must be a valid url",Pd=/^(?:(?:(?:https?|ftp|wss?):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,Vd=(e=Hd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&Pd.test(r)?r:new N(l,"url",r)},_d="VAL must be a valid hex color",Od=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,Ld=(e=_d)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&Od.test(r)?r:new N(l,"hexColor",r)},Bi=/^4\d{12}(?:\d{3,6})?$/u,Ei=/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,yi=/^3[47]\d{13}$/u,Ii=/^6(?:011|5\d{2})\d{12,15}$/u,Ci=/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,Qi=/^(?:2131|1800|35\d{3})\d{11}$/u,Fi=/^(?:6[27]\d{14,17}|81\d{14,17})$/u,Di="VAL must be a valid CC number (visa, mastercard, american express, discover, diners club, jcb, or union pay)",Wd="VAL must be a valid Visa card number",Kd="VAL must be a valid Mastercard card number",Xd="VAL must be a valid American Express card number",qd="VAL must be a valid DISCOVER card number",Zd="VAL must be a valid DINERS CLUB card number",$d="VAL must be a valid JCB card number",tm="VAL must be a valid Union Pay card number",em=(e=Di)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&(Bi.test(r)||Ei.test(r)||yi.test(r)||Ii.test(r)||Ci.test(r)||Qi.test(r)||Fi.test(r))?r:new N(l,"creditCard",r)},Wt=(e,r,l=Di)=>function(i){let t=l.replace(/VAL/g,i);return typeof i=="string"&&r.test(i)?i:new N(t,e,i)},om=(e=Wd)=>Wt("visa",Bi,e),rm=(e=Kd)=>Wt("mastercard",Ei,e),am=(e=Xd)=>Wt("american express",yi,e),im=(e=qd)=>Wt("discover",Ii,e),nm=(e=Zd)=>Wt("diners club",Ci,e),lm=(e=$d)=>Wt("jcb card",Qi,e),sm=(e=tm)=>Wt("union pay",Fi,e),cm="The length of string must be VAL bytes",pm=(e,r=cm)=>function(l){let i=r.replace(/VAL/g,l);return typeof l=="string"&&new TextEncoder().encode(l).length===e?l:new N(i,"bytes",l)},dm="VAL can`t be null or undefined.",mm=(e=dm)=>function(r){let l=e.replace(/VAL/g,r);return Lt(r)?r:new N(l,"notNull",r)},fm="The value must match the pattern",gm=(e,r=fm)=>function(l){let i=r.replace(/VAL/g,l);return(typeof e=="string"?new RegExp(e,"g"):e).test(""+l)?l:new N(i,"pattern",l)},um="VAL must contains only digits",Am=(e=um)=>function(r){let l=e.replace(/VAL/g,r);return/^\d+$/g.test(""+r)?r:new N(l,"digits",r)},hm="VAL must be a float",bm=(e=hm)=>function(r){let l=e.replace(/VAL/g,r);return!isNaN(r)&&+n%1!==0||/^\d*\.\d+$/.test(r)?r:new N(l,"float",r)},xm="0.5.2",vm="29.11.2024, 18:45:18",wm=()=>{console.info(`%c GUARDIAN %c v${xm} %c ${vm} `,"color: pink; font-weight: bold; background: #2b1700","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.G=da;(function(e){"use strict";globalThis.__version__="5.1.0",globalThis.__build_time__="24.01.2025, 20:44:58";let r=e.meta("metro:init").attr("content"),l=e.meta("metro:locale").attr("content"),i=e.meta("metro:week_start").attr("content"),t=e.meta("metro:date_format").attr("content"),o=e.meta("metro:date_format_input").attr("content"),a=e.meta("metro:animation_duration").attr("content"),s=e.meta("metro:callback_timeout").attr("content"),c=e.meta("metro:timeout").attr("content"),p=e.meta("metro:scroll_multiple").attr("content"),d=e.meta("metro:cloak").attr("content"),m=e.meta("metro:cloak_duration").attr("content"),f=e.meta("metro:global_common").attr("content"),g=e.meta("metro:blur_image").attr("content"),u=e.meta("metro:smooth_scroll").attr("content"),A=e.meta("metro:theme").attr("content");A!==void 0&&e("html").addClass(A==="auto"?e.dark?"dark-side":"":A==="dark"?"dark-side":"light-side"),globalThis.METRO_BLUR_IMAGE===void 0&&(globalThis.METRO_BLUR_IMAGE=g!==void 0?JSON.parse(f):!1),globalThis.METRO_GLOBAL_COMMON===void 0&&(globalThis.METRO_GLOBAL_COMMON=f!==void 0?JSON.parse(f):!1);let b=e.meta("metro:jquery").attr("content");globalThis.jquery_present=typeof globalThis.jQuery<"u",globalThis.METRO_JQUERY===void 0&&(globalThis.METRO_JQUERY=b!==void 0?JSON.parse(b):!0),globalThis.useJQuery=globalThis.jquery_present&&globalThis.METRO_JQUERY;let x=e.meta("metro:info").attr("content");globalThis.METRO_SHOW_INFO===void 0&&(globalThis.METRO_SHOW_INFO=x!==void 0?JSON.parse(x):!0);let v=e.meta("metro:compile").attr("content");globalThis.METRO_SHOW_COMPILE_TIME===void 0&&(globalThis.METRO_SHOW_COMPILE_TIME=v!==void 0?JSON.parse(v):!0),globalThis.METRO_INIT===void 0&&(globalThis.METRO_INIT=r!==void 0?JSON.parse(r):!0),globalThis.METRO_DEBUG===void 0&&(globalThis.METRO_DEBUG=!0),globalThis.METRO_WEEK_START===void 0&&(globalThis.METRO_WEEK_START=i!==void 0?parseInt(i):0),globalThis.METRO_DATE_FORMAT===void 0&&(globalThis.METRO_DATE_FORMAT=t!==void 0?t:"YYYY-MM-DD"),globalThis.METRO_DATE_FORMAT_INPUT===void 0&&(globalThis.METRO_DATE_FORMAT_INPUT=o!==void 0?o:"YYYY-MM-DD"),globalThis.METRO_LOCALE===void 0&&(globalThis.METRO_LOCALE=l!==void 0?l:"en-US"),globalThis.METRO_ANIMATION_DURATION===void 0&&(globalThis.METRO_ANIMATION_DURATION=a!==void 0?parseInt(a):100),globalThis.METRO_CALLBACK_TIMEOUT===void 0&&(globalThis.METRO_CALLBACK_TIMEOUT=s!==void 0?parseInt(s):500),globalThis.METRO_TIMEOUT===void 0&&(globalThis.METRO_TIMEOUT=c!==void 0?parseInt(c):2e3),globalThis.METRO_SCROLL_MULTIPLE===void 0&&(globalThis.METRO_SCROLL_MULTIPLE=p!==void 0?parseInt(p):20),globalThis.METRO_CLOAK_REMOVE===void 0&&(globalThis.METRO_CLOAK_REMOVE=d!==void 0?(""+d).toLowerCase():"fade"),globalThis.METRO_CLOAK_DURATION===void 0&&(globalThis.METRO_CLOAK_DURATION=m!==void 0?parseInt(m):300),globalThis.METRO_SMOOTH_SCROLL===void 0&&(globalThis.METRO_SMOOTH_SCROLL=u!==void 0?JSON.parse(u):!0),globalThis.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE===void 0&&(globalThis.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0),globalThis.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS===void 0&&(globalThis.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0),globalThis.METRO_HOTKEYS_FILTER_TEXT_INPUTS===void 0&&(globalThis.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0),globalThis.METRO_HOTKEYS_BUBBLE_UP===void 0&&(globalThis.METRO_HOTKEYS_BUBBLE_UP=!1),globalThis.METRO_THROWS===void 0&&(globalThis.METRO_THROWS=!0),globalThis.METRO_MEDIA=[]})(Dom);var Mr="ontouchstart"in window,Mi={controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:Mr?"touchstart":"mousedown",stop:Mr?"touchend":"mouseup",move:Mr?"touchmove":"mousemove",enter:Mr?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",LD:"(min-width: 640px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)",XXXL:"(min-width: 2000px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452,XXXL:2e3},media_mode:{FS:"fs",XS:"xs",SM:"sm",LD:"ld",MD:"md",LG:"lg",XL:"xl",XXL:"xxl",XXXL:"xxxl"},media_modes:["fs","xs","sm","ld","md","lg","xl","xxl","xxxl"],actions:{NONE:0,REMOVE:1,HIDE:2,MINIMIZE:3,MAXIMIZE:4,CLOSE:5,RESTORE:6,SHOW:7},theme:{LIGHT:"light",DARK:"dark"}};(()=>{"use strict";let e=Dom;if(typeof Dom>"u")throw new Error("Metro UI requires Dom helper!");if(!("MutationObserver"in window))throw new Error("Metro UI requires MutationObserver!");let r="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,l=t=>typeof t!="string"?void 0:t.replace(/-/g,"").toLowerCase(),i={version:"5.1.0",build_time:"24.01.2025, 20:44:58",buildNumber:0,isTouchable:r,fullScreenEnabled:document.fullscreenEnabled,sheet:null,hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},info:()=>{typeof globalThis.METRO_LIB_INFO<"u"&&i.welcome()},welcome:()=>{console.info(`%c METRO UI %c v${i.version} %c ${i.build_time} `,"color: pink; font-weight: bold; background: #800000","color: white; background: darkgreen","color: white; background: #0080fe;"),globalThis.$&&e.info&&e.info(),globalThis.Hooks&&Hooks.info&&Hooks.info(),globalThis.Html&&Html.info&&Html.info(),globalThis.Farbe&&Farbe.info&&Farbe.info(),globalThis.Datetime&&Datetime.info&&Datetime.info(),globalThis.Str&&Str.info&&Str.info(),globalThis.G&&G.info&&G.info()},aboutDlg:()=>{alert("Metro UI - v"+i.version)},observe:()=>{let t,o,a={childList:!0,attributes:!0,subtree:!0};o=s=>{s.map(c=>{if(c.type==="attributes"&&c.attributeName!=="data-role")if(c.attributeName==="data-hotkey")i.initHotkeys([c.target],!0);else{let p=e(c.target),d=p.data("metroComponent"),m=c.attributeName,f=p.attr(m),g=c.oldValue;d!==void 0&&(p.fire("attr-change",{attr:m,newValue:f,oldValue:g,__this:p[0]}),e.each(d,function(){let u=i.getPlugin(p,this);u&&typeof u.changeAttribute=="function"&&u.changeAttribute(m,f,g)}))}else if(c.type==="childList"&&c.addedNodes.length>0){let p=[],d,m,f=c.addedNodes;if(f.length){for(let g=0;g<f.length;g++)m=f[g],d=e(m),d.attr("data-role")!==void 0&&p.push(m),e.each(d.find("[data-role]"),function(){p.indexOf(this)===-1&&p.push(this)});p.length&&i.initWidgets(p,"observe")}}})},t=new MutationObserver(o),t.observe(e("html")[0],a)},init:()=>{let t=e("[data-role]"),o=e("[data-hotkey]"),a=e("html");if(i.i18n.load(a.attr("lang")),globalThis.METRO_SHOW_INFO&&i.info(!0),r===!0&&a.addClass("touchable-device"),i.sheet=i.utils.newCssSheet(),i.utils.addCssRule(i.sheet,"*, *::before, *::after","box-sizing: border-box;"),globalThis.METRO_MEDIA=[],e.each(i.media_queries,(s,c)=>{i.utils.media(c)&&globalThis.METRO_MEDIA.push(i.media_mode[s])}),i.observe(),i.initHotkeys(o),i.initWidgets(t,"init"),globalThis.METRO_CLOAK_REMOVE!=="fade"?(e(".m4-cloak").removeClass("m4-cloak"),e(".cloak").removeClass("cloak"),e(globalThis).fire("metro-initiated")):e(".m4-cloak, .cloak").animate({draw:{opacity:[0,1]},dur:300,onDone:()=>{e(".m4-cloak").removeClass("m4-cloak"),e(".cloak").removeClass("cloak"),e(globalThis).fire("metro-initiated")}}),e(document).on("click","[data-copy-to-clipboard]",function(){let s=e(this).attr("data-copy-to-clipboard");i.utils.copy2clipboard(s),i.toast&&i.toast.create("Data copied to clipboard!")}),METRO_SMOOTH_SCROLL){let s=document.querySelectorAll('a.smooth-scroll[href^="#"]');for(let c of s)c.addEventListener("click",p=>{p.preventDefault();let d=c.getAttribute("href");document.querySelector(d).scrollIntoView({behavior:"smooth",block:"start"})})}},initHotkeys:(t,o)=>{e.each(t,function(){let a=e(this),s=a.attr("data-hotkey")?a.attr("data-hotkey").toLowerCase():!1,c=a.attr("data-hotkey-func")?a.attr("data-hotkey-func"):!1;s!==!1&&(a.data("hotKeyBonded")===!0&&o!==!0||(i.hotkeys[s]=[this,c],a.data("hotKeyBonded",!0),a.fire("hot-key-bonded",{__this:a[0],hotkey:s,fn:c})))})},initWidgets:t=>{e.each(t,function(){let o=e(this),a;this.hasAttribute("data-role")&&(a=o.attr("data-role").split(/\s*,\s*/),a.map(s=>{let c=i.utils.$(),p=l(s);if(c.fn[p]!==void 0&&o.attr("data-role-"+p)===void 0)try{c.fn[p].call(o),o.attr("data-role-"+p,!0);let d=o.data("metroComponent");d===void 0?d=[p]:d.push(p),o.data("metroComponent",d),o.fire("create",{__this:o[0],name:p}),e(document).fire("component-create",{element:o[0],name:p})}catch(d){throw console.error("Error creating component "+s+" for ",o[0]),d}}))}),i.i18n.updateUI()},plugin:(t,o)=>{let a=l(t),s=c=>{c.fn[a]=function(p){return this.each(function(){c.data(this,a,Object.create(o).init(p,this))})}};s(Dom),globalThis.useJQuery&&s(globalThis.jQuery)},pluginExists:t=>typeof(globalThis.useJQuery?globalThis.jQuery:Dom).fn[l(t)]=="function",destroyPlugin:(t,o)=>{let a,s,c=e(t),p=l(o);if(a=i.getPlugin(c,p),typeof a>"u"){console.warn("Component "+o+" can not be destroyed: the element is not a Metro UI component.");return}if(typeof a.destroy!="function"){console.warn("Component "+o+" can not be destroyed: method destroy not found.");return}a.destroy(),s=c.data("metroComponent"),i.utils.arrayDelete(s,p),c.data("metroComponent",s),e.removeData(c[0],p),c.removeAttr("data-role-"+p)},destroyPluginAll:t=>{let o=e(t),a=o.data("metroComponent");a!==void 0&&a.length>0&&e.each(a,function(){i.destroyPlugin(o[0],this)})},noop:()=>{},noop_true:()=>!0,noop_false:()=>!1,noop_arg:t=>t,requestFullScreen:t=>{t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.requestFullscreen().catch(o=>{console.warn("Error attempting to enable full-screen mode: "+o.message+" "+o.name)})},exitFullScreen:()=>{document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch(t=>{console.warn("Error attempting to disable full-screen mode: "+t.message+" "+t.name)})},inFullScreen:()=>(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)!==void 0,$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,get$el:t=>i.$()(e(t)[0]),get$elements:t=>i.$()(e(t)),getPlugin:(t,o)=>{let a=l(o),s=i.get$el(t);return s.length?s.data(a):void 0},makePlugin:(t,o,a)=>{let s=l(o),c=i.get$elements(t);return c.length&&typeof c[s]=="function"?c[s](a):void 0},Component:(t,o)=>{let a=l(t),s=i.utils,c=e.extend({name:a},{_super:function(p,d,m,f){this.elem=p,this.element=e(p),this.options=e.extend({},m,d),this.component=this.elem,this.locale="en",this.strings={},this._setOptionsFromDOM(),this._runtime(),this._setLocale(),f&&typeof f=="object"&&e.each(f,(g,u)=>{this[g]=u}),this._createExec()},_setOptionsFromDOM:function(){let p=this.element,d=this.options;e.each(p.data(),(m,f)=>{if(m in d)try{d[m]=JSON.parse(f)}catch{d[m]=f}})},_runtime:function(){let p=this.element,d,m=(p.attr("data-role")||"").toArray(",").map(f=>l(f)).filter(f=>f.trim()!=="");p.attr("data-role-"+this.name)||(p.attr("data-role-"+this.name,!0),m.indexOf(this.name)===-1&&(m.push(this.name),p.attr("data-role",m.join(","))),d=p.data("metroComponent"),d===void 0?d=[this.name]:d.push(this.name),p.data("metroComponent",d))},_createExec:function(){let p=this.options[this.name+"Deferred"];p?setTimeout(()=>{this._create()},p):this._create()},_fireEvent:function(p,d,m,f,g=null){let u=this.element,A=this.options,b,x=str(p).camelCase().capitalize(!1).value;return d=e.extend({},d,{__this:u[0]}),b=d?Object.values(d):{},m&&(console.warn(m),console.warn("Event: on"+x),console.warn("Data: ",d),console.warn("Element: ",u[0])),f!==!0&&u.fire(x.toLowerCase(),d),s.exec(A["on"+x],b,g||u[0])},_fireEvents:function(p,d,m,f,g){let u=this,A;if(arguments.length!==0){if(arguments.length===1)return e.each(p,function(){u._fireEvent(this.name,this.data,this.log,this.noFire,g)}),s.objectLength(p);!Array.isArray(p)&&typeof p!="string"||(A=Array.isArray(p)?p:p.toArray(","),e.each(A,function(){u._fireEvent(this,d,m,f,g)}))}},_setLocale:function(){let p=this.element.closest("[lang]");p.length>0?this.locale=p.attr("lang"):this.locale=e("html").attr("lang")||"en",this.strings=e.extend({},i.locales.en,i.locales[this.locale])},getComponent:function(){return this.component},getComponentName:function(){return this.name}},o);return i.plugin(a,c),c},fetch:{status:t=>t.ok?Promise.resolve(t):Promise.reject(new Error(t.statusText)),json:t=>t.json(),text:t=>t.text(),form:t=>t.formData(),blob:t=>t.blob(),buffer:t=>t.arrayBuffer()},i18n:{language:"en",load(t="en"){i.i18n.language=i.locales[t]?t:"en",i.locale=i.locales[i.i18n.language]},add(t,o){i.locales[t]=o},get(t,o){return i.locales[o][t]||""},updateUI(t=document,o){o||(o=e.html().attr("lang")||"en"),i.locales[o]&&(i.i18n.load(o),e.html().attr("lang",o),t.querySelectorAll("[data-i18n]").forEach(a=>{let s=a.getAttribute("data-i18n");a.innerHTML=i.i18n.get(s,o)}))},extend(t){e.each(t,(o,a)=>{i.locales[o]=Object.assign({},i.locales[o],a)})}}};return Object.assign(i,Mi),e(globalThis).on(i.events.resize,()=>{globalThis.METRO_MEDIA=[],e.each(i.media_queries,(t,o)=>{i.utils.media(o)&&globalThis.METRO_MEDIA.push(i.media_mode[t])})}),globalThis.Metro=i,globalThis.METRO_INIT===!0&&e(()=>{i.init()}),i})();(function(){Metro.i18n.add("en",{weekStart:0,january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",january_short:"Jan",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dec",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday_short:"Sun",monday_short:"Mon",tuesday_short:"Tue",wednesday_short:"Wed",thursday_short:"Thu",friday_short:"Fri",saturday_short:"Sat",sunday_short_2:"Su",monday_short_2:"Mo",tuesday_short_2:"Tu",wednesday_short_2:"We",thursday_short_2:"Th",friday_short_2:"Fr",saturday_short_2:"Sa",label_ok:"OK",label_cancel:"Cancel",label_done:"Done",label_today:"Today",label_now:"Now",label_clear:"Clear",label_help:"Help",label_yes:"Yes",label_no:"No",label_random:"Random",label_save:"Save",label_reset:"Reset",label_submit:"Submit",label_add_user_color:"Add to swatches",label_send:"Send",label_accept:"Accept",label_cookies_title:"This site uses cookies",label_cookies_text:"This website uses cookies to ensure you get the best experience on our website.",label_choose_file:"Choose file(s)",label_drop_file:"Click or drop file(s) here",label_files_selected:"{n} file(s) selected",label_days:"days",label_hours:"hours",label_minutes:"min",label_seconds:"sec",label_month:"mon",label_months:"mon's",label_day:"day",label_year:"year",label_years:"years",label_rows_count:"Show:",label_search:"Search:",label_table_info:"Showing $1 to $2 of $3 entries",label_prev:"Prev",label_next:"Next",label_all:"All",label_inspector:"Inspector",label_goto_page:"Goto",label_enter_page:"Enter page...",label_empty:"Nothing to show",label_user_colors:"User Colors",label_tiles:"Tiles",label_list:"List",label_load_more:"Load more",label_buy:"Buy",label_buy_now:"Buy now",label_buy_today:"Buy today",label_download:"Download",label_search_results:"Search results",label_add:"Add",label_edit:"Edit",label_delete:"Delete",label_new:"New",label_sell:"Sell",label_details:"Details",label_sorting:"Sorting",label_on:"on",label_off:"off",label_rename_tab:"Rename tab",label_close_tab:"Close tab",label_close_other_tabs:"Close other tabs",label_close_tabs_left:"Close tabs left",label_close_tabs_right:"Close tabs right",label_close_all_tabs:"Close all tabs",label_close_inactive_tabs:"Close inactive tabs",label_clear_input:"Clear input",label_reveal_password:"Reveal password",label_hide_password:"Hide password",label_generate_random:"Generate random value",label_search_input:"Search for the entered value",label_note:"Note",label_tip:"Tip",label_info:"Info",label_warning:"Warning",label_question:"Question",label_error:"Error",label_success:"Success",label_caution:"Caution",label_alert:"Alert",label_bug:"Bug",label_fuck:"Fuck",label_important:"Important"})})();(function(){Metro.i18n.add("ua",{weekStart:1,january:"\u0421\u0456\u0447\u0435\u043D\u044C",february:"\u041B\u044E\u0442\u0438\u0439",march:"\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C",april:"\u041A\u0432\u0456\u0442\u0435\u043D\u044C",may:"\u0422\u0440\u0430\u0432\u0435\u043D\u044C",june:"\u0427\u0435\u0440\u0432\u0435\u043D\u044C",july:"\u041B\u0438\u043F\u0435\u043D\u044C",august:"\u0421\u0435\u0440\u043F\u0435\u043D\u044C",september:"\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C",october:"\u0416\u043E\u0432\u0442\u0435\u043D\u044C",november:"\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434",december:"\u0413\u0440\u0443\u0434\u0435\u043D\u044C",january_short:"\u0421\u0456\u0447",february_short:"\u041B\u044E\u0442",march_short:"\u0411\u0435\u0440",april_short:"\u041A\u0432\u0456",may_short:"\u0422\u0440\u0430",june_short:"\u0427\u0435\u0440",july_short:"\u041B\u0438\u043F",august_short:"\u0421\u0435\u0440",september_short:"\u0412\u0435\u0440",october_short:"\u0416\u043E\u0432",november_short:"\u041B\u0438\u0441",december_short:"\u0413\u0440\u0443",sunday:"\u041D\u0435\u0434\u0456\u043B\u044F",monday:"\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A",tuesday:"\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A",wednesday:"\u0421\u0435\u0440\u0435\u0434\u0430",thursday:"\u0427\u0435\u0442\u0432\u0435\u0440",friday:"\u041F'\u044F\u0442\u043D\u0438\u0446\u044F",saturday:"\u0421\u0443\u0431\u043E\u0442\u0430",sunday_short:"\u041D\u0435\u0434",monday_short:"\u041F\u043E\u043D",tuesday_short:"\u0412\u0456\u0432",wednesday_short:"\u0421\u0435\u0440",thursday_short:"\u0427\u0435\u0442",friday_short:"\u041F\u0442\u043D",saturday_short:"\u0421\u0443\u0431",sunday_short_2:"\u041D\u0434",monday_short_2:"\u041F\u043D",tuesday_short_2:"\u0412\u0442",wednesday_short_2:"\u0421\u0440",thursday_short_2:"\u0427\u0442",friday_short_2:"\u041F\u0442",saturday_short_2:"\u0421\u0431",label_ok:"OK",label_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",label_done:"\u0412\u0438\u043A\u043E\u043D\u0430\u043D\u043E",label_today:"\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456",label_now:"\u0417\u0430\u0440\u0430\u0437",label_clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0438",label_help:"\u0414\u043E\u043F\u043E\u043C\u043E\u0433\u0430",label_yes:"\u0422\u0430\u043A",label_no:"\u041D\u0456",label_random:"\u0412\u0438\u043F\u0430\u0434\u043A\u043E\u0432\u043E",label_save:"\u0417\u0431\u0435\u0440\u0456\u0433\u0442\u0438",label_reset:"\u0421\u043A\u0438\u043D\u0443\u0442\u0438",label_submit:"\u0412\u0456\u0434\u043F\u0440\u0430\u0432\u0438\u0442\u0438",label_add_user_color:"\u0414\u043E\u0434\u0430\u0442\u0438 \u0434\u043E \u0437\u0440\u0430\u0437\u043A\u0456\u0432",label_send:"\u0412\u0456\u0434\u043F\u0440\u0430\u0432\u0438\u0442\u0438",label_accept:"\u041F\u0440\u0438\u0439\u043D\u044F\u0442\u0438",label_cookies_title:"\u0426\u0435\u0439 \u0441\u0430\u0439\u0442 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0454 \u0444\u0430\u0439\u043B\u0438 cookie",label_cookies_text:"\u0426\u0435\u0439 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0454 \u0444\u0430\u0439\u043B\u0438 cookie, \u0449\u043E\u0431 \u0437\u0430\u0431\u0435\u0437\u043F\u0435\u0447\u0438\u0442\u0438 \u0432\u0430\u043C \u043D\u0430\u0439\u043A\u0440\u0430\u0449\u0438\u0439 \u0434\u043E\u0441\u0432\u0456\u0434 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\u043D\u044F \u043D\u0430\u0448\u043E\u0433\u043E \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0443.",label_choose_file:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u0444\u0430\u0439\u043B(\u0438)",label_drop_file:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0430\u0431\u043E \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0444\u0430\u0439\u043B(\u0438) \u0441\u044E\u0434\u0438",label_files_selected:"\u0412\u0438\u0431\u0440\u0430\u043D\u043E {n} \u0444\u0430\u0439\u043B(\u0456\u0432)",label_days:"\u0434\u043D\u0456",label_hours:"\u0433\u043E\u0434",label_minutes:"\u0445\u0432\u0438\u043B",label_seconds:"\u0441\u0435\u043A",label_month:"\u043C\u0456\u0441",label_months:"\u043C\u0456\u0441\u044F\u0446\u0456",label_day:"\u0434\u0435\u043D\u044C",label_year:"\u0440\u0456\u043A",label_years:"\u0440\u043E\u043A\u0456\u0432",label_rows_count:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438:",label_search:"\u041F\u043E\u0448\u0443\u043A:",label_table_info:"\u0412\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043E \u0437 $1 \u043F\u043E $2 \u0456\u0437 $3 \u0437\u0430\u043F\u0438\u0441\u0456\u0432",label_prev:"\u041F\u043E\u043F\u0435\u0440",label_next:"\u041D\u0430\u0441\u0442",label_all:"\u0423\u0441\u0456",label_inspector:"\u0406\u043D\u0441\u043F\u0435\u043A\u0442\u043E\u0440",label_goto_page:"\u041F\u0435\u0440\u0435\u0439\u0442\u0438",label_enter_page:"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443...",label_empty:"\u041D\u0456\u0447\u043E\u0433\u043E \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u0438",label_user_colors:"\u041A\u043E\u043B\u044C\u043E\u0440\u0438 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",label_tiles:"\u041F\u043B\u0438\u0442\u043A\u0430",label_list:"\u0421\u043F\u0438\u0441\u043E\u043A",label_load_more:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0449\u0435",label_buy:"\u041A\u0443\u043F\u0438\u0442\u0438",label_buy_now:"\u041A\u0443\u043F\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437",label_buy_today:"\u041A\u0443\u043F\u0438\u0442\u0438 \u0441\u044C\u043E\u0433\u043E\u0434\u043D\u0456",label_download:"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438",label_search_results:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0438 \u043F\u043E\u0448\u0443\u043A\u0443",label_add:"\u0414\u043E\u0434\u0430\u0442\u0438",label_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",label_delete:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438",label_new:"\u041D\u043E\u0432\u0435",label_sell:"\u041F\u0440\u043E\u0434\u0430\u0442\u0438",label_details:"\u041F\u043E\u0434\u0440\u043E\u0431\u0438\u0446\u0456",label_sorting:"\u0421\u043E\u0440\u0442\u0443\u0432\u0430\u043D\u043D\u044F",label_on:"\u0443\u0432\u043C",label_off:"\u0432\u0438\u043C",label_rename_tab:"\u041F\u0435\u0440\u0435\u0439\u043C\u0435\u043D\u0443\u0432\u0430\u0442\u0438 \u0432\u043A\u043B\u0430\u0434\u043A\u0443",label_close_tab:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u0432\u043A\u043B\u0430\u0434\u043A\u0443",label_close_other_tabs:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u0456\u043D\u0448\u0456 \u0432\u043A\u043B\u0430\u0434\u043A\u0438",label_close_tabs_left:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u0432\u043A\u043B\u0430\u0434\u043A\u0438 \u043B\u0456\u0432\u043E\u0440\u0443\u0447",label_close_tabs_right:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u0432\u043A\u043B\u0430\u0434\u043A\u0438 \u043F\u0440\u0430\u0432\u043E\u0440\u0443\u0447",label_close_all_tabs:"\u0417\u0430\u043A\u0440\u0438\u0439\u0442\u0435 \u0432\u0441\u0456 \u0432\u043A\u043B\u0430\u0434\u043A\u0438",label_close_inactive_tabs:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u043D\u0435\u0430\u043A\u0442\u0438\u0432\u043D\u0456 \u0432\u043A\u043B\u0430\u0434\u043A\u0438",label_clear_input:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044F",label_reveal_password:"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 \u043F\u0430\u0440\u043E\u043B\u044C",label_hide_password:"\u041F\u0440\u0438\u0445\u043E\u0432\u0430\u0442\u0438 \u043F\u0430\u0440\u043E\u043B\u044C",label_generate_random:"\u0413\u0435\u043D\u0435\u0440\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u043F\u0430\u0434\u043A\u043E\u0432e \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F",label_search_input:"\u0428\u0443\u043A\u0430\u0442\u0438 \u0432\u0432\u0435\u0434\u0435\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F",label_note:"\u041F\u0440\u0438\u043C\u0456\u0442\u043A\u0430",label_tip:"\u041F\u0456\u0434\u043A\u0430\u0437\u043A\u0430",label_info:"\u0406\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0456\u044F",label_warning:"\u0423\u0432\u0430\u0433\u0430",label_question:"\u041F\u0438\u0442\u0430\u043D\u043D\u044F",label_error:"\u041F\u043E\u043C\u0438\u043B\u043A\u0430",label_success:"\u0423\u0441\u043F\u0456\u0445",label_caution:"\u041E\u0431\u0435\u0440\u0435\u0436\u043D\u043E",label_alert:"\u041F\u043E\u043F\u0435\u0440\u0435\u0434\u0436\u0435\u043D\u043D\u044F",label_bug:"\u041F\u043E\u043C\u0438\u043B\u043A\u0430",label_fuck:"\u0411\u043B\u044F",label_important:"\u0412\u0430\u0436\u043B\u0438\u0432\u043E"})})();(function(){"use strict";typeof Array.prototype.shuffle!="function"&&(Array.prototype.shuffle=function(){for(var e=this.length,r,l;e!==0;)l=Math.floor(Math.random()*e),e-=1,r=this[e],this[e]=this[l],this[l]=r;return this}),typeof Array.prototype.clone!="function"&&(Array.prototype.clone=function(){return this.slice(0)}),typeof Array.prototype.unique!="function"&&(Array.prototype.unique=function(){for(var e=this.concat(),r=0;r<e.length;++r)for(var l=r+1;l<e.length;++l)e[r]===e[l]&&e.splice(l--,1);return e}),typeof Array.prototype.pack!="function"&&(Array.prototype.pack=function(){return this.map(e=>e.trim()).filter(Boolean)})})();(function(){"use strict";Number.prototype.format=function(e,r,l,i){var t="\\d(?=(\\d{"+(r||3)+"})+"+(e>0?"\\D":"$")+")",o=this.toFixed(Math.max(0,~~e));return(i?o.replace(".",i):o).replace(new RegExp(t,"g"),"$&"+(l||","))}})();(function(){"use strict";String.prototype.toArray=function(e=",",r="string",l,i){var t=this,o;return l=l??!1,o=(""+t).split(e),o.map(function(a){var s;switch(r){case"int":case"integer":s=isNaN(a)?a.trim():parseInt(a);break;case"number":case"float":s=isNaN(a)?a:parseFloat(a);break;case"date":s=l?Datetime.from(a,l,i||"en-US"):datetime(a);break;default:s=a.trim()}return s})},String.prototype.capitalize=function(){var e=this;return e.substr(0,1).toUpperCase()+e.substr(1)}})();(function(e,r){"use strict";e.utils={nothing:function(){},noop:function(){},elementId:function(l){return l+"-"+new Date().getTime()+r.random(1,1e3)},secondsToTime:function(l){let i=Math.floor(l%31536e3/86400),t=Math.floor(l%31536e3%86400/3600),o=Math.floor(l%31536e3%86400%3600/60),a=Math.round(l%31536e3%86400%3600%60);return{d:i,h:t,m:o,s:a}},secondsToFormattedString:function(l){let i=parseInt(l,10),t=Math.floor(i/3600),o=Math.floor((i-t*3600)/60),a=i-t*3600-o*60;return[Str.lpad(t,"0",2),Str.lpad(o,"0",2),Str.lpad(a,"0",2)].join(":")},func:function(l){return new Function("a",l)},exec:function(l,i,t){let o;if(l==null)return!1;let a=this.isFunc(l);a===!1&&(a=this.func(l));try{o=a.apply(t,i)}catch(s){if(o=null,globalThis.METRO_THROWS===!0)throw s}return o},embedUrl:function(l){return l.indexOf("youtu.be")!==-1&&(l="https://www.youtube.com/embed/"+l.split("/").pop()),"<div class='embed-container'><iframe src='"+l+"'></iframe></div>"},isVisible:function(l){let i=r(l)[0];return this.getStyleOne(i,"display")!=="none"&&this.getStyleOne(i,"visibility")!=="hidden"&&i.offsetParent!==null},isUrl:function(l){return/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:?\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(l)},isTag:function(l){return/^<\/?[\w\s="\/.':;#-\/?]+>/gi.test(l)},isEmbedObject:function(l){let i=["iframe","object","embed","video"],t=!1;return r.each(i,function(){(typeof l=="string"&&l.toLowerCase()===this||l.nodeType!==void 0&&l.tagName.toLowerCase()===this)&&(t=!0)}),t},isVideoUrl:function(l){return/youtu\.be|youtube|twitch|vimeo/gi.test(l)},isDate:function(l,i,t="en-US"){let o;if(this.isDateObject(l))return!0;try{return o=i?Datetime.from(l,i,t):datetime(l),Datetime.isDatetime(o)}catch{return!1}},isDateObject:function(l){return typeof l=="object"&&l.getMonth!==void 0},isInt:function(l){return!isNaN(l)&&+l%1===0},isFloat:function(l){return!isNaN(l)&&+l%1!==0||/^\d*\.\d+$/.test(l)},isFunc:function(l){return this.isType(l,"function")},isObject:function(l){return this.isType(l,"object")},isObject2:function(l){return typeof l=="object"&&!Array.isArray(l)},isType:function(l,i){if(!this.isValue(l))return!1;if(typeof l===i||(""+i).toLowerCase()==="tag"&&this.isTag(l)||(""+i).toLowerCase()==="url"&&this.isUrl(l)||(""+i).toLowerCase()==="array"&&Array.isArray(l))return l;if(i!=="string"&&this.isTag(l)||this.isUrl(l))return!1;if(typeof window[l]===i)return window[l];if(typeof l=="string"&&l.indexOf(".")===-1||typeof l=="string"&&/[/\s([]+/gm.test(l)||typeof l=="number"&&i.toLowerCase()!=="number")return!1;let t=l.split("."),o,a=window;for(o=0;o<t.length;o++)a=a[t[o]];return typeof a===i?a:!1},$:function(){return globalThis.useJQuery?globalThis.jQuery:Dom},isMetroObject:function(l,i){let t=r(l),o=e.getPlugin(l,i);return t.length===0?(console.warn(i+" "+l+" not found!"),!1):o===void 0?(console.warn("Element not contain role "+i+'! Please add attribute data-role="'+i+'" to element '+l),!1):!0},isJQuery:function(l){return typeof globalThis.jQuery<"u"&&l instanceof globalThis.jQuery},isDom:function(l){return typeof Dom<"u"&&l instanceof Dom},isQ:function(l){return this.isJQuery(l)||this.isDom(l)},isOutsider:function(l){let i=r(l),t,o=i.clone();return o.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),i.parent().append(o),t=this.inViewport(o[0]),o.remove(),!t},inViewport:function(l){let i=this.rect(l);return i.top>=0&&i.left>=0&&i.bottom<=(globalThis.innerHeight||document.documentElement.clientHeight)&&i.right<=(globalThis.innerWidth||document.documentElement.clientWidth)},rect:function(l){return l.getBoundingClientRect()},getCursorPosition:function(l,i){let t=this.rect(l);return{x:this.pageXY(i).x-t.left-globalThis.scrollX,y:this.pageXY(i).y-t.top-globalThis.scrollY}},getCursorPositionX:function(l,i){return this.getCursorPosition(l,i).x},getCursorPositionY:function(l,i){return this.getCursorPosition(l,i).y},objectLength:function(l){return Object.keys(l).length},percent:function(l,i,t){if(l===0)return 0;let o=i*100/l;return t===!0?Math.round(o):Math.round(o*100)/100},objectShift:function(l){let i=0;return r.each(l,function(t){(i===0||i>t)&&(i=t)}),delete l[i],l},objectDelete:function(l,i){i in l&&delete l[i]},arrayDeleteByMultipleKeys:function(l,i){return i.forEach(function(t){delete l[t]}),l.filter(function(t){return t!==void 0})},arrayDelete:function(l,i){let t=l.indexOf(i);t>-1&&l.splice(t,1)},arrayDeleteByKey:function(l,i){l.splice(i,1)},nvl:function(l,i){return l??i},objectClone:function(l){let i={};for(let t in l)r.hasProp(l,t)&&(i[t]=l[t]);return i},github:async function(l,i){let t=await fetch(`https://api.github.com/repos/${l}`);if(!t.ok)return;let o=await t.json();this.exec(i,[o])},pageHeight:function(){let l=document.body,i=document.documentElement;return Math.max(l.scrollHeight,l.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)},cleanPreCode:function(l){Array.prototype.slice.call(document.querySelectorAll(l),0).forEach(function(t){let o=t.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(o)){t.textContent=o;return}let a,s,c=/^[\t ]+/gm,p,d=1e3;for(;a=c.exec(o);)p=a[0].length,p<d&&(d=p,s=a[0]);d!==1e3&&(t.textContent=o.replace(new RegExp("^"+s,"gm"),"").trim())})},coords:function(l){let t=r(l)[0].getBoundingClientRect();return{top:t.top+globalThis.pageYOffset,left:t.left+globalThis.pageXOffset}},positionXY:function(l,i,t){switch(i){case"client":return this.clientXY(l,t);case"screen":return this.screenXY(l,t);case"page":return this.pageXY(l,t);default:return{x:0,y:0}}},clientXY:function(l,i="touches"){return{x:l[i]?l[i][0].clientX:l.clientX,y:l[i]?l[i][0].clientY:l.clientY}},screenXY:function(l,i="touches"){return{x:l[i]?l[i][0].screenX:l.screenX,y:l[i]?l[i][0].screenY:l.screenY}},pageXY:function(l,i="touches"){return{x:l[i]?l[i][0].pageX:l.pageX,y:l[i]?l[i][0].pageY:l.pageY}},isRightMouse:function(l){return"which"in l?l.which===3:"button"in l?l.button===2:void 0},hiddenElementSize:function(l,i){let t,o,a=r(l).clone(!0);return a.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),r("body").append(a),this.isValue(i)||(i=!1),t=a.outerWidth(i),o=a.outerHeight(i),a.remove(),{width:t,height:o}},getStyle:function(l){let i=r(l)[0];return globalThis.getComputedStyle(i)},getStyleOne:function(l,i){return this.getStyle(l).getPropertyValue(i)},getInlineStyles:function(l){let i,t,o={},a=r(l)[0];for(i=0,t=a.style.length;i<t;i++){let s=a.style[i];o[s]=a.style[s]}return o},encodeURI:function(l){return encodeURI(l).replace(/%5B/g,"[").replace(/%5D/g,"]")},updateURIParameter:function(l,i,t){let o=new RegExp("([?&])"+i+"=.*?(&|$)","i"),a=l.indexOf("?")!==-1?"&":"?";return l.match(o)?l.replace(o,"$1"+i+"="+t+"$2"):l+a+i+"="+t},getURIParameter:function(l,i){l||(l=globalThis.location.href),i=i.replace(/[\[\]]/g,"\\$&");let t=new RegExp("[?&]"+i+"(=([^&#]*)|&|#|$)"),o=t.exec(l);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},getLocales:function(){return Object.keys(e.locales)},addLocale:function(l){e.locales=r.extend({},e.locales,l)},aspectRatioH:function(l,i){if(i==="16/9")return l*9/16;if(i==="21/9")return l*9/21;if(i==="4/3")return l*3/4},aspectRatioW:function(l,i){if(i==="16/9")return l*16/9;if(i==="21/9")return l*21/9;if(i==="4/3")return l*4/3},valueInObject:function(l,i){return Object.values(l).indexOf(i)>-1},keyInObject:function(l,i){return Object.keys(l).indexOf(i)>-1},inObject:function(l,i,t){return l[i]!==void 0&&l[i]===t},newCssSheet:function(l){let i=document.createElement("style");return l!==void 0&&i.setAttribute("media",l),i.appendChild(document.createTextNode("")),document.head.appendChild(i),i.sheet},addCssRule:function(l,i,t,o){l.insertRule(i+"{"+t+"}",o)},media:function(l){return globalThis.matchMedia(l).matches},mediaModes:function(){return globalThis.METRO_MEDIA},mediaExist:function(l){return globalThis.METRO_MEDIA.indexOf(l)>-1},inMedia:function(l){return globalThis.METRO_MEDIA.indexOf(l)>-1&&globalThis.METRO_MEDIA.indexOf(l)===globalThis.METRO_MEDIA.length-1},isValue:function(l){return l!=null&&l!==""},isNull:function(l){return l==null},isNegative:function(l){return parseFloat(l)<0},isPositive:function(l){return parseFloat(l)>0},isZero:function(l){return parseFloat(l.toFixed(2))===0},between:function(l,i,t,o){return o===!0?l>=i&&l<=t:l>i&&l<t},parseMoney:function(l){return Number(parseFloat(l.replace(/[^0-9-.]/g,"")))},parseCard:function(l){return l.replace(/[^0-9]/g,"")},parsePhone:function(l){return this.parseCard(l)},parseNumber:function(l,i,t){return l.replace(new RegExp("\\"+i,"g"),"").replace(new RegExp("\\"+t,"g"),".")},nearest:function(l,i,t){return l/=i,l=Math[t===!0?"floor":"ceil"](l)*i,l},bool:function(l){switch(l){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}},decCount:function(l){return l%1===0?0:l.toString().split(".")[1].length},classNames:function(){let l=Array.prototype.slice.call(arguments,0),i=[];for(let t of l)if(t)if(typeof t=="string")i.push(t);else if(e.utils.isObject(t))for(let o in t)t[o]&&i.push(o);else e.utils.nothing();return i.join(" ")},join:function(){let l=Array.prototype.slice.call(arguments,0),i=l.pop(),t=[];for(let o of l)o&&t.push(e.utils.isObject(o)?Object.values(o)[0]:o);return t.join(i)},copy2clipboard:function(l,i){navigator.clipboard.writeText(l).then(function(){e.utils.exec(i,[l])})},getCssVar:function(l){let i=document.documentElement;return getComputedStyle(i).getPropertyValue(l)},scrollTo:function(l,i){(typeof l=="string"?r(l)[0]:l).scrollIntoView({...i,behavior:"smooth",block:"start"})}},globalThis.METRO_GLOBAL_COMMON===!0&&(globalThis.Utils=e.utils)})(Metro,Dom);(function(e,r){"use strict";let l={duration:METRO_ANIMATION_DURATION,ease:"linear"};e.Effects={switchIn:function(i){r(i).hide().css({left:0,top:0}).show()},switchOut:function(i){r(i).hide()},switch:function(i,t){this.switchOut(i),this.switchIn(t)},slideUpIn:function(i,t){let o,a=r(i),s=a.parent().outerHeight(!0);o=r.extend({},l,t),a.css({top:s,left:0,zIndex:2}).animate({draw:{top:0,opacity:1},dur:o.duration,ease:o.ease})},slideUpOut:function(i,t){let o,a=r(i),s=a.parent().outerHeight(!0);o=r.extend({},l,t),a.css({zIndex:1}).animate({draw:{top:-s,opacity:0},dur:o.duration,ease:o.ease})},slideUp:function(i,t,o){this.slideUpOut(i,o),this.slideUpIn(t,o)},slideDownIn:function(i,t){let o,a=r(i),s=a.parent().outerHeight(!0);o=r.extend({},l,t),a.css({left:0,top:-s,zIndex:2}).animate({draw:{top:0,opacity:1},dur:o.duration,ease:o.ease})},slideDownOut:function(i,t){let o,a=r(i),s=a.parent().outerHeight(!0);o=r.extend({},l,t),a.css({zIndex:1}).animate({draw:{top:s,opacity:0},dur:o.duration,ease:o.ease})},slideDown:function(i,t,o){this.slideDownOut(i,o),this.slideDownIn(t,o)},slideLeftIn:function(i,t){let o,a=r(i),s=a.parent().outerWidth(!0);o=r.extend({},l,t),a.css({left:s,zIndex:2}).animate({draw:{left:0,opacity:1},dur:o.duration,ease:o.ease})},slideLeftOut:function(i,t){let o,a=r(i),s=a.parent().outerWidth(!0);o=r.extend({},l,t),a.css({zIndex:1}).animate({draw:{left:-s,opacity:0},dur:o.duration,ease:o.ease})},slideLeft:function(i,t,o){this.slideLeftOut(i,o),this.slideLeftIn(t,o)},slideRightIn:function(i,t){let o,a=r(i),s=a.parent().outerWidth(!0);o=r.extend({},l,t),a.css({left:-s,zIndex:2}).animate({draw:{left:0,opacity:1},dur:o.duration,ease:o.ease})},slideRightOut:function(i,t){let o,a=r(i),s=a.parent().outerWidth(!0);o=r.extend({},l,t),a.css({zIndex:1}).animate({draw:{left:s,opacity:0},dur:o.duration,ease:o.ease})},slideRight:function(i,t,o){this.slideRightOut(i,o),this.slideRightIn(t,o)},fadeIn:function(i,t){let o=r.extend({},l,t);r(i).css({top:0,left:0,opacity:0}).animate({draw:{opacity:1},dur:o.duration,ease:o.ease})},fadeOut:function(i,t){let o=r.extend({},l,t);r(i).animate({draw:{opacity:0},dur:o.duration,ease:o.ease})},fade:function(i,t,o){this.fadeOut(i,o),this.fadeIn(t,o)},zoomIn:function(i,t){let o=r.extend({},l,t);r(i).css({top:0,left:0,opacity:0,transform:"scale(3)",zIndex:2}).animate({draw:{scale:1,opacity:1},dur:o.duration,ease:o.ease})},zoomOut:function(i,t){let o=r.extend({},l,t);r(i).css({zIndex:1}).animate({draw:{scale:3,opacity:0},dur:o.duration,ease:o.ease})},zoom:function(i,t,o){this.zoomOut(i,o),this.zoomIn(t,o)},swirlIn:function(i,t){let o=r.extend({},l,t);r(i).css({top:0,left:0,opacity:0,transform:"scale(3) rotate(180deg)",zIndex:2}).animate({draw:{scale:1,rotate:0,opacity:1},dur:o.duration,ease:o.ease})},swirlOut:function(i,t){let o=r.extend({},l,t);r(i).css({zIndex:1}).animate({draw:{scale:3,rotate:"180deg",opacity:0},dur:o.duration,ease:o.ease})},swirl:function(i,t,o){this.swirlOut(i,o),this.swirlIn(t,o)}}})(Metro,Dom);(function(e,r){"use strict";let l={accordionDeferred:0,showMarker:!0,material:!1,duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:e.noop,onFrameBeforeOpen:e.noop_true,onFrameClose:e.noop,onFrameBeforeClose:e.noop_true,onAccordionCreate:e.noop};e.accordionSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroAccordionSetup!==void 0&&e.accordionSetup(globalThis.metroAccordionSetup),e.Component("accordion",{init:function(i,t){return this._super(t,i,l),this},_create:function(){let i=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:i})},_createStructure:function(){let i=this,t=this.element,o=this.options,a=t.children(".frame"),s=t.children(".frame.active"),c;t.addClass("accordion").addClass(o.clsAccordion),a.addClass(o.clsFrame).each(function(){let p=r(this);p.children(".heading").addClass(o.clsHeading),p.children(".content").addClass(o.clsContent)}),o.showMarker===!0&&t.addClass("marker-on"),o.material===!0&&t.addClass("material"),s.length===0?c=a[0]:c=s[0],this._hideAll(),o.showActive===!0&&(o.oneFrame===!0?this._openFrame(c):r.each(s,function(){i._openFrame(this)}))},_createEvents:function(){let i=this,t=this.element,o=this.options,a=t.children(".frame.active");t.on(e.events.click,".heading",function(){let s=r(this),c=s.parent();if(s.closest(".accordion")[0]!==t[0])return!1;c.hasClass("active")?a.length===1&&o.oneFrame||i._closeFrame(c):i._openFrame(c)})},_openFrame:function(i){let t=this.element,o=this.options,a=r(i);if(e.utils.exec(o.onFrameBeforeOpen,[a[0]],t[0])===!1)return!1;o.oneFrame===!0&&this._closeAll(a[0]),a.addClass("active").addClass(o.clsActiveFrame),a.children(".heading").addClass(o.clsActiveFrameHeading),a.children(".content").addClass(o.clsActiveFrameContent).slideDown(o.duration),this._fireEvent("frameOpen",{frame:a[0]})},_closeFrame:function(i){let t=this.element,o=this.options,a=r(i);a.hasClass("active")&&e.utils.exec(o.onFrameBeforeClose,[a[0]],t[0])!==!1&&(a.removeClass("active").removeClass(o.clsActiveFrame),a.children(".heading").removeClass(o.clsActiveFrameHeading),a.children(".content").removeClass(o.clsActiveFrameContent).slideUp(o.duration),this._fireEvent("frameClose",{frame:a[0]}))},_closeAll:function(i){let t=this,a=this.element.children(".frame");r.each(a,function(){i!==this&&t._closeFrame(this)})},_hideAll:function(){let t=this.element.children(".frame");r.each(t,function(){r(this).children(".content").hide()})},_openAll:function(){let i=this,o=this.element.children(".frame");r.each(o,function(){i._openFrame(this)})},open:function(i){let t=this.element.children(".frame").eq(i);this._openFrame(t)},changeAttribute:function(i,t){},destroy:function(){let i=this.element;return i.off(e.events.click,".heading"),i}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,title:"",content:"",customButtons:null,actionsAlign:"right",defaultActions:!0,defaultActionButtons:"ok, cancel, help",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"auto",height:"auto",closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onOk:e.noop,onCancel:e.noop,onHelp:e.noop,onShow:e.noop,onHide:e.noop,onOpen:e.noop,onClose:e.noop,onDialogCreate:e.noop};e.dialogSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroDialogSetup!==void 0&&e.dialogSetup(globalThis.metroDialogSetup),e.Component("dialog",{_counter:0,init:function(t,o){return this._super(o,t,i,{interval:null,overlay:null,id:l.elementId("dialog")}),this},_create:function(){this._build()},_build:function(){var t=this,o=this.element,a=this.options,s=this.strings,c=r("body"),p;if(o.addClass("dialog"),a.title!==""&&this.setTitle(a.title),a.content!==""&&this.setContent(a.content),a.defaultActions===!0||a.customButtons){var d=o.find(".dialog-actions"),m;if(d.length===0&&(d=r("<div>").addClass("dialog-actions").addClass("text-"+a.actionsAlign).appendTo(o)),a.defaultActions===!0&&o.find(".dialog-actions > *").length===0)for(let u of a.defaultActionButtons.toArray(","))m=r("<button>").addClass(u!=="help"?".js-dialog-close":"").addClass(a.clsDefaultAction).html(s[`label_${u}`]),m.appendTo(d),u==="ok"&&m.on(e.events.click,function(){l.exec(a.onOk,[o])}),u==="help"&&m.on(e.events.click,function(){l.exec(a.onHelp,[o])}),u==="cancel"&&m.on(e.events.click,function(){l.exec(a.onCancel,[o])});let g=l.isObject(a.customButtons);Array.isArray(g)&&r.each(g,function(){var u=this;m=r("<button>").addClass("button").addClass(u.cls).html(u.text),u.onclick!==void 0&&m.on(e.events.click,function(){l.exec(u.onclick,[o])}),m.appendTo(d)})}a.overlay===!0&&(p=this._overlay(),this.overlay=p),a.closeAction===!0&&o.on(e.events.click,".js-dialog-close",function(){t.close()});var f=o.find("closer");f.length===0&&(f=r("<span>").addClass("closer js-dialog-close"),f.appendTo(o)),a.closeButton!==!0&&f.hide(),o.css({height:a.height,visibility:"hidden",top:"100%"}),a.width!=="auto"&&o.css({width:a.width}),o.addClass(a.clsDialog),o.find(".dialog-title").addClass(a.clsTitle),o.find(".dialog-content").addClass(a.clsContent),o.find(".dialog-actions").addClass(a.clsAction),o.appendTo(c),a.show&&this.open(),r(globalThis).on(e.events.resize,function(){t.setPosition()},{ns:this.id}),this._fireEvent("dialog-create",{element:o})},_overlay:function(){var t=this.options,o=r("<div>");return o.addClass("overlay").addClass(t.clsOverlay),t.overlayColor==="transparent"?o.addClass("transparent"):o.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(t.overlayColor),t.overlayAlpha)}),o},hide:function(t){var o=this.element,a=this.options,s=0;a.onHide!==e.noop&&(s=500,this._fireEvent("hide")),setTimeout(function(){l.exec(t,null,o[0]),o.css({visibility:"hidden",top:"100%"})},s)},show:function(t){var o=this.element;this.setPosition(),o.css({visibility:"visible"}),this._fireEvent("show"),l.exec(t,null,o[0])},setPosition:function(){var t=this.element,o=this.options,a,s;o.toTop!==!0&&o.toBottom!==!0?(a=(r(globalThis).height()-t.outerHeight())/2,a<0&&(a=0),s="auto"):(o.toTop===!0&&(a=0,s="auto"),o.toTop!==!0&&o.toBottom===!0&&(s=0,a="auto")),t.css({top:a,bottom:s,left:(r(globalThis).width()-t.outerWidth())/2})},setContent:function(t){var o=this.element,a=o.find(".dialog-content");a.length===0&&(a=r("<div>").addClass("dialog-content"),a.appendTo(o)),!l.isQ(t)&&l.isFunc(t)&&(t=l.exec(t)),l.isQ(t)?t.appendTo(a):a.html(t)},setTitle:function(t){var o=this.element,a=o.find(".dialog-title");a.length===0&&(a=r("<div>").addClass("dialog-title"),a.appendTo(o)),a.html(t)},close:function(){var t=this,o=this.element,a=this.options;l.bool(a.leaveOverlayOnClose)||r("body").find(".overlay").remove(),this.hide(function(){o.data("open",!1),t._fireEvent("close"),a.removeOnClose===!0&&o.remove()})},open:function(){var t=this,o=this.element,a=this.options;a.overlay===!0&&r(".overlay").length===0&&(this.overlay.appendTo(r("body")),a.overlayClickClose===!0&&this.overlay.on(e.events.click,function(){t.close()})),this.show(function(){t._fireEvent("open"),o.data("open",!0),parseInt(a.autoHide)>0&&setTimeout(function(){t.close()},parseInt(a.autoHide))})},toggle:function(){var t=this.element;t.data("open")?this.close():this.open()},isOpen:function(){return this.element.data("open")===!0},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.click,".js-dialog-close"),t.find(".button").off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),t}}),e.dialog={isDialog:function(t){return l.isMetroObject(t,"dialog")},open:function(t,o,a){if(!this.isDialog(t))return!1;var s=e.getPlugin(t,"dialog");a!==void 0&&s.setTitle(a),o!==void 0&&s.setContent(o),s.open()},close:function(t){if(!this.isDialog(t))return!1;e.getPlugin(r(t)[0],"dialog").close()},toggle:function(t){if(!this.isDialog(t))return!1;e.getPlugin(r(t)[0],"dialog").toggle()},isOpen:function(t){if(!this.isDialog(t))return!1;e.getPlugin(r(t)[0],"dialog").isOpen()},remove:function(t){if(!this.isDialog(t))return!1;var o=e.getPlugin(r(t)[0],"dialog");o.options.removeOnClose=!0,o.close()},create:function(t){var o;o=r("<div>").appendTo(r("body"));var a=r.extend({},{show:!0,closeAction:!0,removeOnClose:!0},t!==void 0?t:{});return a._runtime=!0,e.makePlugin(o,"dialog",a)}}})(Metro,Dom);(function(e,r){"use strict";var l={activityDeferred:0,type:"ring",style:"",size:64,radius:20,onActivityCreate:e.noop};e.activitySetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroActivitySetup!==void 0&&e.activitySetup(globalThis.metroActivitySetup),e.Component("activity",{init:function(i,t){return this._super(t,i,l),this},_create:function(){var i=this.element,t=this.options,o,a;i.html("").addClass(t.style==="dark"?"dark-side":t.style==="color"?"color-style":"").addClass("activity-"+t.type);function s(){for(o=0;o<5;o++)r("<div/>").addClass("circle").appendTo(i)}function c(){for(o=0;o<4;o++)r("<div/>").addClass("square").appendTo(i)}function p(){r("<div/>").addClass("cycle").appendTo(i)}function d(){for(o=0;o<5;o++)a=r("<div/>").addClass("wrap").appendTo(i),r("<div/>").addClass("circle").appendTo(a)}function m(){r('<svg class="circular"><circle class="path" cx="'+t.size/2+'" cy="'+t.size/2+'" r="'+t.radius+'" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg>').appendTo(i)}function f(){for(o=0;o<3;o++)r("<span/>").addClass("electron").appendTo(i)}function g(){for(o=0;o<6;o++)r("<span/>").addClass("bar").appendTo(i)}switch(t.type){case"metro":s();break;case"square":c();break;case"cycle":p();break;case"simple":m();break;case"atom":f();break;case"bars":g();break;default:d()}this._fireEvent("activity-create",{element:i})},changeAttribute:function(i){},destroy:function(){return this.element}}),e.activity={open:function(i){var t=i||{},o='<div data-role="activity" data-type="'+(t.type?t.type:"cycle")+'" data-style="'+(t.style?t.style:"color")+'"></div>',a=t.text?'<div class="text-center">'+t.text+"</div>":"";return e.dialog.create({content:o+a,defaultAction:!1,clsContent:"d-flex flex-column flex-justify-center flex-align-center bg-transparent no-shadow w-auto",clsDialog:"no-border no-shadow bg-transparent global-dialog",autoHide:t.autoHide?t.autoHide:0,overlayClickClose:t.overlayClickClose===!0,overlayColor:t.overlayColor?t.overlayColor:"#000000",overlayAlpha:t.overlayAlpha?t.overlayAlpha:.5,clsOverlay:"global-overlay"})},close:function(i){e.dialog.close(i)}}})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={adblockDeferred:0,checkInterval:1e3,fireOnce:!0,checkStop:10,localhost:!1,onAlert:e.noop,onFishingStart:e.noop,onFishingDone:e.noop};e.adblockSetup=function(o){i=r.extend({},i,o)},typeof globalThis.metroAdblockSetup!==void 0&&e.adblockSetup(globalThis.metroAdblockSetup);var t={bite:function(){var o="adblock-bite adsense google-adsense dblclick advert topad top_ads topAds textads sponsoredtextlink_container show_ads right-banner rekl mpu module-ad mid_ad mediaget horizontal_ad headerAd contentAd brand-link bottombanner bottom_ad_block block_ad bannertop banner-right banner-body b-banner b-article-aside__banner b-advert adwrapper adverts advertisment advertisement:not(body) advertise advert_list adtable adsense adpic adlist adleft adinfo adi adholder adframe addiv ad_text ad_space ad_right ad_links ad_body ad_block ad_Right adTitle adText";r("<div>").addClass(o.split(" ").shuffle().join(" ")).css({position:"fixed",height:1,width:1,overflow:"hidden",visibility:"visible",top:0,left:0}).append(r("<a href='https://dblclick.net'>").html("dblclick.net")).appendTo("body"),t.options.adblockDeferred?setTimeout(function(){t.fishing()},t.options.adblockDeferred):this.fishing()},fishing:function(){var o=t.options,a=typeof o.fireOnce=="number"?o.fireOnce:0,s=o.checkStop,c=!1,p=function(){var d=r(".adsense.google-adsense.dblclick.advert.adblock-bite"),m=d.find("a"),f=function(){clearInterval(c),l.exec(o.onFishingDone),r(globalThis).fire("fishing-done"),d.remove()};if(!o.localhost&&r.localhost){f();return}!d.length||!m.length||d.css("display").indexOf("none")>-1||m.css("display").indexOf("none")>-1?(l.exec(t.options.onAlert),r(globalThis).fire("adblock-alert"),t.options.fireOnce===!0?f():(a--,a===0&&f())):s!==!1&&(s--,s===0&&f())};l.exec(o.onFishingStart),r(globalThis).fire("fishing-start"),c=setInterval(function(){p()},t.options.checkInterval),p()}};e.Adblock=t,r(function(){t.options=r.extend({},i),r(globalThis).on("metro-initiated",function(){t.bite()})})})(Metro,Dom);(function(e,r){"use strict";var l={icon:null,showNumbers:!1,showMoon:!0,showDay:!0,showDigitalClock:!0,timeFormat:24,onAnalogClockCreate:e.noop};e.analogClockSetup=function(i){l=r.extend({},l,i)},typeof window.metroAnalogClockSetup!==void 0&&e.analogClockSetup(window.metroAnalogClockSetup),e.Component("analog-clock",{init:function(i,t){return this._super(t,i,l,{}),this},_create:function(){var i=this,t=this.element,o=this.options;this._createStructure(),this._createEvents(),this._fireEvent("analog-clock-create")},_createStructure:function(){var i=this,t=this.element,o=this.options;let a=datetime();t.addClass("analog-clock"),o.showNumbers&&t.addClass("show-numbers");for(let s=1;s<=12;s++)t.append(`<label class="dash" style="--i: ${s}"><span>${o.showNumbers?s:"|"}</span></label>`);for(let s=1;s<=90;s++)s%5!==0&&t.append(`<label class="secondary-dash" style="--i2: ${s}"><span>|</span></label>`);t.append(`
                <div class="hands">
                    <div class="hour"></div>                
                    <div class="minute"></div>                
                    <div class="second"></div>                
                </div>
                  
            `),t.append(`
                <div class="day-month">
                    <div class="day-month-inner">
                        <div class="day">${a.format("DD",this.locale)}</div>
                        <div class="month">${a.format("MMM",this.locale)}</div>                    
                    </div>
                    <div class="week-day">${a.format("dddd",this.locale)}</div>
                </div>
            `),o.showDay===!1&&t.find(".day-month").hide(),t.append(`
                <div class="digital-clock">
                    <div class="dc-hour">${a.format(o.timeFormat===24?"HH":"hh",this.locale)}</div>
                    <div class="dc-minute">${a.format("mm",this.locale)}</div>
                    <div class="dc-second">${a.format("ss",this.locale)}</div>
                </div>
            `),o.showDigitalClock===!1&&t.find(".digital-clock").hide(),o.icon&&t.append(`<div class="icon">${o.icon}</div>`),o.showMoon===!0&&t.append('<div class="moon"></div>'),this._updateTime(),setInterval(()=>{t.toggleClass("tick")},500)},_createEvents:function(){var i=this,t=this.element,o=this.options},_updateTime:function(){let i=this.element,t=this.options,o=i.find(".second"),a=i.find(".minute"),s=i.find(".hour"),c=i.find(".dc-second"),p=i.find(".dc-minute"),d=i.find(".dc-hour"),m=i.find(".day"),f=i.find(".month"),g=i.find(".moon"),u=()=>{let A=datetime(),b=A.second()/60*360,x=A.minute()/60*360,v=A.hour12()/12*360,I=A.format("DD",this.locale),B=A.format("MMM",this.locale),k=A.moon();o[0].style.transform=`rotate(${b}deg)`,a[0].style.transform=`rotate(${x}deg)`,s[0].style.transform=`rotate(${v}deg)`,m.html(I),f.html(B),g.removeClass("").addClass(`${k.name}`),d[0].innerHTML=A.format(t.timeFormat===24?"HH":"hh",this.locale),p[0].innerHTML=A.format("mm",this.locale),c[0].innerHTML=A.format("ss",this.locale)};u(),setInterval(u,1e3)},changeAttribute:function(i,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,onMenuOpen:e.noop,onMenuClose:e.noop,onBeforeMenuOpen:e.noop,onBeforeMenuClose:e.noop,onMenuCollapse:e.noop,onMenuExpand:e.noop,onAppBarCreate:e.noop};e.appBarSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroAppBarSetup!==void 0&&e.appBarSetup(globalThis.metroAppBarSetup),e.Component("app-bar",{init:function(t,o){return this._super(o,t,i,{id:l.elementId("app-bar")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,a,s,c=l.getStyleOne(t,"background-color");if(t.addClass("app-bar"),a=t.find(".hamburger"),a.length===0){a=r("<button>").attr("type","button").addClass("hamburger menu-down");for(var p=0;p<3;p++)r("<span>").addClass("line").appendTo(a)}t.prepend(a),s=t.find(".app-bar-menu"),s.length===0?a.css("display","none"):l.addCssRule(e.sheet,".app-bar-menu li","list-style: none!important;"),a.css("display")==="block"?(s.hide().addClass("collapsed"),a.removeClass("hidden")):a.addClass("hidden"),(o.expand===!0||l.isValue(o.expandPoint)&&l.mediaExist(o.expandPoint))&&(t.addClass("app-bar-expand"),a.addClass("hidden"))},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.find(".app-bar-menu"),c=o.find(".hamburger");o.on(e.events.click,".hamburger",function(){if(s.length!==0){var p=s.hasClass("collapsed");p?t.open():t.close()}}),r(globalThis).on(e.events.resize,function(){if(a.expand!==!0&&(l.isValue(a.expandPoint)&&l.mediaExist(a.expandPoint)?(o.addClass("app-bar-expand"),t._fireEvent("menu-expand")):(o.removeClass("app-bar-expand"),t._fireEvent("menu-collapse"))),s.length===0){c.addClass("hidden");return}s.removeClass("opened").removeClass("collapsed"),c.css("display")!=="block"?(c.addClass("hidden"),s.show()):(c.removeClass("hidden"),c.hasClass("active")?s.removeClass("collapsed").addClass("opened"):s.addClass("collapsed").removeClass("opened"))},{ns:this.id})},close:function(){var t=this,o=this.element,a=this.options,s=o.find(".app-bar-menu"),c=o.find(".hamburger");t._fireEvent("before-menu-close",{menu:s[0]}),s.slideUp(a.duration,function(){s.addClass("collapsed").removeClass("opened"),c.removeClass("active"),t._fireEvent("menu-close",{menu:s[0]})})},open:function(){var t=this,o=this.element,a=this.options,s=o.find(".app-bar-menu"),c=o.find(".hamburger");t._fireEvent("before-menu-open",{menu:s[0]}),s.slideDown(a.duration,function(){s.removeClass("collapsed").addClass("opened"),c.addClass("active"),t._fireEvent("menu-open",{menu:s[0]})})},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.click,".hamburger"),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={audioVolume:.5,audioSrc:"",onAudioStart:e.noop,onAudioEnd:e.noop,onAudioButtonCreate:e.noop};e.audioButtonSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroAudioButtonSetup!==void 0&&e.audioButtonSetup(globalThis.metroAudioButtonSetup),e.Component("audio-button",{init:function(t,o){return this._super(o,t,i,{audio:null,canPlay:null,id:l.elementId("audioButton")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("audioButtonCreate",{element:t})},_createStructure:function(){var t=this.options;this.audio=new Audio(t.audioSrc),this.audio.volume=t.audioVolume},_createEvents:function(){var t=this,o=this.element,a=this.options,s=this.audio;s.addEventListener("loadeddata",function(){t.canPlay=!0}),s.addEventListener("ended",function(){t._fireEvent("audioEnd",{src:a.audioSrc,audio:s})}),o.on(e.events.click,function(){t.play()},{ns:this.id})},play:function(t){var o=this.element,a=this.options,s=this.audio;a.audioSrc!==""&&this.audio.duration&&this.canPlay&&(this._fireEvent("audioStart",{src:a.audioSrc,audio:s}),s.pause(),s.currentTime=0,s.play(),l.exec(t,[s],o[0]))},stop:function(t){var o=this.element,a=this.options,s=this.audio;s.pause(),s.currentTime=0,this._fireEvent("audioEnd",{src:a.audioSrc,audio:s}),l.exec(t,[s],o[0])},changeAttribute:function(t){var o=this.element,a=this.options,s=this.audio,c=function(){var d=o.attr("data-audio-src");d&&d.trim()!==""&&(a.audioSrc=d,s.src=d)},p=function(){var d=parseFloat(o.attr("data-audio-volume"));isNaN(d)||(a.audioVolume=d,s.volume=d)};t==="data-audio-src"&&c(),t==="data-audio-volume"&&p()},destroy:function(){var t=this.element;t.off(e.events.click,{ns:this.id})}}),e.playSound=function(t){var o,a=typeof t=="string"?t:t.audioSrc,s=t&&t.audioVolume?t.audioVolume:.5;a&&(o=new Audio(a),o.volume=parseFloat(s),o.addEventListener("loadeddata",function(){t&&t.onAudioStart&&l.exec(t.onAudioStart,[a],this),this.play()}),o.addEventListener("ended",function(){t&&t.onAudioEnd&&l.exec(t.onAudioEnd,[null],this)}))}})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={sliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:e.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:e.position.TOP,hintMask:"$1",vertical:!1,target:null,returnType:"value",size:0,label:null,clsSlider:"",clsBackside:"",clsComplete:"",clsBuffer:"",clsMarker:"",clsHint:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:e.noop,onStop:e.noop,onMove:e.noop,onSliderClick:e.noop,onChange:e.noop,onChangeValue:e.noop,onChangeBuffer:e.noop,onFocus:e.noop,onBlur:e.noop,onSliderCreate:e.noop};e.sliderSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroSliderSetup!==void 0&&e.sliderSetup(globalThis.metroSliderSetup),e.Component("slider",{init:function(t,o){return this._super(o,t,i,{slider:null,value:0,percent:0,pixel:0,buffer:0,keyInterval:!1,id:l.elementId("slider")}),this},_create:function(){var t=this.element,o=this.options;this._createSlider(),this._createEvents(),this.buff(o.buffer),this.val(o.value),this._fireEvent("slider-create",{element:t})},_createSlider:function(){var t=this.element,o=this.options,a=r("<div>").addClass("backside").addClass(o.clsBackside),s=r("<div>").addClass("complete").addClass(o.clsComplete),c=r("<div>").addClass("buffer").addClass(o.clsBuffer),p=r("<button>").attr("type","button").addClass("marker").addClass(o.clsMarker),d=r("<div>").addClass("hint").addClass(o.hintPosition+"-side").addClass(o.clsHint),m,f=t.wrap("<div>").addClass("slider").addClass(t[0].className).addClass(o.clsSlider);if(o.size>0&&(o.vertical===!0?f.outerHeight(o.size):f.outerWidth(o.size)),o.vertical===!0&&f.addClass("vertical-slider"),o.hintAlways===!0&&d.css({display:"block"}).addClass("permanent-hint"),o.label){let u=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(f);t.id()&&u.attr("for",t.id())}if(a.appendTo(f),s.appendTo(f),c.appendTo(f),p.appendTo(f),d.appendTo(p),o.showMinMax===!0){var g=r("<div>").addClass("slider-min-max").addClass(o.clsMinMax);r("<span>").addClass("slider-text-min").addClass(o.clsMin).html(o.min).appendTo(g),r("<span>").addClass("slider-text-max").addClass(o.clsMax).html(o.max).appendTo(g),o.minMaxPosition===e.position.TOP?g.insertBefore(f):g.insertAfter(f)}if(t[0].className="",o.copyInlineStyles===!0)for(m=0;m<t[0].style.length;m++)f.css(t[0].style[m],t.css(t[0].style[m]));t.is(":disabled")?this.disable():this.enable(),this.slider=f},_createEvents:function(){var t=this,o=this.slider,a=this.options,s=o.find(".marker"),c=o.find(".hint");s.on(e.events.startAll,function(){a.hint===!0&&a.hintAlways!==!0&&c.fadeIn(300),r(document).on(e.events.moveAll,function(p){p.cancelable&&p.preventDefault(),t._move(p),t._fireEvent("move",{val:t.value,percent:t.percent})},{ns:t.id,passive:!1}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id}),a.hintAlways!==!0&&c.fadeOut(300),t._fireEvent("stop",{val:t.value,percent:t.percent})},{ns:t.id}),t._fireEvent("start",{val:t.value,percent:t.percent})}),s.on(e.events.focus,function(){t._fireEvent("focus",{val:t.value,percent:t.percent})}),s.on(e.events.blur,function(){t._fireEvent("blur",{val:t.value,percent:t.percent})}),s.on(e.events.keydown,function(p){var d=p.keyCode?p.keyCode:p.which;if([37,38,39,40].indexOf(d)!==-1){var m=a.accuracy===0?1:a.accuracy;t.keyInterval||(t.keyInterval=setInterval(function(){var f=t.value;(p.keyCode===37||p.keyCode===40)&&(f-m<a.min?f=a.min:f-=m),(p.keyCode===38||p.keyCode===39)&&(f+m>a.max?f=a.max:f+=m),t.value=t._correct(f),t.percent=t._convert(t.value,"val2prc"),t.pixel=t._convert(t.percent,"prc2pix"),t._redraw()},100),p.preventDefault())}}),s.on(e.events.keyup,function(){clearInterval(t.keyInterval),t.keyInterval=!1}),o.on(e.events.click,function(p){t._move(p),t._fireEvent("slider-click",{val:t.value,percent:t.percent}),t._fireEvent("stop",{val:t.value,percent:t.percent})}),r(globalThis).on(e.events.resize,function(){t.val(t.value),t.buff(t.buffer)},{ns:t.id})},_convert:function(t,o){var a=this.slider,s=this.options,c=(s.vertical===!0?a.outerHeight():a.outerWidth())-a.find(".marker").outerWidth();switch(o){case"pix2prc":return t*100/c;case"pix2val":return this._convert(t,"pix2prc")*((s.max-s.min)/100)+s.min;case"val2prc":return(t-s.min)/((s.max-s.min)/100);case"prc2pix":return t/(100/c);case"val2pix":return this._convert(this._convert(t,"val2prc"),"prc2pix")}return 0},_correct:function(t){var o=t,a=this.options.accuracy,s=this.options.min,c=this.options.max;return a===0||isNaN(a)?o:(o=Math.round(t/a)*a,o<s&&(o=s),o>c&&(o=c),o.toFixed(l.decCount(a)))},_move:function(t){var o=this.slider,a=this.options,s=o.offset(),c=o.find(".marker").outerWidth(),p=a.vertical===!0?o.outerHeight():o.outerWidth(),d,m,f=0,g=p-c;d=a.vertical===!0?l.pageXY(t).y-s.top:l.pageXY(t).x-s.left,m=a.vertical===!0?p-d-c/2:d-c/2,!(m<f||m>g)&&(this.value=this._correct(this._convert(m,"pix2val")),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw())},_hint:function(){var t=this.options,o=this.slider,a=o.find(".hint"),s=+this.value||0,c=+this.percent||0;t.roundValue&&(s=(l.isValue(s)?+s:0).toFixed(l.decCount(t.accuracy)),c=(l.isValue(c)?+c:0).toFixed(l.decCount(t.accuracy))),a.text(t.hintMask.replace("$1",s).replace("$2",c))},_value:function(){var t=this.element,o=this.options,a=o.returnType==="value"?this.value:this.percent,s=this.percent,c=this.buffer;if(o.roundValue&&(a=(l.isValue(a)?+a:0).toFixed(l.decCount(o.accuracy)),s=(l.isValue(s)?+s:0).toFixed(l.decCount(o.accuracy)),c=(l.isValue(c)?+c:0).toFixed(l.decCount(o.accuracy))),t[0].tagName==="INPUT"&&t.val(a),o.target!==null){var p=r(o.target);p.length!==0&&r.each(p,function(){var d=r(this);this.tagName==="INPUT"?d.val(a):d.text(a),d.trigger("change")})}this._fireEvent("change-value",{val:a}),this._fireEvent("change",{val:a,percent:s,buffer:c})},_marker:function(){var t=this.slider,o=this.options,a=t.find(".marker"),s=t.find(".complete"),c=o.vertical===!0?t.outerHeight():t.outerWidth(),p=parseInt(l.getStyleOne(a,"width")),d=l.isVisible(t);d&&a.css({"margin-top":0,"margin-left":0}),o.vertical===!0?(d?a.css("top",c-this.pixel):(a.css("top",100-this.percent+"%"),a.css("margin-top",p/2)),s.css("height",this.percent+"%")):(d?a.css("left",this.pixel):(a.css("left",this.percent+"%"),a.css("margin-left",this.percent===0?0:-1*p/2)),s.css("width",this.percent+"%"))},_redraw:function(){this._marker(),this._value(),this._hint()},_buffer:function(){var t=this.element,o=this.options,a=this.slider.find(".buffer");o.vertical===!0?a.css("height",this.buffer+"%"):a.css("width",this.buffer+"%"),this._fireEvent("change-buffer",{val:this.buffer}),this._fireEvent("change",{val:t.val(),percent:this.percent,buffer:this.buffer})},val:function(t){var o=this.options;if(t===void 0||isNaN(t))return this.value;t<o.min&&(t=o.min),t>o.max&&(t=o.max),this.value=this._correct(t),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},buff:function(t){var o=this.slider,a=o.find(".buffer");if(t===void 0||isNaN(t))return this.buffer;if(a.length===0)return!1;t=parseInt(t),t>100&&(t=100),t<0&&(t=0),this.buffer=t,this._buffer()},changeValue:function(){var t=this.element,o=this.options,a=t.attr("data-value");a<o.min&&(a=o.min),a>o.max&&(a=o.max),this.val(a)},changeBuffer:function(){var t=this.element,o=parseInt(t.attr("data-buffer"));o<0&&(o=0),o>100&&(o=100),this.buff(o)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break;case"disabled":this.toggleState();break}},destroy:function(){var t=this.element,o=this.slider,a=o.find(".marker");return a.off(e.events.startAll),a.off(e.events.focus),a.off(e.events.blur),a.off(e.events.keydown),a.off(e.events.keyup),o.off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={audioDeferred:0,playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:"\u{1F501}",stopIcon:"\u23F9",playIcon:"\u25B6",pauseIcon:"\u23F8",muteIcon:"\u{1F507}",volumeLowIcon:"\u{1F508}",volumeMediumIcon:"\u{1F509}",volumeHighIcon:"\u{1F50A}",playlistIcon:"\u{1F4C3}",nextIcon:"\u2192",prevIcon:"\u2190",firstIcon:"\u21E4",lastIcon:"\u21E5",forwardIcon:"\u21C9",backwardIcon:"\u21C7",shuffleIcon:"\u{1F500}",randomIcon:"\u{1F3B2}",onPlay:e.noop,onPause:e.noop,onStop:e.noop,onEnd:e.noop,onMetadata:e.noop,onTime:e.noop,onAudioPlayerCreate:e.noop};e.audioPlayerSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroAudioPlayerSetup!==void 0&&e.audioPlayerSetup(globalThis.metroAudioPlayerSetup),e.Component("audio-player",{init:function(t,o){return this._super(o,t,i,{preloader:null,player:null,audio:o,stream:null,volume:null,volumeBackup:0,muted:!1}),this},_create:function(){var t=this.element,o=this.options;this._createPlayer(),this._createEvents(),o.autoplay===!0&&this.play(),this._fireEvent("audio-player-create",{element:t,player:this.player})},_createPlayer:function(){var t=this.element,o=this.options,a=this.audio;let s=t.wrap("<div>").addClass("media-player audio-player "+t[0].className);r.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){t.removeAttr(this)}),t.attr("preload","auto"),a.volume=o.volume,o.src!==null&&this._setSource(o.src),t[0].className="",this.player=s,this._createControls()},_setSource:function(t){var o=this.element;o.find("source").remove(),o.removeAttr("src"),Array.isArray(t)?r.each(t,function(){var a=this;a.src!==void 0&&r("<source>").attr("src",a.src).attr("type",a.type!==void 0?a.type:"").appendTo(o)}):o.attr("src",t)},_createControls:function(){var t=this,o=this.element,a=this.options,s=this.elem,c=r("<div>").addClass("controls").addClass(a.clsControls).insertAfter(o),p=r("<div>").addClass("stream").appendTo(c),d=r("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(p),m=r("<div>").addClass("load-audio").appendTo(p),f=r("<div>").addClass("volume").appendTo(c),g=r("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(f),u=r("<div>").addClass("info-box").appendTo(c);a.showInfo!==!0&&u.hide(),m.activity({type:"metro",style:"color"}),m.hide(0),this.preloader=m,e.makePlugin(d,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){s.paused||s.pause()},onStop:function(b){s.seekable.length>0&&(s.currentTime=(t.duration*b/100).toFixed(0)),s.paused&&s.currentTime>0&&s.play()}}),this.stream=d,a.showStream!==!0&&p.hide(),e.makePlugin(g,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:a.volume*100,onChangeValue:function(b){s.volume=b/100}}),this.volume=g,a.showVolume!==!0&&f.hide();var A;a.showLoop===!0&&(A=r("<button>").attr("type","button").addClass("button square loop").html(a.loopIcon).appendTo(c)),a.showPlay===!0&&r("<button>").attr("type","button").addClass("button square play").html(a.playIcon).appendTo(c),a.showStop===!0&&r("<button>").attr("type","button").addClass("button square stop").html(a.stopIcon).appendTo(c),a.showMute===!0&&r("<button>").attr("type","button").addClass("button square mute").html(a.muteIcon).appendTo(c),a.loop===!0&&(A.addClass("active"),o.attr("loop","loop")),this._setVolume(),a.muted&&(t.volumeBackup=s.volume,e.getPlugin(t.volume,"slider").val(0),s.volume=0),u.html("00:00 / 00:00")},_createEvents:function(){var t=this,o=this.element,a=this.options,s=this.elem,c=this.player;o.on("loadstart",function(){t.preloader.fadeIn()}),o.on("loadedmetadata",function(){t.duration=s.duration.toFixed(0),t._setInfo(0,t.duration),l.exec(a.onMetadata,[s,c],o[0])}),o.on("canplay",function(){t._setBuffer(),t.preloader.fadeOut()}),o.on("progress",function(){t._setBuffer()}),o.on("timeupdate",function(){var p=Math.round(s.currentTime*100/t.duration);t._setInfo(s.currentTime,t.duration),e.getPlugin(t.stream,"slider").val(p),l.exec(a.onTime,[s.currentTime,t.duration,s,c],o[0])}),o.on("waiting",function(){t.preloader.fadeIn()}),o.on("loadeddata",function(){}),o.on("play",function(){c.find(".play").html(a.pauseIcon),l.exec(a.onPlay,[s,c],o[0])}),o.on("pause",function(){c.find(".play").html(a.playIcon),l.exec(a.onPause,[s,c],o[0])}),o.on("stop",function(){e.getPlugin(t.stream,"slider").val(0),l.exec(a.onStop,[s,c],o[0])}),o.on("ended",function(){e.getPlugin(t.stream,"slider").val(0),l.exec(a.onEnd,[s,c],o[0])}),o.on("volumechange",function(){t._setVolume()}),c.on(e.events.click,".play",function(){s.paused?t.play():t.pause()}),c.on(e.events.click,".stop",function(){t.stop()}),c.on(e.events.click,".mute",function(){t._toggleMute()}),c.on(e.events.click,".loop",function(){t._toggleLoop()})},_toggleLoop:function(){var t=this.player.find(".loop");t.length!==0&&(t.toggleClass("active"),t.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.audio.volume=this.volumeBackup:(this.volumeBackup=this.audio.volume,this.audio.volume=0),e.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(t,o){this.player.find(".info-box").html(l.secondsToFormattedString(Math.round(t))+" / "+l.secondsToFormattedString(Math.round(o)))},_setBuffer:function(){var t=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;e.getPlugin(this.stream,"slider").buff(t)},_setVolume:function(){var t=this.audio,o=this.player,a=this.options,s=o.find(".mute"),c=t.volume*100;c>1&&c<30?s.html(a.volumeLowIcon):c>=30&&c<60?s.html(a.volumeMediumIcon):c>=60&&c<=100?s.html(a.volumeHighIcon):s.html(a.muteIcon)},play:function(t){t!==void 0&&this._setSource(t),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0,e.getPlugin(this.stream,"slider").val(0)},setVolume:function(t){if(t===void 0)return this.audio.volume;t>1&&(t/=100),this.audio.volume=t,e.getPlugin(this.volume,"slider").val(t*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){var t=JSON.parse(this.element.attr("data-src"));this.play(t)},changeVolume:function(){var t=this.element.attr("data-volume");this.setVolume(t)},changeAttribute:function(t){switch(t){case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){var t=this.element,o=this.player;return t.off("all"),o.off("all"),e.getPlugin(this.stream,"slider").destroy(),e.getPlugin(this.volume,"slider").destroy(),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={bottomsheetDeferred:0,mode:"list",toggle:null,onOpen:e.noop,onClose:e.noop,onBottomSheetCreate:e.noop};e.bottomSheetSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroBottomSheetSetup!==void 0&&e.bottomSheetSetup(globalThis.metroBottomSheetSetup),e.Component("bottom-sheet",{init:function(t,o){return this._super(o,t,i,{toggle:null}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("bottom-sheet-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options;t.addClass("bottom-sheet").addClass(o.mode+"-list"),l.isValue(o.toggle)&&r(o.toggle).length>0&&(this.toggle=r(o.toggle))},_createEvents:function(){var t=this,o=this.element;l.isValue(this.toggle)&&this.toggle.on(e.events.click,function(){t.toggle()}),o.on(e.events.click,"li",function(){t.close()})},isOpen:function(){return this.element.hasClass("opened")},open:function(t){var o=this.element;l.isValue(t)&&o.removeClass("list-style grid-style").addClass(t+"-style"),this.element.addClass("opened"),this._fireEvent("open",{element:o})},close:function(){var t=this.element;t.removeClass("opened"),this._fireEvent("close",{element:t})},toggle:function(t){this.isOpen()?this.close():this.open(t)},changeAttribute:function(t){},destroy:function(){var t=this.element;return l.isValue(this.toggle)&&this.toggle.off(e.events.click),t.off(e.events.click,"li"),t}}),e.bottomsheet={isBottomSheet:function(t){return l.isMetroObject(t,"bottom-sheet")},open:function(t,o){if(!this.isBottomSheet(t))return!1;e.getPlugin(t,"bottom-sheet").open(o)},close:function(t){if(!this.isBottomSheet(t))return!1;e.getPlugin(t,"bottom-sheet").close()},toggle:function(t,o){if(!this.isBottomSheet(t))return!1;this.isOpen(t)?this.close(t):this.open(t,o)},isOpen:function(t){return this.isBottomSheet(t)?e.getPlugin(t,"bottom-sheet").isOpen():!1}}})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={buttongroupDeferred:0,targets:"button",clsActive:"",requiredButton:!1,mode:e.groupMode.ONE,onButtonClick:e.noop,onButtonGroupCreate:e.noop};e.buttonGroupSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroButtonGroupSetup!==void 0&&e.buttonGroupSetup(globalThis.metroButtonGroupSetup),e.Component("button-group",{init:function(t,o){return this._super(o,t,i,{active:null,id:l.elementId("button-group")}),this},_create:function(){var t=this.element;this._createGroup(),this._createEvents(),this._fireEvent("button-group-create",{element:t})},_createGroup:function(){var t=this.element,o=this.options,a,s;t.addClass("button-group"),a=t.find(o.targets),s=t.find(".active"),o.mode===e.groupMode.ONE&&s.length===0&&o.requiredButton===!0&&r(a[0]).addClass("active"),o.mode===e.groupMode.ONE&&s.length>1&&(a.removeClass("active").removeClass(o.clsActive),r(a[0]).addClass("active")),t.find(".active").addClass("js-active").addClass(o.clsActive)},_createEvents:function(){var t=this,o=this.element,a=this.options;o.on(e.events.click,a.targets,function(){var s=r(this);t._fireEvent("button-click",{button:this}),!(a.mode===e.groupMode.ONE&&s.hasClass("active"))&&(a.mode===e.groupMode.ONE?(o.find(a.targets).removeClass(a.clsActive).removeClass("active js-active"),s.addClass("active").addClass(a.clsActive).addClass("js-active")):s.toggleClass("active").toggleClass(a.clsActive).toggleClass("js-active"))})},changeAttribute:function(t){},destroy:function(){var t=this.element,o=this.options;return t.off(e.events.click,o.targets),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={spinnerDeferred:0,label:"",step:1,plusIcon:"+",minusIcon:"-",buttonsPosition:"default",defaultValue:0,minValue:null,maxValue:null,fixed:0,repeatThreshold:2e3,hideCursor:!1,clsSpinner:"",clsSpinnerInput:"",clsSpinnerButton:"",clsSpinnerButtonPlus:"",clsSpinnerButtonMinus:"",clsLabel:"",onBeforeChange:e.noop_true,onChange:e.noop,onPlusClick:e.noop,onMinusClick:e.noop,onArrowUp:e.noop,onArrowDown:e.noop,onButtonClick:e.noop,onArrowClick:e.noop,onSpinnerCreate:e.noop};e.spinnerSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroSpinnerSetup!==void 0&&e.spinnerSetup(globalThis.metroSpinnerSetup),e.Component("spinner",{init:function(t,o){return this._super(o,t,i,{repeat_timer:!1}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("spinner-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,a=r("<div>").addClass("spinner").addClass("buttons-"+o.buttonsPosition).addClass(t[0].className).addClass(o.clsSpinner),s=r("<button>").attr("type","button").addClass("button spinner-button spinner-button-plus").addClass(o.clsSpinnerButton+" "+o.clsSpinnerButtonPlus).html(o.plusIcon),c=r("<button>").attr("type","button").addClass("button spinner-button spinner-button-minus").addClass(o.clsSpinnerButton+" "+o.clsSpinnerButtonMinus).html(o.minusIcon),p=t.val().trim();if(l.isValue(p)||t.val(0),t[0].className="",a.insertBefore(t),t.appendTo(a).addClass(o.clsSpinnerInput),t.addClass("metro-input"),s.appendTo(a),c.appendTo(a),o.hideCursor===!0&&a.addClass("hide-cursor"),o.label){var d=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(a);t.attr("id")&&d.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&d.addClass("rtl")}o.disabled===!0||t.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.closest(".spinner"),c=s.find(".spinner-button"),p,d,m=function(f){var g=[f?"plus-click":"minus-click",f?"arrow-up":"arrow-down","button-click","arrow-click"],u=+o.val(),A=+o.val(),b=+a.step;f?A+=b:A-=b,t._setValue(A.toFixed(a.fixed),!0),t._fireEvents(g,{curr:u,val:A,elementVal:o.val(),button:f?"plus":"minus"})};s.on(e.events.startAll,".spinner-button",function(f){var g=r(this).hasClass("spinner-button-plus");d=setInterval(function(){m(g)},100)},{passive:!0}),s.on(e.events.stopAll,".spinner-button",function(f){clearInterval(d)},{passive:!0}),s.on(e.events.click,".spinner-button",function(f){var g=r(this).hasClass("spinner-button-plus");m(g)},{passive:!0}),s.on(e.events.click,function(f){r(".focused").removeClass("focused"),s.addClass("focused"),f.preventDefault(),f.stopPropagation()})},_setValue:function(t,o){var a=this.element,s=this.options;l.exec(s.onBeforeChange,[t],a[0])===!0&&(l.isValue(s.maxValue)&&t>Number(s.maxValue)&&(t=Number(s.maxValue)),l.isValue(s.minValue)&&t<Number(s.minValue)&&(t=Number(s.minValue)),a.val(t),this._fireEvent("change",{val:t},!1,!0),o===!0&&a.fire("change",{val:t}))},val:function(t){var o=this,a=this.element,s=this.options;if(!l.isValue(t))return a.val();o._setValue(t.toFixed(s.fixed),!0)},toDefault:function(){var t=this.options,o=l.isValue(t.defaultValue)?Number(t.defaultValue):0;this._setValue(o.toFixed(t.fixed),!0),this._fireEvent("change",{val:o})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){var o=this,a=this.element,s=function(){var c=a.attr("value").trim();l.isValue(c)&&o._setValue(Number(c),!1)};switch(t){case"disabled":this.toggleState();break;case"value":s();break}},destroy:function(){var t=this.element,o=t.closest(".spinner"),a=o.find(".spinner-button");return o.off(e.events.click),a.off(e.events.start),a.off(e.events.stop),t.off(e.events.keydown),o.off(e.events.keyup),t}}),r(document).on(e.events.click,function(){r(".spinner").removeClass("focused")})})(Metro,Dom);(function(e,r){"use strict";var l={weekStart:null,static:!1,readonly:!1,showGhost:!1,events:null,startContent:"days",showTime:!1,initialTime:null,initialHours:null,initialMinutes:null,labelTimeHours:null,labelTimeMinutes:null,animationContent:!0,animationSpeed:10,calendarDeferred:0,dayBorder:!1,excludeDay:null,prevMonthIcon:"\u2BC7",nextMonthIcon:"\u2BC8",prevYearIcon:"\u2BC7",nextYearIcon:"\u2BC8",compact:!1,wide:!1,widePoint:null,pickerMode:!1,show:null,outside:!0,buttons:"cancel, today, clear, done",yearsBefore:100,yearsAfter:100,headerFormat:"dddd, MMM DD",showHeader:!0,showFooter:!0,showWeekNumber:!1,isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,weekNumberClick:!1,multiSelect:!1,special:null,format:METRO_DATE_FORMAT,inputFormat:null,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",clsEventCounter:"",clsWeekend:"",clsCurrentWeek:"",clsCalendarTime:"",clsTime:"",clsTimeHours:"",clsTimeMinutes:"",clsTimeButton:"",clsTimeButtonPlus:"",clsTimeButtonMinus:"",clsSpecial:"",clsEvents:"",clsEvent:"",onCancel:e.noop,onToday:e.noop,onClear:e.noop,onDone:e.noop,onDayClick:e.noop,onDrawDay:e.noop,onDrawMonth:e.noop,onDrawYear:e.noop,onWeekDayClick:e.noop,onWeekNumberClick:e.noop,onMonthChange:e.noop,onYearChange:e.noop,onTimeChange:e.noop,onHoursChange:e.noop,onMinutesChange:e.noop,onCalendarCreate:e.noop};e.calendarSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroCalendarSetup!==void 0&&e.calendarSetup(globalThis.metroCalendarSetup),e.Component("calendar",{init:function(i,t){var o=datetime().align("day");return this._super(t,i,l,{today:o,show:o,current:{year:o.year(),month:o.month(),day:o.day()},preset:[],selected:[],exclude:[],special:[],excludeDay:[],events:[],min:null,max:null,minYear:null,maxYear:null,id:e.utils.elementId("calendar"),time:[datetime().hour(),datetime().minute()],content:"days",yearDistance:11,yearGroupStart:o.year()}),this},_create:function(){var i=this.element,t=this.options;this.content=t.startContent,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,i.html("").addClass("calendar "+(t.compact===!0?"compact":"")).addClass(t.clsCalendar),e.utils.isValue(t.initialTime)&&(this.time=t.initialTime.split(":")),e.utils.isValue(t.initialHours)&&e.utils.between(t.initialHours,0,23,!0)&&(this.time[0]=parseInt(t.initialHours)),e.utils.isValue(t.initialMinutes)&&e.utils.between(t.initialMinutes,0,59,!0)&&(this.time[1]=parseInt(t.initialMinutes)),t.dayBorder===!0&&i.addClass("day-border"),e.utils.isValue(t.excludeDay)&&(this.excludeDay=(""+t.excludeDay).toArray(",","int")),e.utils.isValue(t.preset)&&this._dates2array(t.preset,"selected"),e.utils.isValue(t.exclude)&&this._dates2array(t.exclude,"exclude"),e.utils.isValue(t.special)&&this._dates2array(t.special,"special"),e.utils.isValue(t.events)&&this._dates2array(t.events,"events"),t.buttons!==!1&&Array.isArray(t.buttons)===!1&&(t.buttons=t.buttons.split(",").map(function(o){return o.trim()})),this.min=t.minDate?(t.inputFormat?Datetime.from(t.minDate,t.inputFormat):datetime(t.minDate)).align("day"):null,this.max=t.maxDate?(t.inputFormat?Datetime.from(t.maxDate,t.inputFormat):datetime(t.maxDate)).align("day"):null,t.show&&(this.show=(t.show?t.inputFormat?Datetime.from(t.show,t.inputFormat):datetime(t.show):datetime()).align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()}),this._drawCalendar(),this._createEvents(),(t.wide===!0||!e.utils.isNull(t.widePoint)&&e.utils.mediaExist(t.widePoint))&&i.addClass("calendar-wide"),t.ripple===!0&&e.utils.isFunc(i.ripple)!==!1&&i.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:this.options.rippleColor}),this._fireEvent("calendar-create")},_dates2array:function(i,t){var o=this,a=this.options,s;e.utils.isNull(i)||(s=typeof i=="string"?i.toArray():Array.isArray(i)?i:[],r.each(s,function(){var c,p=this;try{c=(a.inputFormat?Datetime.from(p,a.inputFormat):datetime(p)).align("day").format("YYYY-MM-DD")}catch{return}o[t].push(c)}))},_createEvents:function(){var i=this,t=this.element,o=this.options;r(globalThis).on(e.events.resize,function(){o.wide!==!0&&(!e.utils.isNull(o.widePoint)&&e.utils.mediaExist(o.widePoint)?t.addClass("calendar-wide"):t.removeClass("calendar-wide"))},{ns:this.id}),t.on(e.events.click,".prev-year-group, .next-year-group",function(){o.static||(r(this).hasClass("prev-year-group")?i.yearGroupStart-=i.yearDistance:i.yearGroupStart+=i.yearDistance,i._drawContent())}),t.on(e.events.click,".prev-month, .next-month, .prev-year, .next-year",function(){var a,s=r(this);o.static||s.hasClass("prev-month")&&(a=datetime(i.current.year,i.current.month-1,1).useLocale(i.locale,!0),a.year()<i.minYear)||s.hasClass("next-month")&&(a=datetime(i.current.year,i.current.month+1,1).useLocale(i.locale,!0),a.year()>i.maxYear)||s.hasClass("prev-year")&&(a=datetime(i.current.year-1,i.current.month,1).useLocale(i.locale,!0),a.year()<i.minYear)||s.hasClass("next-year")&&(a=datetime(i.current.year+1,i.current.month,1).useLocale(i.locale,!0),a.year()>i.maxYear)||(i.current={year:a.year(),month:a.month(),day:a.day()},setTimeout(function(){i._drawContent(),(s.hasClass("prev-month")||s.hasClass("next-month"))&&i._fireEvent("month-change",{current:i.current}),(s.hasClass("prev-year")||s.hasClass("next-year"))&&i._fireEvent("year-change",{current:i.current})},o.ripple?300:1))}),t.on(e.events.click,".button-today",function(){i.toDay(),i._fireEvent("today",{today:i.today.val(),time:i.time})}),t.on(e.events.click,".button-clear",function(){var a=datetime();i.selected=[],i.time=[a.hour(),a.minute()],i.yearGroupStart=a.year(),i._drawContent(),i._fireEvent("clear")}),t.on(e.events.click,".button-cancel",function(){i._drawContent(),i._fireEvent("cancel")}),t.on(e.events.click,".button-done",function(){i._drawContent(),i._fireEvent("done",{selected:i.selected,time:i.time})}),o.weekDayClick===!0&&t.on(e.events.click,".week-days .week-day",function(a){var s,c,p,d=[];if(!(o.static||o.readonly)){s=r(this),c=s.index();for(var m=0;m<7;m++)d.push(c),c+=o.showWeekNumber?8:7;o.multiSelect===!0&&(p=t.find(".day").filter(function(f){var g=r(f);return d.indexOf(g.index())>-1&&!g.hasClass("outside disabled excluded")}),r.each(p,function(){var f=r(this),g=f.data("day");i.selected.indexOf(g)===-1?(i.selected.push(g),f.addClass("selected").addClass(o.clsSelected)):(f.removeClass("selected").removeClass(o.clsSelected),e.utils.arrayDelete(i.selected,g))})),i._fireEvent("week-day-click",{selected:i.selected,day:s[0]}),a.preventDefault(),a.stopPropagation()}}),o.weekNumberClick&&t.on(e.events.click,".week-number",function(a){var s,c,p,d;s=r(this),c=s.text(),p=s.index(),c!=="#"&&(o.static||o.readonly||(o.multiSelect===!0&&(d=t.find(".day").filter(function(m){var f=r(m),g=f.index();return e.utils.between(g,p,p+8,!1)&&!f.hasClass("outside disabled excluded")}),r.each(d,function(){var m=r(this),f=m.data("day");i.selected.indexOf(f)===-1?(i.selected.push(f),m.addClass("selected").addClass(o.clsSelected)):(m.removeClass("selected").removeClass(o.clsSelected),e.utils.arrayDelete(i.selected,f))})),i._fireEvent("week-number-click",{selected:i.selected,num:c,numElement:s[0]}),a.preventDefault(),a.stopPropagation()))}),t.on(e.events.click,".day",function(a){var s=r(this),c,p;if(!(o.static||o.readonly)){if(p=s.data("day"),c=i.selected.indexOf(p),s.hasClass("outside")){p=datetime(p),i.current={year:p.year(),month:p.month(),day:p.day()},i._drawContent(),i._fireEvent("month-change",{current:i.current});return}s.hasClass("disabled")||(o.pickerMode===!0?(i.selected=[p],i.today=datetime(p),i.current.year=i.today.year(),i.current.month=i.today.month(),i.current.day=i.today.day(),i._drawHeader(),i._drawContent()):c===-1?(o.multiSelect===!1&&(t.find(".day").removeClass("selected").removeClass(o.clsSelected),i.selected=[]),i.selected.push(p),s.addClass("selected").addClass(o.clsSelected)):(s.removeClass("selected").removeClass(o.clsSelected),e.utils.arrayDelete(i.selected,p))),i._fireEvent("day-click",{selected:i.selected,day:s[0],time:i.time}),a.preventDefault(),a.stopPropagation()}}),t.on(e.events.click,".curr-month",function(a){i.content="months",i._drawContent(),a.preventDefault(),a.stopPropagation()}),t.on(e.events.click,".month",function(a){i.current.month=parseInt(r(this).attr("data-month")),i.content="days",i._drawContent(),i._fireEvent("month-change",{current:i.current}),a.preventDefault(),a.stopPropagation()}),t.on(e.events.click,".curr-year",function(a){i.content!=="years"&&(i.content="years",i._drawContent(),a.preventDefault(),a.stopPropagation())}),t.on(e.events.click,".year",function(a){i.current.year=parseInt(r(this).attr("data-year")),i.yearGroupStart=i.current.year,i.content="months",i._drawContent(),i._fireEvent("year-change",{current:i.current}),a.preventDefault(),a.stopPropagation()})},_drawHeader:function(){var i=this.element,t=this.options,o=i.find(".calendar-header");o.length===0&&(o=r("<div>").addClass("calendar-header").addClass(t.clsCalendarHeader).appendTo(i)),o.html(""),r("<div>").addClass("header-year").html(this.today.year()).appendTo(o),r("<div>").addClass("header-day").html(this.today.format(t.headerFormat,this.locale)).appendTo(o),t.showHeader===!1&&o.hide()},_drawFooter:function(){var i=this.element,t=this.options,o=this.strings,a=i.find(".calendar-footer");t.buttons!==!1&&(a.length===0&&(a=r("<div>").addClass("calendar-footer").addClass(t.clsCalendarFooter).appendTo(i)),a.html(""),r.each(t.buttons,function(){var s=r("<button>").attr("type","button").addClass(`button button-${this} `+t["cls"+Str.capitalize(this)+"Button"]).html(o[`label_${this}`]).appendTo(a);(this==="cancel"||this==="done")&&s.addClass("js-dialog-close")}),t.showFooter===!1&&a.hide())},_drawTime:function(){var i=this,t=this.element,o=this.options;let a=this.strings;var s=t.find(".calendar-content"),c=r("<div>").addClass("calendar-time").addClass(o.clsCalendarTime).appendTo(s),p,d,m,f,g=""+this.time[0],u=""+this.time[1],A=function(b){var x=parseInt(b);r(this).attr("data-time-part")==="hours"?(i.time[0]=x,i._fireEvent("hours-change",{time:i.time,hours:x})):(i.time[1]=x,i._fireEvent("minutes-change",{time:i.time,minutes:x})),i._fireEvent("time-change",{time:i.time})};c.append(p=r("<div>").addClass("calendar-time__inner")),p.append(f=r("<div>").addClass("calendar-time__inner-row")),f.append(r("<div>").addClass("calendar-time__inner-cell").append(r("<span>").html(a.label_hours))),f.append(r("<div>").addClass("calendar-time__inner-cell").append(r("<span>").html(a.label_minutes))),c.append(p=r("<div>").addClass("calendar-time__inner spinners").addClass(o.clsTime)),p.append(d=r("<input type='text' data-cls-spinner-input='"+o.clsTimeHours+"' data-time-part='hours' data-buttons-position='right' data-min-value='0' data-max-value='23'>").addClass("hours").addClass(o.compact?"input-small":"input-normal")),p.append(m=r("<input type='text' data-cls-spinner-input='"+o.clsTimeMinutes+"' data-time-part='minutes' data-buttons-position='right' data-min-value='0' data-max-value='59'>").addClass("minutes").addClass(o.compact?"input-small":"input-normal")),g=Str.lpad(g,"0",2),u=Str.lpad(u,"0",2),d.val(g),m.val(u),e.makePlugin(p.find("input[type=text]"),"spinner",{onChange:A,clsSpinnerButton:o.clsTimeButton,clsSpinnerButtonPlus:o.clsTimeButtonPlus,clsSpinnerButtonMinus:o.clsTimeButtonMinus}),o.showTime===!1&&c.hide()},_drawContentDays:function(){var i=this,t=this.element,o=this.options;let a=this.strings;var s=t.find(".calendar-content"),c,p,d,m=datetime(this.current.year,this.current.month,this.current.day).useLocale(this.locale,!0).calendar(e.utils.isValue(o.weekStart)?o.weekStart:a.weekStart),f=this.show.format("YYYY-MM-DD"),g=datetime();s.length===0&&(s=r("<div>").addClass("calendar-content").addClass(o.clsCalendarContent).appendTo(t)),o.showWeekNumber&&s.addClass("-week-numbers"),s.empty(),c=r("<div>").addClass("calendar-toolbar").appendTo(s),r("<span>").addClass("prev-month").html(o.prevMonthIcon).appendTo(c),r("<span>").addClass("curr-month").html(Datetime.getLocale(this.locale).months[this.current.month]).appendTo(c),r("<span>").addClass("next-month").html(o.nextMonthIcon).appendTo(c),r("<span>").addClass("prev-year").html(o.prevYearIcon).appendTo(c),r("<span>").addClass("curr-year").html(this.current.year).appendTo(c),r("<span>").addClass("next-year").html(o.nextYearIcon).appendTo(c),p=r("<div>").addClass("week-days").appendTo(s),o.showWeekNumber&&r("<span>").addClass("week-number").html("#").appendTo(p),r.each(m.weekdays,function(){r("<span>").addClass("week-day").html(this).appendTo(p)}),d=r("<div>").addClass("days").appendTo(s),r.each(m.days,function(u){var A=this,b=datetime(A).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),x=b.month()!==i.current.month;o.showWeekNumber&&u%7===0&&r("<span>").addClass("week-number").html(`<span class="week-number-content">${b.weekNumber(o.weekStart)}</span>`).appendTo(d);var v=b.day(),I=b.format("YYYY-MM-DD"),B=r("<span>").addClass("day").html(`<span class="day-content">${v}</span>`).appendTo(d);if(B.attr("data-day",I),A===f&&B.addClass("showed"),x&&(B.addClass("outside"),o.outside||B.empty()),A===m.today&&B.addClass("today"),o.showGhost&&b.day()===g.day()&&B.addClass("coincidental"),i.special.length?i.special.indexOf(A)===-1?B.addClass("disabled excluded").addClass(o.clsExcluded):B.addClass(o.clsSpecial):(i.selected.indexOf(A)>-1&&B.addClass("selected").addClass(o.clsSelected),i.exclude.indexOf(A)>-1&&B.addClass("disabled excluded").addClass(o.clsExcluded),i.min&&b.older(i.min)&&B.addClass("disabled excluded").addClass(o.clsExcluded),i.max&&b.younger(i.max)&&B.addClass("disabled excluded").addClass(o.clsExcluded)),m.weekends.indexOf(A)!==-1&&B.addClass(o.clsWeekend),m.week.indexOf(A)!==-1&&B.addClass(o.clsCurrentWeek),i.events.length){var k=r("<div>").addClass("events").addClass(o.clsEvents).appendTo(B);r.each(i.events,function(){if(this===A){var w=r("<div>").addClass("event").addClass(o.clsEvent).appendTo(k);o.clsEvent||w.css({backgroundColor:Farbe.Routines.randomColor()})}})}o.animationContent&&B.addClass("to-animate"),i._fireEvent("draw-day",{date:b.val(),day:b.day(),month:b.month(),year:b.year(),cell:B[0]})}),this._drawTime(),this._animateContent(".day")},_drawContentMonths:function(){var i=this.element,t=this.elem,o=this.options,a=this.locale,s=i.find(".calendar-content"),c,p,d,m=datetime().year(),f=datetime().month();s.length===0&&(s=r("<div>").addClass("calendar-content").addClass(o.clsCalendarContent).appendTo(i)),s.clear(),c=r("<div>").addClass("calendar-toolbar").appendTo(s),r("<span>").addClass("prev-year").html(o.prevYearIcon).appendTo(c),r("<span>").addClass("curr-year").html(this.current.year).appendTo(c),r("<span>").addClass("next-year").html(o.nextYearIcon).appendTo(c),s.append(p=r("<div>").addClass("months"));let g=0;for(let u of Datetime.getLocale(a).months)p.append(d=r("<div>").attr("data-month",g).addClass("month").addClass(g===f&&this.current.year===m?"today":"").html(u)),o.animationContent&&d.addClass("to-animate"),this._fireEvent("draw-month",{month:g,year:this.current.year,cell:d[0]}),g++;e.i18n.updateUI(t,a),this._animateContent(".months .month")},_drawContentYears:function(){var i=this.element,t=this.options,o=i.find(".calendar-content"),a,s,c;o.length===0&&(o=r("<div>").addClass("calendar-content").addClass(t.clsCalendarContent).appendTo(i)),o.clear(),a=r("<div>").addClass("calendar-toolbar").appendTo(o),r("<span>").addClass("prev-year-group").html(t.prevYearIcon).appendTo(a),r("<span>").addClass("curr-year").html(this.yearGroupStart+" - "+(this.yearGroupStart+this.yearDistance)).appendTo(a),r("<span>").addClass("next-year-group").html(t.nextYearIcon).appendTo(a),o.append(s=r("<div>").addClass("years"));for(var p=this.yearGroupStart;p<=this.yearGroupStart+this.yearDistance;p++)s.append(c=r("<div>").attr("data-year",p).addClass("year").addClass(p===this.current.year?"today":"").html(p)),t.animationContent&&c.addClass("to-animate"),(p<t.minYear||p>t.maxYear)&&c.addClass("disabled"),this._fireEvent("draw-year",{year:p,cell:c[0]});this._animateContent(".years .year")},_drawContent:function(){switch(this.content){case"years":this._drawContentYears();break;case"months":this._drawContentMonths();break;default:this._drawContentDays()}e.i18n.updateUI(this.elem,this.locale)},_drawCalendar:function(){var i=this,t=this.elem;setTimeout(function(){i.element.html(""),i._drawHeader(),i._drawContent(),i._drawFooter(),e.i18n.updateUI(t,i.locale)},0)},_animateContent:function(i,t){var o=this.element,a=this.options,s=o.find(".calendar-content");t=t||"to-animate",s.find(i).each(function(c){var p=r(this);setTimeout(function(){p.removeClass(t)},a.animationSpeed*c)})},getTime:function(i){var t,o;return i=i||!1,t=Str.lpad(this.time[0],"0",2),o=Str.lpad(this.time[1],"0",2),i?t+":"+o:this.time},setTime:function(i){Array.isArray(i)?this.time=i:this.time=i.split(":"),this._drawCalendar()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},clearSelected:function(){this.selected=[],this._drawContent()},toDay:function(){this.today=datetime().align("day"),this.current={year:this.today.year(),month:this.today.month(),day:this.today.day()},this.time=[datetime().hour(),datetime().minute()],this.yearGroupStart=datetime().year(),this.content="days",this._drawHeader(),this._drawContent()},setExclude:function(i){var t=this.element,o=this.options;e.utils.isNull(i)&&e.utils.isNull(t.attr("data-exclude"))||(o.exclude=e.utils.isNull(i)?t.attr("data-exclude"):i,this._dates2array(o.exclude,"exclude"),this._drawContent())},setPreset:function(i){var t=this.element,o=this.options;e.utils.isNull(i)&&e.utils.isNull(t.attr("data-preset"))||(o.preset=e.utils.isNull(i)?t.attr("data-preset"):i,this._dates2array(o.preset,"selected"),this._drawContent())},setSpecial:function(i){var t=this.element,o=this.options;e.utils.isNull(i)&&e.utils.isNull(t.attr("data-special"))||(o.special=e.utils.isNull(i)?t.attr("data-special"):i,this._dates2array(o.exclude,"special"),this._drawContent())},showDate:function(i){return this.setShow(i)},setShow:function(i){var t=this.element,o=this.options,a=t.attr("data-show");!i&&!a||(o.show=i||a,o.show?typeof o.show=="string"&&o.inputFormat?this.show=Datetime.from(o.show,o.inputFormat):this.show=datetime(o.show):this.show=datetime(),this.show=this.show.align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()},this._drawContent())},setMinDate:function(i){var t=this.element,o=this.options,a=t.attr("data-min-date");!i&&!a||(o.minDate=i||a,this.min=o.minDate?(o.inputFormat?Datetime.from(o.minDate,o.inputFormat):datetime(o.minDate)).align("day"):null,this._drawContent())},setMaxDate:function(i){var t=this.element,o=this.options,a=t.attr("data-max-date");o.maxDate=i||a,this.max=o.maxDate?(o.inputFormat?Datetime.from(o.maxDate,o.inputFormat):datetime(o.maxDate)).align("day"):null,this._drawContent()},changeAttribute:function(i){switch(i){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-special":this.setSpecial();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate();break}},destroy:function(){var i=this.element,t=this.options;return i.off(e.events.click,".prev-month, .next-month, .prev-year, .next-year"),i.off(e.events.click,".button.today"),i.off(e.events.click,".button.clear"),i.off(e.events.click,".button.cancel"),i.off(e.events.click,".button.done"),i.off(e.events.click,".week-days .day"),i.off(e.events.click,".days-row .day"),i.off(e.events.click,".curr-month"),i.off(e.events.click,".calendar-months li"),i.off(e.events.click,".curr-year"),i.off(e.events.click,".calendar-years li"),i.off(e.events.click),t.ripple===!0&&i.data("ripple").destroy(),r(globalThis).off(e.events.resize,{ns:this.id}),i}}),r(document).on(e.events.click,function(){r(".calendar .calendar-years").each(function(){r(this).removeClass("open")}),r(".calendar .calendar-months").each(function(){r(this).removeClass("open")})}),e.defaults.Calendar=l})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={label:"",value:"",calendarpickerDeferred:0,nullValue:!0,useNow:!1,prepend:"",dialogMode:!1,dialogPoint:640,dialogOverlay:!0,overlayColor:"#000000",overlayAlpha:.5,size:"100%",format:METRO_DATE_FORMAT,inputFormat:null,clearButton:!1,calendarButtonIcon:"\u{1F4C5}",clearButtonIcon:"\u274C",copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsInput:"",clsPrepend:"",clsLabel:"",onDayClick:e.noop,onCalendarPickerCreate:e.noop,onCalendarShow:e.noop,onCalendarHide:e.noop,onChange:e.noop,onPickerChange:e.noop,onMonthChange:e.noop,onYearChange:e.noop};e.calendarPickerSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroCalendarPickerSetup!==void 0&&e.calendarPickerSetup(globalThis.metroCalendarPickerSetup),e.Component("calendar-picker",{init:function(t,o){return this._super(o,t,r.extend({},e.defaults.Calendar,{},i),{value:null,value_date:null,calendar:null,overlay:null,id:l.elementId("calendar-picker"),time:[datetime().hour(),datetime().minute()]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("calendar-picker-create",{element:this.element})},_createStructure:function(){var t=this,o=this.element,a=this.options,s=this.locale,c=r("<div>").addClass("input "+o[0].className+" calendar-picker"),p=r("<div>").addClass("button-group"),d,m,f=r("<div>"),g,u,A,b,x,v,I,B,k=r("body");if(o.attr("type","text"),o.attr("autocomplete","off"),o.attr("readonly",!0),l.isValue(a.initialTime)&&(this.time=a.initialTime.trim().split(":")),l.isValue(a.initialHours)&&(this.time[0]=parseInt(a.initialHours)),l.isValue(a.initialHours)&&(this.time[1]=parseInt(a.initialMinutes)),g=(""+a.value).trim()!==""?a.value:o.val().trim(),l.isValue(g)?(u=g.split(" "),this.value=(a.inputFormat?Datetime.from(u[0],a.inputFormat,s):datetime(u[0])).align("day"),u[1]&&(this.time=u[1].trim().split(":"))):a.useNow&&(this.value=datetime(),this.time=[this.value.hour(),this.value.minute()]),v=!g&&a.nullValue===!0?"":datetime(t.value).format(a.format,s),a.showTime&&this.time&&v&&(I=Str.lpad(this.time[0],"0",2),B=Str.lpad(this.time[1],"0",2),v+=" "+I+":"+B),o.val(v),c.insertBefore(o),o.appendTo(c),p.appendTo(c),f.appendTo(a.dialogMode?k:c),this.time&&this.time.length&&(b=this.time[0],typeof this.time[1]<"u"&&(x=this.time[1])),A=a.initialTime,a.initialHours&&(b=a.initialHours),a.initialHours&&(x=a.initialMinutes),e.makePlugin(f,"calendar",{showTime:a.showTime,initialTime:A,initialHours:b,initialMinutes:x,clsCalendarTime:a.clsCalendarTime,clsTime:a.clsTime,clsTimeHours:a.clsTimeHours,clsTimeMinutes:a.clsTimeMinutes,clsTimeButton:a.clsTimeButton,clsTimeButtonPlus:a.clsTimeButtonPlus,clsTimeButtonMinus:a.clsTimeButtonMinus,wide:a.wide,widePoint:a.widePoint,format:a.format,inputFormat:a.inputFormat,pickerMode:!0,show:a.value,weekStart:a.weekStart,outside:a.outside,buttons:!1,headerFormat:a.headerFormat,clsCalendar:[a.clsCalendar,"calendar-for-picker",a.dialogMode?"dialog-mode":""].join(" "),clsCalendarHeader:a.clsCalendarHeader,clsCalendarContent:a.clsCalendarContent,clsCalendarFooter:"d-none",clsCalendarMonths:a.clsCalendarMonths,clsCalendarYears:a.clsCalendarYears,clsToday:a.clsToday,clsSelected:a.clsSelected,clsExcluded:a.clsExcluded,ripple:a.ripple,rippleColor:a.rippleColor,exclude:a.exclude,minDate:a.minDate,maxDate:a.maxDate,yearsBefore:a.yearsBefore,yearsAfter:a.yearsAfter,special:a.special,events:a.events,showHeader:!1,showFooter:!1,multiSelect:!1,showWeekNumber:a.showWeekNumber,onDayClick:function(y,U,z,J){var H=datetime(y[0]).align("day"),P,X,dt;t._removeOverlay(),t.value=H,t.time=z,P=H.format(a.format,s),a.showTime&&(X=Str.lpad(z[0],"0",2),dt=Str.lpad(z[1],"0",2),P+=" "+X+":"+dt),o.val(P),o.trigger("change"),f.removeClass("open open-up"),f.hide(),t._fireEvent("change",{val:t.value.val(),time:t.time}),t._fireEvent("day-click",{sel:y,day:U,time:z,el:J}),t._fireEvent("picker-change",{val:t.value.val(),time:t.time})},onTimeChange:function(y){var U,z,J;t.time=y,t.value||(t.value=datetime()),U=t.value.format(a.format,t.locale),a.showTime&&(z=Str.lpad(y[0],"0",2),J=Str.lpad(y[1],"0",2),U+=" "+z+":"+J),o.val(U),t._fireEvent("change",{val:t.value.val(),time:t.time}),t._fireEvent("picker-change",{val:t.value.val(),time:t.time})},onMonthChange:a.onMonthChange,onYearChange:a.onYearChange}),this.calendar=f,a.clearButton===!0&&(m=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(a.clearButtonIcon),m.appendTo(p)),d=r("<button>").addClass("button input-calendar-button").attr("tabindex",-1).attr("type","button").html(a.calendarButtonIcon),d.appendTo(p),a.prepend!==""){var w=r("<div>").html(a.prepend);w.addClass("prepend").addClass(a.clsPrepend).appendTo(c)}if(o.attr("dir")==="rtl"&&c.addClass("rtl"),String(a.size).indexOf("%")>-1?c.css({width:a.size}):c.css({width:parseInt(a.size)+"px"}),o[0].className="",a.copyInlineStyles===!0&&r.each(l.getInlineStyles(o),function(y,U){c.css(y,U)}),c.addClass(a.clsPicker),o.addClass(a.clsInput),a.dialogOverlay===!0&&(this.overlay=t._overlay()),a.dialogMode===!0?c.addClass("dialog-mode"):l.media("(max-width: "+a.dialogPoint+"px)")&&(c.addClass("dialog-mode"),this.calendar.addClass("dialog-mode")),a.label){var E=r("<label>").addClass("label-for-input").addClass(a.clsLabel).html(a.label).insertBefore(c);o.attr("id")&&E.attr("for",o.attr("id")),o.attr("dir")==="rtl"&&E.addClass("rtl")}o.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.parent(),c=s.find(".input-clear-button"),p=this.calendar,d=e.getPlugin(p[0],"calendar"),m=this.calendar;r(globalThis).on(e.events.resize,function(){a.dialogMode!==!0&&(l.media("(max-width: "+a.dialogPoint+"px)")?(s.addClass("dialog-mode"),m.appendTo("body").addClass("dialog-mode")):(s.removeClass("dialog-mode"),m.appendTo(s).removeClass("dialog-mode")))},{ns:this.id}),c.length>0&&c.on(e.events.click,function(f){o.val("").trigger("change").blur(),t.value=null,f.preventDefault(),f.stopPropagation()}),s.on(e.events.click,"button, input",function(f){var g=t.value?t.value:datetime(),u=a.inputFormat?g.format(a.inputFormat):g.format("YYYY-MM-DD");g.align("day"),p.hasClass("open")===!1&&p.hasClass("open-up")===!1?(r(".calendar-picker .calendar").removeClass("open open-up").hide(),d.setPreset([u]),d.setShow(g),s.hasClass("dialog-mode")&&t.overlay.appendTo(r("body")),p.addClass("open"),a.openMode==="auto"?e.utils.inViewport(p[0])||p.addClass("open-up"):a.openMode==="up"&&p.addClass("open-up"),t._fireEvent("calendar-show",{calendar:p})):(t._removeOverlay(),p.removeClass("open open-up"),t._fireEvent("calendar-hide",{calendar:p})),f.preventDefault(),f.stopPropagation()}),o.on(e.events.blur,function(){s.removeClass("focused")}),o.on(e.events.focus,function(){s.addClass("focused")}),o.on(e.events.change,function(){l.exec(a.onChange,[t.value.val()],o[0])}),s.on(e.events.click,function(f){f.preventDefault(),f.stopPropagation()})},_overlay:function(){var t=this.options,o=r("<div>");return o.addClass("overlay for-calendar-picker").addClass(t.clsOverlay),t.overlayColor==="transparent"?o.addClass("transparent"):o.css({background:Farbe.Routines.toRGBA(t.overlayColor,t.overlayAlpha)}),o},_removeOverlay:function(){r("body").find(".overlay.for-calendar-picker").remove()},clear:function(){this.value=datetime(),this.time=[datetime().hour(),datetime().minute()],this.element.val("")},val:function(t,o){var a=this.element,s=this.options,c,p,d;if(arguments.length===0||l.isNull(t))return{date:this.value.val(),time:this.time};if(t==="")return this.clear();o&&(s.inputFormat=o);var m=t.split(" ");this.value=s.inputFormat?Datetime.from(m[0],s.inputFormat,this.locale):datetime(m[0]),m[1]&&(this.time=m[1].trim().split(":")),this.value.align("day"),e.getPlugin(this.calendar,"calendar").setTime(this.time),c=this.value.format(s.format),s.showTime&&this.time&&c&&(p=Str.lpad(this.time[0],"0",2),d=Str.lpad(this.time[1],"0",2),c+=" "+p+":"+d),a.val(c),a.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},getTime:function(t){var o,a;return t=t||!1,o=Str.lpad(this.time[0],"0",2),a=Str.lpad(this.time[1],"0",2),t?o+":"+a:this.time},changeAttribute:function(t,o){var a=this,s=e.getPlugin(this.calendar[0],"calendar");switch(t){case"value":a.val(o);break;case"disabled":this.toggleState();break;case"data-special":s.setSpecial(o);break;case"data-exclude":s.setExclude(o);break;case"data-min-date":s.setMinDate(o);break;case"data-max-date":s.setMaxDate(o);break;case"data-value":a.val(o);break}},destroy:function(){var t=this.element,o=t.parent(),a=o.find(".input-clear-button");return r(globalThis).off(e.events.resize,{ns:this.id}),a.off(e.events.click),o.off(e.events.click,"button, input"),t.off(e.events.blur),t.off(e.events.focus),t.off(e.events.change),e.getPlugin(this.calendar,"calendar").destroy(),t}}),r(document).on(e.events.click,".overlay.for-calendar-picker",function(){r(this).remove(),r(".calendar-for-picker.open").removeClass("open open-up")}),r(document).on(e.events.click,function(){r(".calendar-picker .calendar").removeClass("open open-up")})})(Metro,Dom);(function(e,r){"use strict";let l=["slide","slide-v","fade","switch","zoom","swirl"],i={carouselDeferred:0,autoStart:!1,width:"100%",height:"16/9",effect:l[0],effectFunc:"linear",direction:"left",duration:300,period:5e3,stopOnMouse:!0,controls:!0,controlsOnMouse:!1,controlsOutside:!1,controlPrev:"&larr;",controlNext:"&rarr;",bullets:!0,bulletsStyle:"square",bulletsSize:"default",bulletsPosition:"default",clsCarousel:"",clsSlides:"",clsSlide:"",clsControls:"",clsControlNext:"",clsControlPrev:"",clsBullets:"",clsBullet:"",clsBulletOn:"",clsThumbOn:"",onStop:e.noop,onStart:e.noop,onPlay:e.noop,onSlideClick:e.noop,onBulletClick:e.noop,onThumbClick:e.noop,onMouseEnter:e.noop,onMouseLeave:e.noop,onNextClick:e.noop,onPrevClick:e.noop,onSlideShow:e.noop,onSlideHide:e.noop,onCarouselCreate:e.noop};e.carouselSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroCarouselSetup!==void 0&&e.carouselSetup(globalThis.metroCarouselSetup),e.Component("carousel",{init:function(t,o){return this._super(o,t,i,{height:0,width:0,slides:[],current:null,currentIndex:null,dir:"left",interval:!1,isAnimate:!1,id:e.utils.elementId("carousel")}),this},_create:function(){let t=this.element,o=this.options,a=t.find(".slide"),s=t.find(".slides");this.dir=this.options.direction,t.addClass("carousel").addClass(o.clsCarousel),t.css({maxWidth:o.width}),o.controlsOutside===!0&&t.addClass("controls-outside"),s.length===0&&(s=r("<div>").addClass("slides").appendTo(t),a.appendTo(s)),a.addClass(o.clsSlides),a.length>0&&(this._createSlides(),this._createControls(),this._createBullets(),this._createEvents(),this._resize(),o.controlsOnMouse===!0&&(t.find("[class*=carousel-switch]").fadeOut(0),t.find(".carousel-bullets").fadeOut(0)),o.autoStart===!0?this._start():this._fireEvent("slide-show",{current:this.slides[this.currentIndex][0],prev:void 0})),this._fireEvent("carousel-create",{element:t})},_start:function(){let t=this,o=this.element,a=this.options,s=a.period,c=this.slides[this.currentIndex];c.data("period")!==void 0&&(s=c.data("period")),!(this.slides.length<=1)&&(this.interval===!1&&(this.interval=setTimeout(function(){let d=a.direction==="left"?"next":"prior";t._slideTo(d,!0)},s)),this._fireEvent("start",{element:o}))},_stop:function(){clearInterval(this.interval),this.interval=!1},_resize:function(){let t=this.element,o=this.options,a=t.outerWidth(),s,c=[];["16/9","21/9","4/3"].indexOf(o.height)>-1?s=e.utils.aspectRatioH(a,o.height):String(o.height).indexOf("@")>-1?(c=o.height.substring(1).toArray("|"),r.each(c,function(){let p=this.toArray(",");globalThis.matchMedia(p[0]).matches&&(["16/9","21/9","4/3"].indexOf(p[1])>-1?s=e.utils.aspectRatioH(a,p[1]):s=parseInt(p[1]))})):s=parseInt(o.height),t.css({height:s})},_createSlides:function(){let t=this,o=this.element,a=this.options,s=o.find(".slide");r.each(s,function(c){let p=r(this);if(p.data("cover")!==void 0&&p.css({backgroundImage:"url("+p.data("cover")+")"}),c!==0)switch(a.effect){case"switch":case"slide":p.css("left","100%");break;case"slide-v":p.css("top","100%");break;case"fade":case"zoom":case"swirl":p.css("opacity","0");break}else p.addClass("active-slide");p.addClass(a.clsSlide),t.slides.push(p)}),this.currentIndex=0,this.current=this.slides[this.currentIndex]},_createControls:function(){let t=this.element,o=this.options,a,s;o.controls!==!1&&(a=r("<span>").addClass("carousel-switch-next").addClass(o.clsControls).addClass(o.clsControlNext).html("<div></div>"),s=r("<span>").addClass("carousel-switch-prev").addClass(o.clsControls).addClass(o.clsControlPrev).html("<div></div>"),o.controlNext&&a.children("div").html(o.controlNext),o.controlPrev&&s.children("div").html(o.controlPrev),a.appendTo(t),s.appendTo(t))},_createBullets:function(){let t=this.element,o=this.options,a,s;if(o.bullets!==!1){for(a=r("<div>").addClass("carousel-bullets").addClass(o.bulletsSize+"-size").addClass("bullet-style-"+o.bulletsStyle).addClass(o.clsBullets),o.bulletsPosition==="default"||o.bulletsPosition==="center"?a.addClass("flex-justify-center"):o.bulletsPosition==="left"?a.addClass("flex-justify-start"):a.addClass("flex-justify-end"),s=0;s<this.slides.length;s++){let c=r("<span>").addClass("carousel-bullet").addClass(o.clsBullet).data("slide",s);s===0&&c.addClass("bullet-on").addClass(o.clsBulletOn),c.appendTo(a)}a.appendTo(t)}},_createEvents:function(){let t=this,o=this.element,a=this.options;o.on(e.events.click,".carousel-bullet",function(){let s=r(this);t.isAnimate===!1&&(t._slideToSlide(s.data("slide")),t._fireEvent("bullet-click",{bullet:s}))}),o.on(e.events.click,".carousel-switch-next",function(){t.isAnimate===!1&&(t._slideTo("next",!1),t._fireEvent("next-click",{button:this}))}),o.on(e.events.click,".carousel-switch-prev",function(){t.isAnimate===!1&&(t._slideTo("prev",!1),t._fireEvent("prev-click",{button:this}))}),a.stopOnMouse===!0&&a.autoStart===!0&&(o.on(e.events.enter,function(){t._stop(),t._fireEvent("mouse-enter",{element:o},!1,!0)}),o.on(e.events.leave,function(){t._start(),t._fireEvent("mouse-leave",{element:o},!1,!0)})),a.controlsOnMouse===!0&&(o.on(e.events.enter,function(){o.find("[class*=carousel-switch]").fadeIn(),o.find(".carousel-bullets").fadeIn()}),o.on(e.events.leave,function(){o.find("[class*=carousel-switch]").fadeOut(),o.find(".carousel-bullets").fadeOut()})),o.on(e.events.click,".slide",function(){let s=r(this);t._fireEvent("slide-click",{slide:s})}),r(globalThis).on(e.events.resize,function(){t._resize()},{ns:this.id})},_slideToSlide:function(t){let o=this.element,a=this.options,s,c,p;this.slides[t]!==void 0&&this.currentIndex!==t&&(p=t>this.currentIndex?"next":"prev",s=this.slides[this.currentIndex],c=this.slides[t],this.currentIndex=t,this._effect(s,c,a.effect,p),o.find(".carousel-bullet").removeClass("bullet-on").removeClass(a.clsBulletOn),o.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(a.clsBulletOn))},_slideTo:function(t,o){let a=this.element,s=this.options,c,p;t===void 0&&(t="next"),c=this.slides[this.currentIndex],t==="next"?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1)),p=this.slides[this.currentIndex],this._effect(c,p,s.effect,t,o),a.find(".carousel-bullet").removeClass("bullet-on").removeClass(s.clsBulletOn),a.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(s.clsBulletOn)},_effect:function(t,o,a,s,c){let p=this,d=this.options,m=d.duration,f,g=d.effectFunc,u=d.period,A=function(b,x,v,I){e.Effects[b](x[0],v[0],I)};o.data("duration")!==void 0&&(m=o.data("duration")),o.data("effectFunc")!==void 0&&(g=o.data("effectFunc")),a==="switch"&&(m=0),t.stop(!0),o.stop(!0),this.isAnimate=!0,setTimeout(function(){p.isAnimate=!1},m+100),a==="slide"?f=s==="next"?"slideLeft":"slideRight":a==="slide-v"?f=s==="next"?"slideUp":"slideDown":f=a,l.includes(a)||(f="switch"),A(f,t,o,{duration:m,ease:g}),t.removeClass("active-slide"),o.addClass("active-slide"),setTimeout(function(){p._fireEvent("slide-show",{current:o[0],prev:t[0]})},m),setTimeout(function(){p._fireEvent("slide-hide",{current:t[0],next:o[0]})},m),c===!0&&(o.data("period")!==void 0&&(u=o.data("period")),this.interval=setTimeout(function(){let x=d.direction==="left"?"next":"prior";p._slideTo(x,!0)},u))},toSlide:function(t){this._slideToSlide(t)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},stop:function(){clearInterval(this.interval),this._fireEvent("stop")},play:function(){this._start(),this._fireEvent("play")},setEffect:function(t){let o=this.element,a=this.options,s=o.find(".slide");l.includes(t)&&(a.effect=t,s.removeStyleProperty("transform").css({top:0,left:0}))},changeAttribute:function(t,o){t==="data-effect"&&this.setEffect(o)},destroy:function(){let t=this.element,o=this.options;return t.off(e.events.click,".carousel-bullet"),t.off(e.events.click,".carousel-switch-next"),t.off(e.events.click,".carousel-switch-prev"),o.stopOnMouse===!0&&o.autoStart===!0&&(t.off(e.events.enter),t.off(e.events.leave)),o.controlsOnMouse===!0&&(t.off(e.events.enter),t.off(e.events.leave)),t.off(e.events.click,".slide"),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={charmsDeferred:0,position:"right",opacity:1,clsCharms:"",onCharmCreate:e.noop,onOpen:e.noop,onClose:e.noop,onToggle:e.noop};e.charmsSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroCharmsSetup!==void 0&&e.charmsSetup(globalThis.metroCharmsSetup),e.Component("charms",{init:function(t,o){return this._super(o,t,i,{origin:{background:""}}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("charm-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options;t.addClass("charms").addClass(o.position+"-side").addClass(o.clsCharms),this.origin.background=t.css("background-color"),t.css({backgroundColor:Farbe.Routines.toRGBA(l.getStyleOne(t,"background-color"),o.opacity)})},_createEvents:function(){},open:function(){var t=this.element;t.addClass("open"),this._fireEvent("open")},close:function(){var t=this.element;t.removeClass("open"),this._fireEvent("close")},toggle:function(){var t=this.element;t.hasClass("open")===!0?this.close():this.open(),this._fireEvent("toggle")},opacity:function(t){var o=this.element,a=this.options;if(t===void 0)return a.opacity;var s=Math.abs(parseFloat(t));s<0||s>1||(a.opacity=s,o.css({backgroundColor:Farbe.Routines.toRGBA(l.getStyleOne(o,"background-color"),s)}))},changeOpacity:function(){var t=this.element;this.opacity(t.attr("data-opacity"))},changeAttribute:function(t){switch(t){case"data-opacity":this.changeOpacity();break}},destroy:function(){return this.element}}),e.charms={check:function(t){return l.isMetroObject(t,"charms")===!1?(console.warn("Element is not a charms component"),!1):!0},isOpen:function(t){if(this.check(t)!==!1)return r(t).hasClass("open")},open:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").open()},close:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").close()},toggle:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").toggle()},closeAll:function(){r("[data-role*=charms]").each(function(){e.getPlugin(this,"charms").close()})},opacity:function(t,o){this.check(t)!==!1&&e.getPlugin(t,"charms").opacity(o)}}})(Metro,Dom);(function(e,r){"use strict";let l={dropdownDeferred:0,dropFilter:null,toggleElement:null,noClose:!1,duration:50,openMode:"auto",onDrop:e.noop,onUp:e.noop,onDropdownCreate:e.noop};e.dropdownSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroDropdownSetup!==void 0&&e.dropdownSetup(globalThis.metroDropdownSetup),e.Component("dropdown",{init:function(i,t){return this._super(t,i,l,{_toggle:null,displayOrigin:null,isOpen:!1}),this},_create:function(){let i=this,t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:t}),t.hasClass("open")&&(t.removeClass("open"),setTimeout(function(){i.open(!0)},0))},_createStructure:function(){let i=this.element,t=this.options,o;t.openMode!=="auto"&&t.openMode==="up"&&i.addClass("drop-up"),o=t.toggleElement!==null?r(t.toggleElement):i.siblings(".dropdown-toggle").length>0?i.siblings(".dropdown-toggle"):i.prev(),this.displayOrigin=e.utils.getStyleOne(i,"display"),i.css("display","none"),this._toggle=o},_createEvents:function(){let i=this,t=this.element,o=this.options,a=this._toggle,s=t.parent();a.on(e.events.click,function(c){if(r(".active-container").removeClass("active-container"),t.css("display")!=="none"&&!t.hasClass("keep-open"))i._close(t);else{if(r("[data-role*=dropdown]").each(function(p,d){!t.parents("[data-role*=dropdown]").is(d)&&!r(d).hasClass("keep-open")&&r(d).css("display")!=="none"&&(e.utils.isValue(o.dropFilter)?r(d).closest(o.dropFilter).length>0&&i._close(d):i._close(d))}),t.hasClass("horizontal")){t.css({visibility:"hidden",display:"block"});let p=0;r.each(t.children("li"),function(){p+=r(this).outerWidth(!0)}),t.css({visibility:"visible",display:"none"}),t.css("width",p+2)}i._open(t),s.addClass("active-container")}c.preventDefault(),c.stopPropagation()}),o.noClose===!0&&t.addClass("keep-open").on(e.events.click,function(c){c.stopPropagation()}),r(t).find("li.disabled a").on(e.events.click,function(c){c.preventDefault()})},_close:function(i,t){i=r(i);let o=e.getPlugin(i,"dropdown"),a=o._toggle,s=o.options,c="slideUp";a.removeClass("active-toggle").removeClass("active-control"),o.element.parent().removeClass("active-container"),t&&(c="hide"),i[c](t?0:s.duration,function(){o._fireEvent("close"),o._fireEvent("up"),s.openMode==="auto"&&o.element.removeClass("drop-up drop-as-dialog")}),this.isOpen=!1},_open:function(i,t){i=r(i);let o=e.getPlugin(i,"dropdown"),a=o._toggle,s=o.options,c="slideDown";a.addClass("active-toggle").addClass("active-control"),i[c](t?0:s.duration,function(){s.openMode==="auto"&&(e.utils.inViewport(o.element[0])||o.element.addClass("drop-up"),e.utils.inViewport(o.element[0])||o.element.removeClass("drop-up").addClass("drop-as-dialog")),o._fireEvent("open"),o._fireEvent("drop")}),this.isOpen=!0},close:function(i){this._close(this.element,i)},open:function(i){this._open(this.element,i)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:function(){},destroy:function(){this._toggle.off(e.events.click)}}),r(document).on(e.events.click,function(){r("[data-role*=dropdown]").each(function(){let i=r(this);i.css("display")!=="none"&&!i.hasClass("keep-open")&&!i.hasClass("stay-open")&&!i.hasClass("ignore-document-click")&&e.getPlugin(i,"dropdown").close()})})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={id:"",label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"\u274C",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"Search...",filter:!1,copyInlineStyles:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,openMode:"auto",showGroupName:!1,shortTag:!0,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemAction:"",clsLabel:"",clsGroupName:"",onClear:e.noop,onChange:e.noop,onUp:e.noop,onDrop:e.noop,onItemSelect:e.noop,onItemDeselect:e.noop,onSelectCreate:e.noop};e.selectSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroSelectSetup!==void 0&&e.selectSetup(globalThis.metroSelectSetup),e.Component("select",{init:function(t,o){return this._super(o,t,i,{list:null,placeholder:null,observer:null}),this},_create:function(){var t=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:t})},_setPlaceholder:function(){var t=this.element,o=this.options,a=t.siblings(".select-input");o.usePlaceholder===!0&&(!l.isValue(t.val())||t.val()==o.emptyValue)&&a.html(this.placeholder)},_addTag:function(t,o){var a=this.element,s=this.options,c,p,d=a.closest(".select");let m=o.data("group"),f="<span class='title'>"+t+"</span>";return s.showGroupName&&m&&(f+="&nbsp;<span class='selected-item__group-name "+s.clsGroupName+"'>"+m+"</span>"),c=r("<div>").addClass("tag").addClass(s.shortTag?"short-tag":"").addClass(s.clsSelectedItem).html(f).data("option",o),r("<span>").addClass("action unselect-option").addClass(s.clsSelectedItemAction).html("&times;").appendTo(c),d.hasClass("input-large")?p="large":d.hasClass("input-small")&&(p="small"),c.addClass(p),c},_addOption:function(t,o,a,s,c){var p=r(t),d,m,f=this.element,g=this.options,u=l.isValue(p.attr("data-template"))?p.attr("data-template").replace("$1",t.text):t.text,A=p.attr("data-display");d=r("<li>").addClass(g.clsOption).data("option",t).attr("data-text",t.text).attr("data-value",t.value?t.value:""),m=r("<a>").html(u);let b=p.attr("data-icon");if(b&&m.prepend(r("<span>").addClass("icon").html(b)),A&&(d.attr("data-display",A),u=A),d.addClass(t.className),d.data("group",c),p.is(":disabled")&&d.addClass("disabled"),p.is(":selected")){let x="";g.showGroupName&&c&&(x="&nbsp;<span class='selected-item__group-name "+g.clsGroupName+"'>"+c+"</span>"),s?(d.addClass("d-none"),a.append(this._addTag(m.html(),d))):(u=m.html()+x,f.val(t.value),a.html(u),f.fire("change",{val:t.value}),d.addClass("active"))}d.append(m).appendTo(o)},_addOptionGroup:function(t,o,a,s){var c=this,p=this.options,d=r(t);r("<li>").html(t.label).addClass("group-title").addClass(p.clsOptionGroup).appendTo(o),r.each(d.children(),function(){c._addOption(this,o,a,s,t.label)})},_createOptions:function(){var t=this,o=this.element,a=this.options,s=o.parent(),c=s.find("ul").empty(),p=o.find("option[selected]").length>0,d=o[0].multiple,m=o.siblings(".select-input");o.siblings(".select-input").empty(),a.addEmptyValue===!0&&o.prepend(r("<option "+(p?"":"selected")+" value='"+a.emptyValue+"' class='d-none'></option>")),r.each(o.children(),function(){this.tagName==="OPTION"?t._addOption(this,c,m,d,null):this.tagName==="OPTGROUP"&&t._addOptionGroup(this,c,m,d)})},_createSelect:function(){var t=this,o=this.element,a=this.options,s=r("<label>"),c=o[0].multiple,p=l.elementId("select"),d=r("<div>").addClass("button-group"),m,f,g,u,A,b,x=l.elementId("select-focus-trigger"),v=r("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",x);if(this.placeholder=r("<span>").addClass("placeholder").html(a.placeholder),s.attr("id",a.id?a.id:p).attr("for",x),s[0].className=e.utils.classNames(o[0].className,"input-"+a.size,"select",a.clsSelect),b=r("<span>").addClass("dropdown-toggle"),b.appendTo(s),c&&s.addClass("multiple"),s.insertBefore(o),o.appendTo(s),d.appendTo(s),v.appendTo(s),m=r("<div>").addClass("select-input").addClass(a.clsSelectInput).attr("name","__"+p+"__"),f=r("<div>").addClass("drop-container").addClass(a.clsDropContainer),a.dropFullSize===!1?a.dropWidth&&f.css({width:+a.dropWidth}):s.addClass("drop-full-size"),g=r("<div>").appendTo(f),u=r("<ul>").addClass("option-list").addClass(a.clsDropList).css({"max-height":a.dropHeight}),A=r(`<input type='text' data-role='input' data-clear-button-icon="${a.clearButtonIcon}">`).attr("placeholder",a.filterPlaceholder).appendTo(g),s.append(m),s.append(f),f.append(g),a.filter!==!0&&g.hide(),f.append(u),this._createOptions(),this._setPlaceholder(),e.makePlugin(f,"dropdown",{dropFilter:".select",duration:a.duration,toggleElement:[s],openMode:a.openMode,onDrop:function(){var U,z;b.addClass("active-toggle"),U=r(".select .drop-container"),r.each(U,function(){var J=r(this);if(!J.is(f)){var H=e.getPlugin(J,"dropdown");H&&H.close&&H.close()}}),A.val("").trigger(e.events.keyup),z=u.find("li.active").length>0?r(u.find("li.active")[0]):void 0,z!==void 0&&(u[0].scrollTop=z.position().top-(u.height()-z.height())/2),t._fireEvent("drop",{list:u[0]})},onUp:function(){b.removeClass("active-toggle"),t._fireEvent("up",{list:u[0]})}}),this.list=u,a.clearButton===!0&&!o[0].readOnly){var I=r("<button>").addClass("button input-clear-button").addClass(a.clsClearButton).attr("tabindex",-1).attr("type","button").html(a.clearButtonIcon);I.appendTo(d)}else d.addClass("d-none");if(a.prepend!==""&&!c){var B=r("<div>").html(a.prepend);B.addClass("prepend").addClass(a.clsPrepend).appendTo(s)}if(a.append!==""&&!c){var k=r("<div>").html(a.append);k.addClass("append").addClass(a.clsAppend).appendTo(s)}if(a.copyInlineStyles===!0)for(var w=0,E=o[0].style.length;w<E;w++)s.css(o[0].style[w],o.css(o[0].style[w]));if(o.attr("dir")==="rtl"&&s.addClass("rtl").attr("dir","rtl"),a.label){var y=r("<label>").addClass("label-for-input").addClass(a.clsLabel).html(a.label).insertBefore(s);o.attr("id")&&y.attr("for",o.attr("id")),o.attr("dir")==="rtl"&&y.addClass("rtl")}o.is(":disabled")?this.disable():this.enable(),this.observer=new MutationObserver(this._updateSelect.bind(this)),this.observer.observe(o[0],{childList:!0,subtree:!0})},_updateSelect:function(t){for(let o of t)o.type==="childList"&&(o.addedNodes.length||o.removedNodes.length)&&this._createOptions()},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.closest(".select"),c=s.find(".drop-container"),p=o.siblings(".select-input"),d=c.find("input"),m=c.find("ul"),f=s.find(".input-clear-button"),g=s.find(".select-focus-trigger");g.on("focus",function(){s.addClass("focused")}),g.on("blur",function(){s.removeClass("focused")}),f.on(e.events.click,function(u){o.val(a.emptyValue),o[0].multiple&&m.find("li").removeClass("d-none"),p.clear(),t._setPlaceholder(),u.preventDefault(),u.stopPropagation(),t._fireEvent("clear"),t._fireEvent("change",{selected:t.getSelected()})}),o.on(e.events.change,function(){t._setPlaceholder()}),s.on(e.events.click,function(){r(".focused").removeClass("focused"),s.addClass("focused")}),p.on(e.events.click,function(){r(".focused").removeClass("focused"),s.addClass("focused")}),m.on(e.events.click,"li",function(u){if(r(this).hasClass("group-title")){u.preventDefault(),u.stopPropagation();return}var A=r(this),b=A.attr("data-display"),x=A.data("value"),v=A.data("group"),I=b||A.children("a").html(),B,k=A.data("option"),w=o.find("option");a.showGroupName&&v&&(I+="&nbsp;<span class='selected-item__group-name "+a.clsGroupName+"'>"+v+"</span>"),o[0].multiple?(A.addClass("d-none"),p.append(t._addTag(I,A))):(m.find("li.active").removeClass("active").removeClass(a.clsOptionActive),A.addClass("active").addClass(a.clsOptionActive),p.html(I),e.getPlugin(c,"dropdown").close()),r.each(w,function(){this===k&&(this.selected=!0)}),t._fireEvent("item-select",{val:x,option:k,leaf:A[0]}),B=t.getSelected(),t._fireEvent("change",{selected:B})}),p.on("click",".tag .action",function(u){var A=r(this).closest(".tag"),b=A.data("option"),x=b.data("option"),v;b.removeClass("d-none"),r.each(o.find("option"),function(){this===x&&(this.selected=!1)}),A.remove(),t._fireEvent("item-deselect",{option:x}),v=t.getSelected(),t._fireEvent("change",{selected:v}),u.preventDefault(),u.stopPropagation()}),d.on(e.events.keyup,function(){var u=this.value.toUpperCase(),A=m.find("li"),b,x;for(b=0;b<A.length;b++)r(A[b]).hasClass("group-title")||(x=A[b].getElementsByTagName("a")[0],x.innerHTML.toUpperCase().indexOf(u)>-1?A[b].style.display="":A[b].style.display="none")}),d.on(e.events.click,function(u){u.preventDefault(),u.stopPropagation()}),c.on(e.events.click,function(u){u.preventDefault(),u.stopPropagation()})},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(t){var o=this.element,a=o.find("option"),s=o.closest(".select"),c;r.each(a,function(){this.selected=l.isNull(t)?!1:this.defaultSelected}),this.list.find("li").remove(),s.find(".select-input").html(""),this._createOptions(),c=this.getSelected(),this._fireEvent("change",{selected:c})},getSelected:function(){var t=this.element,o=[];return t.find("option").each(function(){this.selected&&o.push(this.value)}),o},val:function(t){var o=this,a=this.element,s=this.options,c=a.siblings(".select-input"),p=a.find("option"),d=this.list.find("li"),m=[],f=a.attr("multiple")!==void 0,g,u,A,b,x,v,I;if(l.isNull(t))return r.each(p,function(){this.selected&&m.push(this.value)}),f?m:m[0];r.each(p,function(){this.selected=!1}),d.removeClass("active").removeClass(s.clsOptionActive),c.html(""),Array.isArray(t)===!1&&(t=[t]),r.each(t,function(){for(u=0;u<p.length;u++)if(g=p[u],A=l.isValue(g.getAttribute("data-template"))?g.getAttribute("data-template").replace("$1",g.text):g.text,""+g.value==""+this){g.selected=!0;break}for(u=0;u<d.length;u++)if(b=r(d[u]),I=b.data("group"),x=b.attr("data-value"),""+x==""+this){s.showGroupName&&I&&(A+="&nbsp;<span class='selected-item__group-name'>"+I+"</span>"),f?(b.addClass("d-none"),c.append(o._addTag(A,b))):(b.addClass("active").addClass(s.clsOptionActive),c.html(A));break}}),v=this.getSelected(),this._fireEvent("change",{selected:v})},options:function(t,o,a){return this.data(t,o,a)},data:function(t,o,a){var s=this.element,c,p,d=a||",";return typeof o=="string"?p=o.toArray(d).map(function(m){return isNaN(m)?m:+m}):Array.isArray(o)?p=o.slice().map(function(m){return isNaN(m)?m:+m}):p=[],s.empty(),typeof t=="string"?s.html(t):l.isObject2(t)&&r.each(t,function(m,f){if(l.isObject2(f))c=r("<optgroup label=''>").attr("label",m).appendTo(s),r.each(f,function(u,A){var b=r("<option>").attr("value",u).text(A).appendTo(c);p.indexOf(+u)>-1&&b.prop("selected",!0)});else{var g=r("<option>").attr("value",m).text(f).appendTo(s);p.indexOf(m)>-1&&g.prop("selected",!0)}}),this._createOptions(),this},addOption:function(t,o,a){var s=this.element,c=r("<option>").attr("value",t).text(o||t);return s.append(c),a&&c.prop("selected",!0),this._createOptions(),this},addOptions:function(t){var o=this;return t?(Array.isArray(t)?r.each(t,function(){var a=this;e.utils.isObject2(a)?o.addOption(a.val,a.title,a.selected):o.addOption(a)}):e.utils.isObject2(t)&&r.each(t,function(a,s){o.addOption(a,s)}),this):this},removeOption:function(t){var o=this.element,a=o.find("option");return a.each(function(){var s=r(this);s.attr("value")==t&&s.remove()}),this._createOptions(),this},removeOptions:function(t){var o=this.element,a=o.find("option");return!t||!Array.isArray(t)?this:(a.each(function(){var s=r(this),c=s.attr("value");t.indexOf(c)>-1&&s.remove()}),this._createOptions(),this)},changeAttribute:function(t){t==="disabled"&&this.toggleState()},destroy:function(){var t=this.element,o=t.closest(".select"),a=o.find(".drop-container"),s=t.siblings(".select-input"),c=a.find("input"),p=a.find("ul"),d=o.find(".input-clear-button");return o.off(e.events.click),o.off(e.events.click,".input-clear-button"),s.off(e.events.click),c.off(e.events.blur),c.off(e.events.focus),p.off(e.events.click,"li"),c.off(e.events.keyup),a.off(e.events.click),d.off(e.events.click),a.data("dropdown").destroy(),t}}),r(document).on(e.events.click,function(){r(".select").removeClass("focused")},{ns:"blur-select-elements"})})(Metro,Dom);(function(e,r){"use strict";let l={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",searchButton:!1,clearButton:!0,revealButton:!0,randomButton:!1,clearButtonIcon:"\u274C",revealButtonIcon:"\u{1F440}",searchButtonIcon:"\u{1F50D}",randomButtonIcon:"\u{1F3B2}",customButtons:[],searchButtonClick:"submit",randomSymbols:"0123456789;abcdefghijklmnopqrstuvwxyz;ABCDEFGHIJKLMNOPQRSTUVWXYZ;<>!?@#$%^&*()_+",randomLength:12,prependOptions:"",prependOptionsSep:",",appendOptions:"",appendOptionsSep:",",badge:null,clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsRandomButton:"",clsLabel:"",onAutocompleteSelect:e.noop,onHistoryChange:e.noop,onHistoryUp:e.noop,onHistoryDown:e.noop,onClearClick:e.noop,onRevealClick:e.noop,onSearchButtonClick:e.noop,onEnterClick:e.noop,onInputCreate:e.noop};e.inputSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroInputSetup!==void 0&&e.inputSetup(globalThis.metroInputSetup),e.Component("input",{init:function(i,t){return this._super(t,i,l,{history:[],historyIndex:-1,autocomplete:[],prependOptionsList:null,appendOptionsList:null}),this},_create:function(){let i=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:i})},_createStructure:function(){let i=this,t=this.element,o=this.options,a=r("<div>").addClass("input "+t[0].className),s=r("<div>").addClass("button-group"),c,p,d,m;e.utils.isValue(o.historyPreset)&&(r.each(o.historyPreset.toArray(o.historyDivider),function(){i.history.push(this)}),i.historyIndex=i.history.length-1),t.attr("type")===void 0&&t.attr("type","text"),a.insertBefore(t),t.appendTo(a),s.appendTo(a),e.utils.isValue(t.val().trim())||t.val(o.defaultValue),o.clearButton===!0&&!t[0].readOnly&&(c=r("<button>").addClass("button input-clear-button").addClass(o.clsClearButton).attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon).attr("title",this.strings.label_clear_input),c.appendTo(s)),t.attr("type")==="password"&&o.revealButton===!0&&(p=r("<button>").addClass("button input-reveal-button").addClass(o.clsRevealButton).attr("tabindex",-1).attr("type","button").html(o.revealButtonIcon).attr("title",this.strings.label_reveal_password),p.appendTo(s)),o.searchButton===!0&&(d=r("<button>").addClass("button input-search-button").addClass(o.clsSearchButton).attr("tabindex",-1).attr("type",o.searchButtonClick==="submit"?"submit":"button").html(o.searchButtonIcon).attr("title",this.strings.label_search_input),d.appendTo(s)),o.randomButton===!0&&(m=r("<button>").addClass("button input-random-button").addClass(o.clsRandomButton).attr("tabindex",-1).attr("type","button").html(o.randomButtonIcon).attr("title",this.strings.label_generate_random),m.appendTo(s));let f,g;o.prepend&&r("<div>").html(o.prepend).addClass("prepend").addClass(o.clsPrepend).appendTo(a),o.prependOptions&&(f=r("<div>").addClass("prepend-options").appendTo(a),f.append(g=r("<select data-role='select'>").addClass("options-list")),o.prependOptions.toArray(o.prependOptionsSep).forEach(function(A){r("<option>").attr("value",A).html(A).appendTo(g)}),this.prependOptionsList=g),o.append&&r("<div>").html(o.append).addClass("append").addClass(o.clsAppend).appendTo(a),o.appendOptions&&(f=r("<div>").addClass("append-options").appendTo(a),f.append(g=r("<select data-role='select'>").addClass("options-list")),o.appendOptions.toArray(o.appendOptionsSep).forEach(function(A){r("<option>").attr("value",A).html(A).appendTo(g)}),this.appendOptionsList=g);let u=e.utils.isObject(o.customButtons);if(Array.isArray(u)&&r.each(u,function(){let A=this,b=r("<button>");b.addClass("button input-custom-button").addClass(o.clsCustomButton).addClass(A.cls).attr("tabindex",-1).attr("type","button").html(A.text),A.attr&&typeof A.attr=="object"&&r.each(A.attr,function(x,v){b.attr(Str.dashedName(x),v)}),A.onclick&&b.on("click",()=>{A.onclick.apply(b,[t.valueOf(),t])}),b.appendTo(s)}),e.utils.isValue(t.attr("data-exclaim"))&&a.attr("data-exclaim",t.attr("data-exclaim")),t.attr("dir")==="rtl"&&a.addClass("rtl").attr("dir","rtl"),t[0].className="",a.addClass(o.clsComponent),t.addClass(o.clsInput),o.size!=="default"&&a.css({width:o.size}),(!e.utils.isNull(o.autocomplete)||!e.utils.isNull(o.autocompleteUrl))&&r("<div>").addClass("autocomplete-list").css({maxHeight:o.autocompleteListHeight,display:"none"}).appendTo(a),e.utils.isValue(o.autocomplete)){let A=e.utils.isObject(o.autocomplete);A!==!1?this.autocomplete=A:this.autocomplete=o.autocomplete.toArray(o.autocompleteDivider)}if(e.utils.isValue(o.autocompleteUrl)&&fetch(o.autocompleteUrl,{method:o.autocompleteUrlMethod}).then(function(A){return A.text()}).then(function(A){let b=[];try{b=JSON.parse(A),o.autocompleteUrlKey&&(b=b[o.autocompleteUrlKey])}catch{b=A.split(`
`)}i.autocomplete=i.autocomplete.concat(b)}),o.label){let A=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(a);t.attr("id")&&A.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&A.addClass("rtl")}o.badge&&a.append(r("<div>").addClass("badge").html(o.badge)),t.is(":disabled")?this.disable():this.enable(),this.component=a},_createEvents:function(){let i=this,t=this.element,o=this.options,a=t.closest(".input"),s=a.find(".autocomplete-list");a.on(e.events.click,".input-clear-button",function(){let c=t.val();t.val(e.utils.isValue(o.defaultValue)?o.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),s.length>0&&s.css({display:"none"}),i._fireEvent("clear-click",{prev:c})}),a.on(e.events.click,".input-reveal-button",function(){t.attr("type")==="password"?t.attr("type","text"):t.attr("type","password"),i._fireEvent("reveal-click",{val:t.val()})}),a.on(e.events.click,".input-search-button",function(){o.searchButtonClick!=="submit"?(console.log("Search button clicked"),i._fireEvent("search-button-click",{val:i.val(),button:this})):this.form&&this.form.submit()}),a.on(e.events.click,".input-random-button",function(){let c=i._generateRandomValue();t.val(c).fire("change").fire("keyup").focus(),i._fireEvent("random-click",{val:c})}),t.on(e.events.keyup,function(c){let p=t.val().trim();o.history&&c.keyCode===e.keyCode.ENTER&&p!==""&&(t.val(""),i.history.push(p),i.historyIndex=i.history.length-1,i._fireEvent("history-change",{val:p,history:i.history,historyIndex:i.historyIndex}),o.preventSubmit===!0&&c.preventDefault()),o.history&&c.keyCode===e.keyCode.UP_ARROW&&(i.historyIndex--,i.historyIndex>=0?(t.val(""),t.val(i.history[i.historyIndex]),i._fireEvent("history-down",{val:t.val(),history:i.history,historyIndex:i.historyIndex})):i.historyIndex=0,c.preventDefault()),o.history&&c.keyCode===e.keyCode.DOWN_ARROW&&(i.historyIndex++,i.historyIndex<i.history.length?(t.val(""),t.val(i.history[i.historyIndex]),i._fireEvent("history-up",{val:t.val(),history:i.history,historyIndex:i.historyIndex})):i.historyIndex=i.history.length-1,c.preventDefault())}),t.on(e.events.keydown,function(c){c.keyCode===e.keyCode.ENTER&&i._fireEvent("enter-click",{val:t.val()})}),t.on(e.events.blur,function(){a.removeClass("focused")}),t.on(e.events.focus,function(){a.addClass("focused")}),t.on(e.events.input,function(){let c=this.value.toLowerCase();i._drawAutocompleteList(c)}),a.on(e.events.click,".autocomplete-list .item",function(){let c=r(this).attr("data-autocomplete-value");t.val(c),s.css({display:"none"}),t.trigger("change"),i._fireEvent("autocomplete-select",{value:c})})},_generateRandomValue:function(){let i=this.options,t=i.randomSymbols.split(";"),o=Math.round(i.randomLength/t.length),a=[];for(let s of t){let c=s.split(""),p=c.length;for(let d=0;d<o;d++)a.push(c[Math.floor(Math.random()*p)])}return a.shuffle().join("")},_drawAutocompleteList:function(i){let t=this,s=this.element.closest(".input").find(".autocomplete-list"),c;s.length!==0&&(s.html(""),c=this.autocomplete.filter(function(p){return p.toLowerCase().indexOf(i)>-1}),s.css({display:c.length>0?"block":"none"}),r.each(c,function(){let p=this,d=p.toLowerCase().indexOf(i),m,f=r("<div>").addClass("item").attr("data-autocomplete-value",p);d===0?m="<strong>"+p.substring(0,i.length)+"</strong>"+p.substring(i.length):m=p.substring(0,d)+"<strong>"+p.substring(d,i.length)+"</strong>"+p.substring(d+i.length),f.html(m).appendTo(s),t._fireEvent("draw-autocomplete-item",{item:f})}))},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(i){this.historyIndex=i>=this.history.length?this.history.length-1:i},setHistory:function(i,t){let o=this,a=this.options;e.utils.isNull(i)||(!Array.isArray(i)&&typeof i=="string"&&(i=i.toArray(a.historyDivider)),t===!0?r.each(i,function(){o.history.push(this)}):this.history=i,this.historyIndex=this.history.length-1)},clear:function(){this.element.val("")},toDefault:function(){this.element.val(e.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(i){let t=e.utils.isObject(i);t!==!1?this.autocomplete=t:typeof i=="string"&&(this.autocomplete=i.toArray(this.options.autocompleteDivider))},val:function(i,t=";"){let o=this.element,a=this.options;if(!e.utils.isValue(i)){let m=o.val();return a.prependOptions&&(m=this.prependOptionsList.val()+m),a.appendOptions&&(m=m+this.appendOptionsList.val()),m}let s=i.split(t),c="",p="",d;a.prependOptions&&(c=s.shift(),e.getPlugin(this.prependOptionsList,"select").val(c),console.log(c)),a.appendOptions&&(p=s.pop(),e.getPlugin(this.appendOptionsList,"select").val(p)),d=s.join(""),o.val(d)},prependOptionsVal:function(i){this.options.prependOptions&&(e.utils.isValue(i)||this.prependOptionsList.val(),this.prependOptionsList.val(i))},appendOptionsVal:function(i){if(this.options.appendOptions){if(!e.utils.isValue(i))return this.appendOptionsList.val();this.appendOptionsList.val(i)}},changeAttribute:function(i){switch(i){case"disabled":this.toggleState();break}},destroy:function(){let i=this.element,t=i.parent(),o=t.find(".input-clear-button"),a=t.find(".input-reveal-button"),s=t.find(".input-custom-button");return o.length>0&&o.off(e.events.click),a.length>0&&(a.off(e.events.start),a.off(e.events.stop)),s.length>0&&o.off(e.events.click),i.off(e.events.blur),i.off(e.events.focus),i}}),r(document).on(e.events.click,function(){r(".input .autocomplete-list").hide()})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={chatDeferred:0,inputTimeFormat:null,timeFormat:"D MMM hh:mm A",name:"John Doe",avatar:"<span>\u{1F466}</span>",welcome:null,welcomeAvatar:"<span>\u{1F47D}</span>",title:null,width:"100%",height:"auto",messages:null,sendButtonTitle:"",sendButtonIcon:"",readonly:!1,clsChat:"",clsName:"",clsTime:"",clsInput:"",clsSendButton:"",clsMessageLeft:"default",clsMessageRight:"default",onMessage:e.noop,onSend:e.noop,onSendButtonClick:e.noop,onChatCreate:e.noop};e.chatSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroChatSetup!==void 0&&e.chatSetup(globalThis.metroChatSetup),e.Component("chat",{init:function(t,o){return this._super(o,t,i,{input:null,classes:"primary secondary success alert warning yellow info dark light".split(" "),lastMessage:null}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("chat-create",{element:t})},_createStructure:function(){var t=this,o=this.element,a=this.options,s,c,p,d=[{html:`${a.sendButtonTitle||this.strings.label_send}${a.sendButtonIcon}`,cls:a.clsSendButton+" js-chat-send-button",onclick:a.onSendButtonClick}];o.addClass("chat").addClass(a.clsChat),o.css({width:a.width,height:a.height}),l.isValue(a.title)&&r("<div>").addClass("title").html(a.title).appendTo(o),s=r("<div>").addClass("messages"),s.appendTo(o),c=r("<div>").addClass("message-input").appendTo(o),p=r("<input type='text'>").addClass("chat-input"),p.appendTo(c),setTimeout(()=>{e.makePlugin(p[0],"input",{customButtons:d,clsInput:a.clsInput})}),a.welcome&&this.add({text:a.welcome,time:datetime(),position:"left",name:"Chat Bot",avatar:a.welcomeAvatar}),l.isValue(a.messages)&&typeof a.messages=="string"&&(a.messages=l.isObject(a.messages)),!l.isNull(a.messages)&&typeof a.messages=="object"&&l.objectLength(a.messages)>0&&r.each(a.messages,function(){t.add(this)}),o.find(".message-input")[a.readonly?"addClass":"removeClass"]("disabled")},_createEvents:function(){var t=this,o=this.element,a=this.options,s=function(){var c=o.find(".chat-input input"),p=""+c.val(),d;if(p.trim()==="")return!1;d={id:l.elementId("chat-message"),name:a.name,avatar:a.avatar,text:p,position:"right",time:datetime()},t.add(d),c.val(""),t._fireEvent("send",{msg:d}),c.focus()};o.on(e.events.click,".js-chat-send-button",function(){s()}),o.on(e.events.keyup,".chat-input > input",function(c){c.keyCode===e.keyCode.ENTER&&s()})},add:function(t){var o=this,a=this.element,s=this.options,c=this.locale,p,d,m,f,g,u,A=a.find(".messages"),b;if(b=s.inputTimeFormat?Datetime.from(t.time,s.inputTimeFormat,c):datetime(t.time),p=r("<div>").addClass("message").addClass(t.position).appendTo(A),f=r("<div>").addClass("message-item").appendTo(p),e.utils.isUrl(t.avatar)||t.avatar.includes("data:image"))g=r("<img>").attr("src",t.avatar).attr("alt",t.avatar).addClass("message-avatar").appendTo(f);else if(t.avatar){let x=r(t.avatar);x.length?g=x.addClass("message-avatar").appendTo(f):g=r("<span>").addClass("message-avatar").html(t.avatar).appendTo(f)}return u=r("<div>").addClass("message-text").append(r("<div>").addClass("message-text-inner").html(Str.escapeHtml(t.text))).appendTo(f),m=r("<div>").addClass("message-time").addClass(s.clsTime).text(b.format(s.timeFormat)).appendTo(u),d=r("<div>").addClass("message-sender").addClass(s.clsName).text(t.name).appendTo(u),l.isValue(t.id)&&p.attr("id",t.id),t.position==="left"&&l.isValue(s.clsMessageLeft)&&u.addClass(s.clsMessageLeft),t.position==="right"&&l.isValue(s.clsMessageRight)&&u.addClass(s.clsMessageRight),this.lastMessage&&this.lastMessage.position===t.position&&(u.addClass("--next"),g.visible(!1),d.hide()),o._fireEvent("message",{msg:t,el:{message:p,sender:d,time:m,item:f,avatar:g,text:u}}),A.animate({draw:{scrollTop:A[0].scrollHeight},dur:1e3}),this.lastMessage=t,this},addMessages:function(t){var o=this;return l.isValue(t)&&typeof t=="string"&&(t=l.isObject(t)),typeof t=="object"&&l.objectLength(t)>0&&r.each(t,function(){o.add(this)}),this},delMessage:function(t){var o=this.element;return o.find(".messages").find("#"+t).remove(),this},updMessage:function(t){var o=this.element,a=o.find(".messages").find("#"+t.id);let s=this.options,c=this.locale;if(a.length===0)return this;let p=s.inputTimeFormat?Datetime.from(t.time,s.inputTimeFormat,c):datetime(t.time);return a.find(".message-text-inner").html(t.text),a.find(".message-time").html(p.format(s.timeFormat)),this},clear:function(){var t=this.element,o=t.find(".messages");o.html(""),this.lastMessage=null},toggleReadonly:function(t){var o=this.element,a=this.options;a.readonly=typeof t>"u"?!a.readonly:t,o.find(".message-input")[a.readonly?"addClass":"removeClass"]("disabled")},changeAttribute:function(t){switch(t){case"data-readonly":this.toggleReadonly();break}},destroy:function(){var t=this.element,o=t.find(".js-chat-send-button"),a=t.find("input[type=text]");return o.off(e.events.click),a.off(e.events.keyup),t}}),e.defaults.Chat=i})(Metro,Dom);(function(e,r){"use strict";globalThis.CHECKBOX_STATE={CHECKED:1,UNCHECKED:-1,INDETERMINATE:0};let l={checkboxDeferred:0,state:CHECKBOX_STATE.UNCHECKED,threeState:!1,prepend:"",append:"",clsCheckbox:"",clsCaption:"",clsPrepend:"",clsAppend:"",onCheckboxCreate:e.noop};e.metroCheckboxSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroCheckboxSetup!==void 0&&e.metroCheckboxSetup(globalThis.metroCheckboxSetup),e.Component("checkbox",{init:function(i,t){return this._super(t,i,l,{origin:{className:""},state:CHECKBOX_STATE.UNCHECKED}),this},_create:function(){let i=this.options;(i.threeState===!1&&i.state===0||i.state==="indeterminate")&&(i.state=CHECKBOX_STATE.UNCHECKED),i.state===CHECKBOX_STATE.UNCHECKED||i.state==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:i.state===0||i.state==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(i=!0){let t=this.element;t[0].indeterminate=i,t.attr("data-indeterminate",i)},_createStructure:function(){let i=this.element,t=this.options,o=i.wrap("<label>").addClass("checkbox").addClass(t.clsCheckbox);i.attr("type","checkbox"),t.prepend&&o.prepend(r("<span>").addClass("caption-prepend").addClass(t.clsPrepend).addClass(t.clsCaption).html(t.prepend)),t.append&&o.append(r("<span>").addClass("caption-append").addClass(t.clsAppend).addClass(t.clsCaption).html(t.append)),i.attr("readonly")!==void 0&&i.on("click",function(a){a.preventDefault()}),this.elem.checked&&this.state!==CHECKBOX_STATE.INDETERMINATE&&(this.state=!0),this._drawState()},_drawState:function(){let i=this.elem;this._indeterminate(!1),i.checked=this.state!==CHECKBOX_STATE.UNCHECKED,this.state===CHECKBOX_STATE.INDETERMINATE&&this._indeterminate(!0)},_createEvents:function(){let i=this.element,t=this.options,o=this;i.on("click",function(){o.state++,o.state===0&&t.threeState===!1&&(o.state=1),o.state===2&&(o.state=-1),o._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},indeterminate:function(){this.setCheckState(CHECKBOX_STATE.INDETERMINATE)},setCheckState:function(i){return i===-1||i==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:i===0||i==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._drawState(),this},getCheckState:function(i=!1){if(!i)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},toggle:function(){this.state++,this.state===2&&(this.state=-1),this._drawState()},changeAttribute:function(i,t){let o=function(a){this.toggle(a)};switch(i){case"data-state":o(t);break}},destroy:function(){let i=this.element;i.off("click"),i.parent().remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={clockDeferred:0,show:"row",showTime:!0,showDate:!0,dateFormat:"DD.MM.YYYY",timeFormat:"HH:mm",divider:"&nbsp;&nbsp;",twoLines:!1,onTick:e.noop,onSecond:e.noop,onClockCreate:e.noop};e.clockSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroClockSetup!==void 0&&e.clockSetup(globalThis.metroClockSetup),e.Component("clock",{init:function(i,t){return this._super(t,i,l,{_clockInterval:null}),this},_create:function(){let i=this,t=this.element,o=this.options;t.addClass("clock"),o.show==="column"&&t.addClass("show-column"),this._fireEvent("clock-create",{element:t}),this._tick(),this._clockInterval=setInterval(function(){i._tick()},500),this._secondInterval=setInterval(function(){i._second()},1e3)},_second:function(){let i=new Date;this._fireEvent("second",{timestamp:i})},_tick:function(){let i=this.element,t=this.options,o=datetime(),a="",s=o.format(t.dateFormat),c=o.format(t.timeFormat);t.showTime&&(a=`<span class="clock-time">${c}</span>`),t.showDate&&(a+=`<span class="clock-date">${s}</span>`),i.html(a),this._fireEvent("tick",{timestamp:o})},changeAttribute:function(i,t){switch(i){case"data-date-format":this.options.dateFormat=t;break;case"data-time-format":this.options.timeFormat=t;break;case"data-show-date":this.options.showDate=JSON.parse(t);break;case"data-show-time":this.options.showTime=JSON.parse(t);break;case"data-divider":this.options.divider=t;break;case"data-two-lines":this.options.twoLines=JSON.parse(t);break}this._tick()},destroy:function(){clearInterval(this._clockInterval),this._clockInterval=null,this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l={collapseDeferred:0,collapsed:!1,toggleElement:!1,duration:100,onExpand:e.noop,onCollapse:e.noop,onCollapseCreate:e.noop};e.collapseSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroCollapseSetup!==void 0&&e.collapseSetup(globalThis.metroCollapseSetup),e.Component("collapse",{init:function(i,t){return this._super(t,i,l,{toggle:null}),this},_create:function(){var i=this,t=this.element,o=this.options,a;a=o.toggleElement!==!1?r(o.toggleElement):t.siblings(".collapse-toggle").length>0?t.siblings(".collapse-toggle"):t.siblings("a:nth-child(1)"),(o.collapsed===!0||t.attr("collapsed")===!0)&&t.hide(0),a.on(e.events.click,function(s){t.css("display")!=="none"&&!t.hasClass("keep-open")?i._close(t):i._open(t),["INPUT"].indexOf(s.target.tagName)===-1&&s.preventDefault(),s.stopPropagation()}),this.toggle=a,this._fireEvent("collapse-create",{element:t})},_close:function(i,t){var o=r(i),a=o.data("collapsed");if(!a){var s=e.getPlugin(o[0],"collapse"),c=s.options,p=t?"show":"slideUp",d=t?0:c.duration;this.toggle.removeClass("active-toggle"),o[p](d,function(){i.trigger("onCollapse",null,i),i.data("collapsed",!0),i.addClass("collapsed"),s._fireEvent("collapse")})}},_open:function(i,t){var o=r(i),a=o.data("collapsed");if(a){var s=e.getPlugin(o[0],"collapse"),c=s.options,p=t?"show":"slideDown",d=t?0:c.duration;this.toggle.addClass("active-toggle"),o[p](d,function(){i.trigger("onExpand",null,i),i.data("collapsed",!1),i.removeClass("collapsed"),s._fireEvent("expand")})}},collapse:function(i){this._close(this.element,i)},expand:function(i){this._open(this.element,i)},close:function(i){this._close(this.element,i)},open:function(i){this._open(this.element,i)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){var i=this.element;i.attr("collapsed")===!0||i.data("collapsed")===!0?this.collapse():this.expand()},changeAttribute:function(i){switch(i){case"collapsed":case"data-collapsed":this.toggleState();break}},destroy:function(){return this.toggle.off(e.events.click),this.element}})})(Metro,Dom);(function(e,r){"use strict";let l="hex, rgb, rgba, hsl, hsla, hsv, cmyk",i={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",userColors:null,returnValueType:"hex",returnAsString:!0,showValues:l,showAsString:null,showUserColors:!0,controller:null,addUserColorTitle:null,userColorsTitle:null,hslMode:"percent",showAlphaChannel:!0,inputThreshold:300,initColor:null,readonlyInput:!1,clsSelector:"",clsSwatches:"",clsSwatch:"",clsValue:"",clsLabel:"",clsInput:"",clsUserColorButton:"",clsUserColors:"",clsUserColorsTitle:"",clsUserColor:"",onSelectColor:e.noop,onColorSelectorCreate:e.noop};e.colorSelectorSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroColorSelectorSetup!==void 0&&e.colorSelectorSetup(globalThis.metroColorSelectorSetup),e.Component("color-selector",{init:function(t,o){return this._super(o,t,i,{id:e.utils.elementId("color-selector"),defaultSwatches:[],showValues:[],userColors:[],showAsString:[],hue:0,saturation:0,lightness:1,alpha:1,hsl:null,hsla:null,hsv:null,rgb:null,rgba:null,cmyk:null,hex:null,inputInterval:null,controller:null}),this},_create:function(){let t=this.options;e.utils.isValue(t.defaultSwatches)&&(this.defaultSwatches=t.defaultSwatches.toArray(",").map(function(o){return o.toUpperCase()})),e.utils.isValue(t.showValues)&&(this.showValues=t.showValues.toArray(",")),e.utils.isValue(t.userColors)&&(this.userColors=t.userColors.toArray(",").map(function(o){return o.toUpperCase()})),e.utils.isValue(t.showAsString)&&(this.showAsString=t.showAsString.toArray(",")),this._createStructure(),this._createEvents(),this._setColorValues(),this._fireEvent("color-selector-create")},_createStructure:function(){let t=this,o=this.element,a=this.options,s=this.strings,c,p,d,m,f,g,u,A,b,x,v,I,B,k,w;o.addClass("color-selector").addClass(a.clsSelector),o.append(c=r("<div>").addClass("color-box")),c.append(p=r("<div>").addClass("row")),p.append(d=r("<div>").addClass("default-swatches").addClass(a.clsSwatches)),r.each(this.defaultSwatches,function(){d.append(r("<button>").attr("data-color",this).attr("type","button").addClass("swatch").addClass(a.clsSwatch).css("background-color",this))}),c.append(p=r("<div>").addClass("row")),p.append(m=r("<div>").addClass("color-map")),m.append(I=r("<button>").attr("type","button").addClass("cursor color-cursor dragging")),m.append(x=r("<canvas>").addClass("color-canvas")),p.append(m=r("<div>").addClass("hue-map")),m.append(v=r("<button>").attr("type","button").addClass("cursor hue-cursor dragging")),m.append(b=r("<canvas>").addClass("hue-canvas")),p.append(m=r("<div>").addClass("alpha-map")),m.append(w=r("<button>").attr("type","button").addClass("cursor alpha-cursor dragging")),m.append(k=r("<canvas>").addClass("alpha-canvas")),c.append(p=r("<div>").addClass("row color-values-block")),p.append(f=r("<div>").addClass("color-value-hex")),f.append(r("<input type='radio' name='returnType' value='hex' checked>").addClass("check-color-value-hex")),f.append(B=r("<div>").addClass("color-block as-string color-hex")),B.append(r("<input type='text' data-prepend='HEX:'>").addClass("input-small value-hex")),p.append(f=r("<div>").addClass("color-value-rgb")),f.append(r("<input type='radio' name='returnType' value='rgb'>").addClass("check-color-value-rgb")),f.append(B=r("<div>").addClass("color-block color-rgb")),B.append(r("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),B.append(r("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),B.append(r("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),f.append(B=r("<div>").addClass("color-block as-string color-rgb")),B.append(r("<input type='text' data-prepend='RGB:'>").addClass("input-small value-rgb")),this.showAsString.indexOf("rgb")>-1?f.find(".value-r,.value-g,.value-b").parent().hide():f.find(".value-rgb").parent().hide(),p.append(f=r("<div>").addClass("color-value-rgba")),f.append(r("<input type='radio' name='returnType' value='rgba'>").addClass("check-color-value-rgba")),f.append(B=r("<div>").addClass("color-block color-rgba")),B.append(r("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),B.append(r("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),B.append(r("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),B.append(r("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),f.append(B=r("<div>").addClass("color-block as-string color-rgba")),B.append(r("<input type='text' data-prepend='RGBA:'>").addClass("input-small value-rgba")),this.showAsString.indexOf("rgba")>-1?f.find(".value-r,.value-g,.value-b,.value-a").parent().hide():f.find(".value-rgba").parent().hide(),p.append(f=r("<div>").addClass("color-value-hsl")),f.append(r("<input type='radio' name='returnType' value='hsl'>").addClass("check-color-value-hsl")),f.append(B=r("<div>").addClass("color-block color-hsl")),B.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),B.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),B.append(r("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),f.append(B=r("<div>").addClass("color-block as-string color-hsl")),B.append(r("<input type='text' data-prepend='HSL:'>").addClass("input-small value-hsl")),this.showAsString.indexOf("hsl")>-1?f.find(".value-h,.value-s,.value-l").parent().hide():f.find(".value-hsl").parent().hide(),p.append(f=r("<div>").addClass("color-value-hsla")),f.append(r("<input type='radio' name='returnType' value='hsla'>").addClass("check-color-value-hsla")),f.append(B=r("<div>").addClass("color-block color-hsla")),B.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),B.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),B.append(r("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),B.append(r("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),f.append(B=r("<div>").addClass("color-block as-string color-hsla")),B.append(r("<input type='text' data-prepend='HSLA:'>").addClass("input-small value-hsla")),this.showAsString.indexOf("hsla")>-1?f.find(".value-h,.value-s,.value-l,.value-a").parent().hide():f.find(".value-hsla").parent().hide(),p.append(f=r("<div>").addClass("color-value-hsv")),f.append(r("<input type='radio' name='returnType' value='hsv'>").addClass("check-color-value-hsl")),f.append(B=r("<div>").addClass("color-block color-hsv")),B.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),B.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),B.append(r("<input type='text' data-prepend='V:'>").addClass("input-small value-v")),f.append(B=r("<div>").addClass("color-block as-string color-hsv")),B.append(r("<input type='text' data-prepend='HSV:'>").addClass("input-small value-hsv")),this.showAsString.indexOf("hsv")>-1?f.find(".value-h,.value-s,.value-v").parent().hide():f.find(".value-hsv").parent().hide(),p.append(f=r("<div>").addClass("color-value-cmyk")),f.append(r("<input type='radio' name='returnType' value='cmyk'>").addClass("check-color-value-cmyk")),f.append(B=r("<div>").addClass("color-block color-cmyk")),B.append(r("<input type='text' data-prepend='C:'>").addClass("input-small value-c")),B.append(r("<input type='text' data-prepend='M:'>").addClass("input-small value-m")),B.append(r("<input type='text' data-prepend='Y:'>").addClass("input-small value-y")),B.append(r("<input type='text' data-prepend='K:'>").addClass("input-small value-k")),f.append(B=r("<div>").addClass("color-block as-string color-cmyk")),B.append(r("<input type='text' data-prepend='CMYK:'>").addClass("input-small value-cmyk")),this.showAsString.indexOf("cmyk")>-1?f.find(".value-s,.value-m,.value-y,.value-k").parent().hide():f.find(".value-cmyk").parent().hide(),c.append(p=r("<div>").addClass("row user-colors-css-container")),p.append(r("<div>").addClass("user-colors-title").addClass(a.clsUserColorsTitle).html(a.userColorsTitle||s.label_user_colors)),p.append(r("<div>").addClass("user-colors").addClass(a.clsUserColors)),p.append(A=r("<div>").addClass("user-colors-actions")),A.append(r("<button>").addClass("button add-button").addClass(a.clsUserColorButton).html("<span class='user-swatch'></span><span>"+(a.addUserColorTitle||s.label_add_user_color)+"</span>")),g=c.find("input[type=text]"),e.makePlugin(g,"input",{clearButton:!1,clsPrepend:a.clsLabel,clsComponent:a.clsInput}),g.addClass(a.clsValue),a.readonlyInput&&g.attr("readonly",!0),u=c.find("input[type=radio]").each(function(){r(this).attr("name",t.id+"-returnType")}),u.each(function(){r(this).val()===a.returnValueType&&(this.checked=!0)}),e.makePlugin(u,"radio"),r.each(l.toArray(","),function(){t.showValues.indexOf(this)===-1&&o.find(".color-value-"+this).hide()}),a.showUserColors||o.find(".user-colors-css-container").hide(),a.showAlphaChannel||(o.addClass("no-alpha-channel"),r.each(["rgba","hsla"],function(){o.find(".color-value-"+this).hide()})),this._fillUserColors(),this.hueCanvas=b,this.hueCursor=v,this.shadeCanvas=x,this.shadeCursor=I,this.alphaCanvas=k,this.alphaCursor=w,this._createShadeCanvas(),this._createHueCanvas(),this._createAlphaCanvas(),this._setColorValues(),this._updateCursorsColor(),a.initColor&&Farbe.Routines.isColor(a.initColor)&&this._colorToPos(typeof a.initColor=="string"?Farbe.Routines.parse(a.initColor):a.initColor),this.controller=a.controller?r(a.controller):null},_createShadeCanvas:function(t){let o=this.shadeCanvas[0],a=o.getContext("2d");a.clearRect(0,0,o.width,o.height),t||(t="#f00"),a.clearRect(0,0,o.width,o.height),a.fillStyle=t,a.fillRect(0,0,o.width,o.height);let s=a.createLinearGradient(0,0,o.width,0);s.addColorStop(0,"#fff"),s.addColorStop(1,"transparent"),a.fillStyle=s,a.fillRect(0,0,o.width,o.height);let c=a.createLinearGradient(0,0,0,o.height);c.addColorStop(0,"transparent"),c.addColorStop(1,"#000"),a.fillStyle=c,a.fillRect(0,0,o.width,o.height)},_createHueCanvas:function(){let t=this.hueCanvas[0],o=t.getContext("2d"),a=o.createLinearGradient(0,0,0,t.height);a.addColorStop(0,"hsl(0,100%,50%)"),a.addColorStop(.17,"hsl(298.8, 100%, 50%)"),a.addColorStop(.33,"hsl(241.2, 100%, 50%)"),a.addColorStop(.5,"hsl(180, 100%, 50%)"),a.addColorStop(.67,"hsl(118.8, 100%, 50%)"),a.addColorStop(.83,"hsl(61.2,100%,50%)"),a.addColorStop(1,"hsl(360,100%,50%)"),o.clearRect(0,0,t.width,t.height),o.fillStyle=a,o.fillRect(0,0,t.width,t.height)},_createAlphaCanvas:function(){let t=this.alphaCanvas[0],o=t.getContext("2d"),a=o.createLinearGradient(0,0,0,t.height),s=new Farbe.Primitives.HSLA(this.hue,1,.5,1).toString(),c="rgba(0,0,0,0)";a.addColorStop(0,s),a.addColorStop(1,c),o.clearRect(0,0,t.width,t.height),o.fillStyle=a,o.fillRect(0,0,t.width,t.height)},_updateHueCursor:function(t){this.hueCursor.css({top:t})},_updateAlphaCursor:function(t){this.alphaCursor.css({top:t})},_getHueColor:function(t){let o=this.hueCanvas,a=o.offset(),s=o.height(),c,p,d,m;c=t-a.top,c>s&&(c=s),c<0&&(c=0),p=c/s,m=360-360*p,m===360&&(m=0),d="hsl("+m+", 100%, 50%)",this.hue=m,this._createShadeCanvas(d),this._createAlphaCanvas(),this._updateHueCursor(c),this._updateCursorsColor(),this._setColorValues()},_getAlphaValue:function(t){let o=this.alphaCanvas,a=o.offset(),s=o.height(),c,p;c=t-a.top,c>s&&(c=s),c<0&&(c=0),p=1-c/s,this.alpha=p.toFixed(2),this._updateAlphaCursor(c),this._updateCursorsColor(),this._setColorValues()},_getShadeColor:function(t,o){let a=this.shadeCanvas,s=a.offset(),c=a.width(),p=a.height(),d=t-s.left,m=o-s.top;d>c&&(d=c),d<0&&(d=0),m>p&&(m=p),m<0&&(m=.1);let f=d/c*100,u=1-m/p*100/100,A=f/100,b=u/2*(2-A),x=u*A/(1-Math.abs(2*b-1));isNaN(b)&&(b=0),isNaN(x)&&(x=0),this.lightness=b,this.saturation=x,this._updateShadeCursor(d,m),this._updateCursorsColor(),this._setColorValues()},_updateCursorsColor:function(){this.shadeCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness))}),this.hueCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,1,.5))}),this.alphaCursor.css({backgroundColor:Farbe.Routines.toRGBA(new Farbe.Primitives.HSL(this.hue,1,.5),this.alpha).toString()})},_updateShadeCursor:function(t,o){this.shadeCursor.css({top:o,left:t})},_colorToPos:function(t){let o=this.shadeCanvas[0].getBoundingClientRect(),a=this.hueCanvas[0].getBoundingClientRect(),s=this.alphaCanvas[0].getBoundingClientRect(),c=Farbe.Routines.toHSL(t),p=Farbe.Routines.toHSLA(t),d=Farbe.Routines.toHSV(t),m=o.width*d.s,f=o.height*(1-d.v),g=a.height-c.h/360*a.height,u=(1-p.a)*s.height;this.hue=c.h,this.saturation=c.s,this.lightness=c.l,this.alpha=p.a,this._updateHueCursor(g),this._updateShadeCursor(m,f),this._updateAlphaCursor(u),this._updateCursorsColor(),this._createShadeCanvas("hsl("+this.hue+", 100%, 50%)"),this._createAlphaCanvas(),this._setColorValues()},_setColorValues:function(){let t=this.element,o=this.options,a=new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness),s=new Farbe.Primitives.HSLA(this.hue,this.saturation,this.lightness,this.alpha),c=Farbe.Routines.toRGB(a),p=Farbe.Routines.toRGBA(c,this.alpha),d=Farbe.Routines.toHSV(a),m=Farbe.Routines.toCMYK(a),f=Farbe.Routines.toHEX(a),g=this.controller,u=o.hslMode==="percent";this.hsl=a,this.hsla=s,this.hsv=d,this.rgb=c,this.rgba=p,this.hex=f,this.cmyk=m,t.find(".color-value-hex .value-hex input").val(f),t.find(".color-value-rgb .value-r input").val(c.r),t.find(".color-value-rgb .value-g input").val(c.g),t.find(".color-value-rgb .value-b input").val(c.b),t.find(".color-value-rgb .value-rgb input").val(c.toString()),t.find(".color-value-rgba .value-r input").val(p.r),t.find(".color-value-rgba .value-g input").val(p.g),t.find(".color-value-rgba .value-b input").val(p.b),t.find(".color-value-rgba .value-a input").val(p.a),t.find(".color-value-rgba .value-rgba input").val(p.toString()),t.find(".color-value-hsl .value-h input").val(a.h.toFixed(0)),t.find(".color-value-hsl .value-s input").val(u?Math.round(a.s*100)+"%":a.s.toFixed(4)),t.find(".color-value-hsl .value-l input").val(u?Math.round(a.l*100)+"%":a.l.toFixed(4)),t.find(".color-value-hsl .value-hsl input").val(a.toString()),t.find(".color-value-hsla .value-h input").val(s.h.toFixed(0)),t.find(".color-value-hsla .value-s input").val(u?Math.round(s.s*100)+"%":a.s.toFixed(4)),t.find(".color-value-hsla .value-l input").val(u?Math.round(s.l*100)+"%":a.l.toFixed(4)),t.find(".color-value-hsla .value-a input").val(s.a),t.find(".color-value-hsla .value-hsla input").val(s.toString()),t.find(".color-value-hsv .value-h input").val(d.h.toFixed(0)),t.find(".color-value-hsv .value-s input").val(u?Math.round(d.s*100)+"%":d.s.toFixed(4)),t.find(".color-value-hsv .value-v input").val(u?Math.round(d.v*100)+"%":d.v.toFixed(4)),t.find(".color-value-hsv .value-hsv input").val(d.toString()),t.find(".color-value-cmyk .value-c input").val(m.c.toFixed(0)),t.find(".color-value-cmyk .value-m input").val(m.m.toFixed(0)),t.find(".color-value-cmyk .value-y input").val(m.y.toFixed(0)),t.find(".color-value-cmyk .value-k input").val(m.k.toFixed(0)),t.find(".color-value-cmyk .value-cmyk input").val(m.toString()),t.find(".user-colors-actions .user-swatch").css({backgroundColor:f});let A=this.getVal();g&&g.length&&g.val(A),this._fireEvent("select-color",{color:A,primitive:{hsl:this.hsl,hsla:this.hsla,rgb:this.rgb,rgba:this.rgba,hsv:this.hsv,cmyk:this.cmyk,hex:this.hex}})},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_createEvents:function(){let t=this,o=this.element,a=this.options,s=o.find(".hue-map"),c=o.find(".alpha-map"),p=o.find(".color-map"),d=this.controller,m=o.find(".color-values-block input[type=text]"),f=g=>{let u=r(g.target),A=u.closest(".color-block"),b,x,v;A.hasClass("color-hex")?b="hex":A.hasClass("color-rgb")?b="rgb":A.hasClass("color-rgba")?b="rgba":A.hasClass("color-hsl")?b="hsl":A.hasClass("color-hsla")?b="hsla":A.hasClass("color-hsv")?b="hsv":A.hasClass("color-cmyk")&&(b="cmyk"),A.hasClass("as-string")?x=u.val():(v=[],r.each(A.find("input"),function(){v.push(this.value)}),x=b+"("+v.join(", ")+")"),x&&Farbe.Routines.isColor(x)&&t.val(x)};if(f=Hooks.useDebounce(f,a.inputThreshold),m.on(e.events.inputchange,f),d&&d.length){let g=Hooks.useDebounce(()=>{let u=d.val();u&&Farbe.Routines.isColor(u)&&t.val(u)},a.inputThreshold);d.on(e.events.inputchange,g)}c.on(e.events.startAll,function(g){["hsla","rgba"].includes(a.returnValueType),t._getAlphaValue(e.utils.pageXY(g).y),r(document).on(e.events.moveAll,function(u){u.preventDefault(),t._getAlphaValue(e.utils.pageXY(u).y)},{ns:t.id}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})},{passive:!0}),s.on(e.events.startAll,function(g){t._getHueColor(e.utils.pageXY(g).y),r(document).on(e.events.moveAll,function(u){u.preventDefault(),t._getHueColor(e.utils.pageXY(u).y)},{ns:t.id,passive:!1}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})},{passive:!0}),p.on(e.events.startAll,function(g){t._getShadeColor(e.utils.pageXY(g).x,e.utils.pageXY(g).y),r(document).on(e.events.moveAll,function(u){u.preventDefault(),t._getShadeColor(e.utils.pageXY(u).x,e.utils.pageXY(u).y)},{ns:t.id,passive:!1}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})},{passive:!0}),o.on("click",".swatch",function(){t._colorToPos(r(this).attr("data-color"))}),o.on("click",".add-button",function(){let g=Farbe.Routines.toHEX(new Farbe.Primitives.HSL(t.hue,t.saturation,t.lightness)).toUpperCase();t.userColors.includes(g)||(t.userColors.push(g),o.find(".user-colors").append(r("<button>").attr("data-color",g).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:g})))}),o.find("input[type=radio]").on("click",function(){a.returnValueType=r(this).val(),t._setColorValues()})},getVal:function(){let t=this.options,o;switch(t.returnValueType.toLowerCase()){case"rgb":o=this.rgb;break;case"rgba":o=this.rgba;break;case"hsl":o=this.hsl;break;case"hsla":o=this.hsla;break;case"hsv":o=this.hsv;break;case"cmyk":o=this.cmyk;break;default:o=this.hex}return t.returnAsString?o.toString():o},val:function(t){if(typeof t>"u")return this.getVal();let o=Farbe.Routines.parse(t);this._colorToPos(o)},user:function(t){if(!e.utils.isValue(t))return this.userColors;!Array.isArray(t)&&typeof t!="string"||(typeof t=="string"?this.userColors=t.toArray(",").map(function(o){return o.toUpperCase()}):this.userColors=t.map(function(o){return o.toUpperCase()}),this._fillUserColors())},_fillUserColors:function(){let t=this.element.find(".user-colors-css").clear();r.each(this.userColors,function(){let o=this;t.append(r("<button>").attr("data-color",o).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:o}))})},changeAttribute:function(t,o){let a=this.options;t==="data-return-value-type"&&(a.returnValueType=o),t==="data-return-as-string"&&(a.returnValueType=e.utils.bool(o))},destroy:function(){this.element.remove()}}),e.defaults.ColorSelector=i})(Metro,Dom);(function(e,r){"use strict";let l={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",duration:100,prepend:"",append:"",clearButton:!1,clearButtonIcon:"&#x274c;",pickerButtonIcon:"&#127912;",defaultValue:"rgba(0, 0, 0, 0)",openMode:"auto",resultType:"hex",inputThreshold:500,onColorSelected:e.noop,onColorPickerCreate:e.noop};e.colorPickerSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroColorPickerSetup!==void 0&&e.colorPickerSetup(globalThis.metroColorPickerSetup),e.Component("color-picker",{init:function(i,t){return this._super(t,i,r.extend({},e.defaults.ColorSelector,{showUserColors:!1,showValues:""},l),{value:null,picker:null,colorSelector:null,colorSelectorBox:null,colorExample:null,inputInterval:null,isOpen:!1}),this},_create:function(){let i=this.element,t=this.options,o=i.val();if(!e.pluginExists("color-selector"))throw new Error("Color selector component required!");this.value=Farbe.Routines.isColor(o)?o:Farbe.Routines.isColor(t.defaultValue)?t.defaultValue:"rgba(0,0,0,0)",this._createStructure(),this._createEvents(),this._fireEvent("color-picker-create")},_createStructure:function(){let i=this,t=this.element,o=this.options,a=t.wrap(r("<div>").addClass("color-picker").addClass(t[0].className)),s,c,p,d;c=r("<div>").addClass("color-example-box").insertBefore(t),s=r("<div>").addClass("buttons").appendTo(a),s.append(r("<button>").addClass("button color-picker-button").addClass(o.clsPickerButton).attr("tabindex",-1).attr("type","button").html(o.pickerButtonIcon)),o.clearButton===!0&&!t[0].readOnly&&s.append(r("<button>").addClass("button input-clear-button").addClass(o.clsClearButton).attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon)),e.utils.isValue(o.prepend)&&a.prepend(r("<div>").addClass("prepend").addClass(o.clsPrepend).html(o.prepend)),e.utils.isValue(o.append)&&a.append(r("<div>").html(o.append).addClass("append").addClass(o.clsAppend)),d=r("<div>").addClass("color-selector-box").appendTo(a),p=r("<div>").appendTo(d),this.picker=a,this.colorExample=c,this.colorSelector=p,this.colorSelectorBox=d,e.makePlugin(p,"color-selector",{defaultSwatches:o.defaultSwatches,returnValueType:o.resultType,returnAsString:!0,showUserColors:!1,showValues:"",controller:t,showAlphaChannel:!0,inputThreshold:o.inputThreshold,initColor:this.value,readonlyInput:o.readonlyInput,onSelectColor:m=>{this.colorExample.css({backgroundColor:m})},onColorSelectorCreate:o.onColorSelectorCreate}),e.makePlugin(d,"dropdown",{dropFilter:".color-picker",duration:o.duration,toggleElement:[a],checkDropUp:!0,onDrop:function(){e.getPlugin(p,"color-selector").val(i.value)}}),t[0].className="",this._setColor()},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_setColor:function(){let i=this.colorExample,t=this.value;(this.value.indexOf("cmyk")!==-1||this.value.indexOf("hsv")!==-1)&&(t=Farbe.Routines.toHEX(this.value)),console.log(t),i.css({backgroundColor:t})},_createEvents:function(){let i=this,t=this.element,o=this.options,a=this.picker,s=this.colorSelector,c=this.colorSelector;a.on(e.events.click,".input-clear-button",function(p){p.preventDefault(),p.stopPropagation(),t.val(o.defaultValue).trigger("change"),e.getPlugin(s,"color-selector").val(o.defaultValue)}),t.on(e.events.inputchange,function(){i.value=this.value,i._setColor()}),c.on(e.events.click,function(p){p.stopPropagation()})},val:function(i){if(arguments.length===0||!e.utils.isValue(i))return this.value;Farbe.Routines.isColor(i)&&(this.value=i,this.element.val(i).trigger("change"),this._setColor())},destroy:function(){this.element.remove()}}),r(document).on(e.events.click,function(){r(".color-picker").removeClass("open")})})(Metro,Dom);(function(e,r){"use strict";var l={path:"/",expires:null,maxAge:null,domain:null,secure:!1,samesite:null};e.cookieSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroCookieSetup!==void 0&&e.cookieSetup(globalThis.metroCookieSetup),e.cookie={getCookies:function(){var i=document.cookie.toArray(";"),t={};return r.each(i,function(){var o=this.split("=");t[o[0]]=o[1]}),t},getCookie:function(i){var t=encodeURIComponent(i)+"=",o=document.cookie.toArray(";"),a,s;for(a=0;a<o.length;a++){for(s=o[a];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return decodeURIComponent(s.substring(t.length,s.length))}return null},setCookie:function(i,t,o){var a,s=encodeURIComponent(i),c=encodeURIComponent(t),p,d=[];o&&typeof o!="object"?(a=new Date,a.setTime(a.getTime()+parseInt(o)),p=r.extend({},l,{expires:a.toUTCString()})):p=r.extend({},l,o),r.each(p,function(m,f){m!=="secure"&&f&&d.push(Str.dashedName(m)+"="+f),m==="secure"&&f===!0&&d.push("secure")}),document.cookie=s+"="+c+"; "+d.join("; ")},delCookie:function(i){this.setCookie(i,!1,{maxAge:-1})}}})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={name:"cookies_accepted",templateUrl:null,title:"",message:"",duration:"30days",clsContainer:"",clsMessage:"",clsButtons:"",clsAcceptButton:"",clsCancelButton:"",onAccept:e.noop,onDecline:e.noop};e.cookieDisclaimer={init:function(t){var o=this,a=e.cookie;this.options=r.extend({},i,t),this.disclaimer=r("<div>"),!a.getCookie(this.options.name)&&(this.locale=r("html").attr("lang")||"en",this.strings=r.extend({},e.locales.en,e.locales[this.locale]),this.options.templateUrl?fetch(this.options.templateUrl).then(e.fetch.text).then(function(s){o.create(s)}):this.create())},create:function(t){var o=e.cookie,a=this.options,s=this.disclaimer,c;s.addClass("cookie-disclaimer").addClass(a.clsContainer),t?s.append(t):s.html(r("<div class='disclaimer-message'>").addClass(a.clsMessage).html(`
                                <div class="disclaimer-title">${a.title||this.strings.label_cookies_title}</div>
                                <div class="disclaimer-text">${a.message||this.strings.label_cookies_text}</div>
                            `)),c=r("<div>").addClass("disclaimer-actions").addClass(a.clsButtons).append(r("<button>").addClass("button cookie-accept-button").addClass(a.clsAcceptButton).html(this.strings.label_accept)).append(r("<button>").addClass("button cookie-cancel-button").addClass(a.clsCancelButton).html(this.strings.label_cancel)),c.appendTo(s),a.customButtons&&r.each(a.customButtons,function(){var p=r("<button>").addClass("button cookie-custom-button").addClass(this.cls).html(this.text);p.on("click",()=>{l.exec(this.onclick)}),p.appendTo(c)}),s.appendTo(r("body")),s.on(e.events.click,".cookie-accept-button",function(){var p=0,d=(""+a.duration).toArray(" ");r.each(d,function(){var m=""+this;m.includes("day")?p+=parseInt(m)*24*60*60*1e3:m.includes("hour")?p+=parseInt(m)*60*60*1e3:m.includes("min")?p+=parseInt(m)*60*1e3:m.includes("sec")?p+=parseInt(m)*1e3:p+=parseInt(m)}),o.setCookie(a.name,!0,p),l.exec(a.onAccept),s.remove()}),s.on(e.events.click,".cookie-cancel-button",function(){l.exec(a.onDecline),s.remove()})}}})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={countdownDeferred:0,stopOnBlur:!0,animate:"none",ease:"linear",duration:600,inputFormat:null,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,clsCountdown:"",clsPart:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onAlarm:e.noop,onTick:e.noop,onZero:e.noop,onBlink:e.noop,onCountdownCreate:e.noop};e.countdownSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroCountdownSetup!==void 0&&e.countdownSetup(globalThis.metroCountdownSetup),e.Component("countdown",{init:function(t,o){return this._super(o,t,i,{breakpoint:new Date().getTime(),blinkInterval:null,tickInterval:null,zeroDaysFired:!1,zeroHoursFired:!1,zeroMinutesFired:!1,zeroSecondsFired:!1,fontSize:parseInt(l.getStyleOne(o,"font-size")),current:{d:0,h:0,m:0,s:0},inactiveTab:!1,id:l.elementId("countdown"),duration:600}),this},_create:function(){var t=this.options;this.duration=+t.duration<=0||+t.duration>=1e3?600:+t.duration,this._build(),this._createEvents()},_setBreakpoint:function(){var t=this.options,o=864e5,a=36e5,s=6e4,c=1e3;this.breakpoint=datetime().time(),t.date&&(this.breakpoint=(t.inputFormat?Datetime.from(t.date,t.inputFormat):datetime(t.date)).time()),parseInt(t.days)>0&&(this.breakpoint+=parseInt(t.days)*o),parseInt(t.hours)>0&&(this.breakpoint+=parseInt(t.hours)*a),parseInt(t.minutes)>0&&(this.breakpoint+=parseInt(t.minutes)*s),parseInt(t.seconds)>0&&(this.breakpoint+=parseInt(t.seconds)*c)},_build:function(){var t=this,o=this.element,a=this.options,s=["days","hours","minutes","seconds"],c=24*60*60*1e3,p,d=datetime().time(),m;let f=this.strings;o.attr("id")||o.attr("id",l.elementId("countdown")),l.isValue(o.attr("id"))||o.attr("id",l.elementId("countdown")),o.addClass("countdown").addClass(a.clsCountdown),this._setBreakpoint(),p=Math.round((t.breakpoint-d)/c),r.each(s,function(){var g=r("<div>").addClass("part "+this).addClass(a.clsPart).attr("data-label",f[`label_${this}`]).appendTo(o);if(this==="days"&&g.addClass(a.clsDays),this==="hours"&&g.addClass(a.clsHours),this==="minutes"&&g.addClass(a.clsMinutes),this==="seconds"&&g.addClass(a.clsSeconds),r("<div>").addClass("digit").appendTo(g),r("<div>").addClass("digit").appendTo(g),this==="days"&&p>=100)for(var u=0;u<String(Math.round(p/100)).length;u++)r("<div>").addClass("digit").appendTo(g)}),m=o.find(".digit"),m.append(r("<span class='digit-placeholder'>").html("0")),m.append(r("<span class='digit-value'>").html("0")),this._fireEvent("countdown-create",{element:o}),a.start===!0?this.start():this.tick()},_createEvents:function(){var t=this;r(document).on("visibilitychange",function(){document.hidden?t.pause():t.resume()},{ns:this.id})},blink:function(){var t=this.element;t.toggleClass("blink"),this._fireEvent("blink",{time:this.current})},tick:function(){var t=this.element,o=this.options,a=24*60*60,s=60*60,c=60,p=1,d,m=datetime().time(),f,g,u,A,b=t.find(".days"),x=t.find(".hours"),v=t.find(".minutes"),I=t.find(".seconds");if(d=Math.floor((this.breakpoint-m)/1e3),d<=-1){this.stop(),t.addClass(o.clsAlarm),this._fireEvent("alarm",{time:m});return}f=Math.floor(d/a),d-=f*a,this.current.d!==f&&(this.current.d=f,this.draw("days",f)),f===0&&this.zeroDaysFired===!1&&(this.zeroDaysFired=!0,b.addClass(o.clsZero),this._fireEvent("zero",{part:"days",value:b})),g=Math.floor(d/s),d-=g*s,this.current.h!==g&&(this.current.h=g,this.draw("hours",g)),f===0&&g===0&&this.zeroHoursFired===!1&&(this.zeroHoursFired=!0,x.addClass(o.clsZero),this._fireEvent("zero",{part:"hours",value:x})),u=Math.floor(d/c),d-=u*c,this.current.m!==u&&(this.current.m=u,this.draw("minutes",u)),f===0&&g===0&&u===0&&this.zeroMinutesFired===!1&&(this.zeroMinutesFired=!0,v.addClass(o.clsZero),this._fireEvent("zero",{part:"minutes",value:v})),A=Math.floor(d/p),this.current.s!==A&&(this.current.s=A,this.draw("seconds",A)),f===0&&g===0&&u===0&&A===0&&this.zeroSecondsFired===!1&&(this.zeroSecondsFired=!0,I.addClass(o.clsZero),this._fireEvent("zero",{part:"seconds",value:I})),this._fireEvent("tick",{days:f,hours:g,minutes:u,seconds:A})},draw:function(t,o){var a=this.element,s=this.options,c,p,d,m,f,g,u,A=this.duration,b=this.fontSize,x=function(B,k){var w,E=B.height();B.siblings(".-old-digit").remove(),w=B.clone().appendTo(B.parent()),w.css({top:-1*E+"px"}),B.addClass("-old-digit").animate({draw:{top:E,opacity:0},dur:A,ease:s.ease,onDone:function(){r(this).remove()}}),w.html(k).animate({draw:{top:0,opacity:1},dur:A,ease:s.ease})},v=function(B,k){var w;B.siblings(".-old-digit").remove(),w=B.clone().appendTo(B.parent()),w.css({opacity:0}),B.addClass("-old-digit").animate({draw:{opacity:0},dur:A/2,ease:s.ease,onDone:function(){r(this).remove()}}),w.html(k).animate({draw:{opacity:1},dur:A/2,ease:s.ease})},I=function(B,k){var w,E=B.height(),y=b;B.siblings(".-old-digit").remove(),w=B.clone().appendTo(B.parent()),w.css({top:0,left:0,opacity:1}),B.addClass("-old-digit").animate({draw:{top:E,opacity:0,fontSize:0},dur:A,ease:s.ease,onDone:function(){r(this).remove()}}),w.html(k).animate({draw:{top:0,opacity:1,fontSize:[0,y]},dur:A,ease:s.ease})};for(o=""+o,o.length===1&&(o="0"+o),g=o.length,c=a.find("."+t+" .digit:not(.-old-digit)"),p=c.length,a.find(".-old-digit").remove(),u=0;u<g;u++)if(f=c.eq(p-1).find(".digit-value"),d=Math.floor(parseInt(o)/Math.pow(10,u))%10,m=parseInt(f.text()),p--,m!==d)switch((""+s.animate).toLowerCase()){case"slide":x(f,d);break;case"fade":v(f,d);break;case"zoom":I(f,d);break;default:f.html(d)}},start:function(){var t=this,o=this.element;o.data("paused")!==!1&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),o.data("paused",!1),this._setBreakpoint(),this.tick(),this.blinkInterval=setInterval(function(){t.blink()},500),this.tickInterval=setInterval(function(){t.tick()},1e3))},stop:function(){var t=this.element;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.data("paused",!0),t.find(".digit").html("0"),this.current={d:0,h:0,m:0,s:0}},pause:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data("paused",!0)},resume:function(){var t=this;this.element.data("paused",!1),this.blinkInterval=setInterval(function(){t.blink()},500),this.tickInterval=setInterval(function(){t.tick()},1e3)},reset:function(){var t=this,o=this.element,a=this.options;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),o.find(".part").removeClass(a.clsZero);var s=o.find(".digit").clear();s.append(r("<span class='digit-placeholder'>").html("0")),s.append(r("<span class='digit-value'>").html("0")),this._setBreakpoint(),o.data("paused",!1),this.tick(),this.blinkInterval=setInterval(function(){t.blink()},500),this.tickInterval=setInterval(function(){t.tick()},1e3)},resetWith:function(t){var o=this,a=this.element,s=this.options;if(typeof t=="string")a.attr("data-date",t),s.date=t;else if(typeof t=="object"){var c=["days","hours","minutes","seconds"];r.each(c,function(p,d){e.utils.isValue(t[d])&&(a.attr("data-"+d,t[d]),s[d]=t[d])})}this.reset()},togglePlay:function(){this.element.attr("data-pause")===!0?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getBreakpoint:function(t){return t===!0?new Date(this.breakpoint):this.breakpoint},getLeft:function(){var t=864e5,o=60*60*1e3,a=60*1e3,s=1e3,c=new Date().getTime(),p=Math.floor(this.breakpoint-c);return{days:Math.round(p/t),hours:Math.round(p/o),minutes:Math.round(p/a),seconds:Math.round(p/s)}},changeAttribute:function(t,o){switch(t){case"data-pause":this.togglePlay();break;case"data-duration":this.duration=+o<=0||+o>=1e3?600:+o;break}},destroy:function(){return clearInterval(this.blinkInterval),clearInterval(this.tickInterval),r(document).off("visibilitychange",{ns:this.id}),this.element}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={startOnViewport:!1,counterDeferred:0,duration:2e3,value:0,from:0,timeout:0,delimiter:",",prefix:"",suffix:"",onStart:e.noop,onStop:e.noop,onTick:e.noop,onCounterCreate:e.noop};e.counterSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroCounterSetup!==void 0&&e.counterSetup(globalThis.metroCounterSetup),e.Component("counter",{init:function(t,o){return this._super(o,t,i,{numbers:[],html:r(o).html(),started:!1,id:l.elementId("counter")}),this},_create:function(){this._createEvents(),this._fireEvent("counter-create")},_createEvents:function(){var t=this,o=this.element,a=this.options;a.startOnViewport&&Hooks.useEvent({effect:()=>{t.start()},target:t.elem,event:Hooks.EVENTS.VIEWPORT})},start:function(t,o){var a=this,s=this.elem,c=this.options;l.isValue(o)&&(c.from=+o),l.isValue(t)&&(c.value=+t),this.started=!0,this._fireEvent("start"),r.animate({el:s,draw:{innerHTML:[c.from,c.value]},defer:c.timeout,dur:c.duration,onFrame:function(){a._fireEvent("tick",{value:+this.innerHTML}),this.innerHTML=c.prefix+Number(this.innerHTML).format(0,0,c.delimiter)+c.suffix},onDone:function(){this.innerHTML=c.prefix+Number(c.value).format(0,0,c.delimiter)+c.suffix,a._fireEvent("stop")}})},reset:function(){this.started=!1,this.element.html(this.html)},changeAttribute:function(t,o){var a=this.options;t==="data-value"&&(a.value=+o),t==="data-from"&&(a.from=+o)},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={cubeDeferred:0,rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:"arrow",cellClick:!1,autoRestart:5e3,clsCube:"",clsCell:"",clsSide:"",clsSideLeft:"",clsSideRight:"",clsSideTop:"",clsSideLeftCell:"",clsSideRightCell:"",clsSideTopCell:"",clsAxis:"",clsAxisX:"",clsAxisY:"",clsAxisZ:"",custom:e.noop,onTick:e.noop,onCubeCreate:e.noop};e.cubeSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroCubeSetup!==void 0&&e.cubeSetup(globalThis.metroCubeSetup),e.cubeDefaultRules=[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],e.Component("cube",{init:function(t,o){return this._super(o,t,i,{id:l.elementId("cube"),rules:null,interval:!1,ruleInterval:!1,running:!1,intervals:[]}),this},_create:function(){var t=this.element,o=this.options;o.rules===null?this.rules=e.cubeDefaultRules:this._parseRules(o.rules),this._createCube(),this._createEvents(),this._fireEvent("cube-create",{element:t})},_parseRules:function(t){if(t==null)return!1;if(l.isObject(t))return this.rules=l.isObject(t),!0;try{return this.rules=JSON.parse(t),!0}catch{return console.warn("Unknown or empty rules for cell flashing!"),!1}},_createCube:function(){var t=this.element,o=this.options,a=["left","right","top"],s=l.elementId("cube"),c=Math.pow(o.cells,2);t.addClass("cube").addClass(o.clsCube),t.attr("id")||t.attr("id",s),this.id=t.attr("id"),this._createCssForFlashColor(),this._createCssForCellSize(),r.each(a,function(){var m,f,g;for(m=r("<div>").addClass("side "+this+"-side").addClass(o.clsSide).appendTo(t),this==="left"&&m.addClass(o.clsSideLeft),this==="right"&&m.addClass(o.clsSideRight),this==="top"&&m.addClass(o.clsSideTop),g=0;g<c;g++)f=r("<div>").addClass("cube-cell").addClass("cell-id-"+(g+1)).addClass(o.clsCell),f.data("id",g+1).data("side",this),f.appendTo(m),o.numbers===!0&&f.html(g+1)});var p=t.find(".cube-cell");o.color!==null&&(Farbe.Routines.isColor(o.color)?p.css({backgroundColor:o.color,borderColor:o.color}):p.addClass(o.color));var d=["x","y","z"];r.each(d,function(){var m=this,f=r("<div>").addClass("axis "+o.axisStyle).addClass("axis-"+m).addClass(o.clsAxis);m==="x"&&f.addClass(o.clsAxisX),m==="y"&&f.addClass(o.clsAxisY),m==="z"&&f.addClass(o.clsAxisZ),f.appendTo(t)}),o.showAxis===!1&&t.find(".axis").hide(),this._run()},_run:function(){var t=this,o=this.element,a=this.options,s=0;clearInterval(this.interval),o.find(".cube-cell").removeClass("light"),a.custom!==e.noop?l.exec(a.custom,[o]):(o.find(".cube-cell").removeClass("light"),t._start(),s=l.isObject(this.rules)?l.objectLength(this.rules):0,this.interval=setInterval(function(){t._start()},s*a.flashInterval))},_createCssForCellSize:function(){var t=this.element,o=this.options,a=e.sheet,s,c;o.margin===8&&o.cells===4||(s=parseInt(l.getStyleOne(t,"width")),c=Math.ceil((s/2-o.margin*o.cells*2)/o.cells),l.addCssRule(a,"#"+t.attr("id")+" .side .cube-cell","width: "+c+"px!important; height: "+c+"px!important; margin: "+o.margin+"px!important;"))},_createCssForFlashColor:function(){var t=this.element,o=this.options,a=e.sheet,s,c,p=[],d=[],m;if(o.flashColor!==null){for(s="0 0 10px "+Farbe.Routines.toRGBA(Farbe.Routines.parse(o.flashColor),1),c="0 0 10px "+Farbe.Routines.toRGBA(Farbe.Routines.parse(o.flashColor),o.attenuation),m=0;m<3;m++)p.push(s),d.push(c);l.addCssRule(a,"@keyframes pulsar-cell-"+t.attr("id"),"0%, 100% { box-shadow: "+p.join(",")+"} 50% { box-shadow: "+d.join(",")+" }"),l.addCssRule(a,"#"+t.attr("id")+" .side .cube-cell.light","animation: pulsar-cell-"+t.attr("id")+" 2.5s 0s ease-out infinite; background-color: "+o.flashColor+"!important; border-color: "+o.flashColor+"!important;")}},_createEvents:function(){var t=this,o=this.element,a=this.options;r(globalThis).on(e.events.blur,function(){a.stopOnBlur===!0&&t.running===!0&&t._stop()},{ns:o.attr("id")}),r(globalThis).on(e.events.focus,function(){a.stopOnBlur===!0&&t.running===!1&&t._start()},{ns:o.attr("id")}),o.on(e.events.click,".cube-cell",function(){if(a.cellClick===!0){var s=r(this);s.toggleClass("light")}})},_start:function(){var t=this,o=this.element;o.find(".cube-cell").removeClass("light"),this.running=!0,r.each(this.rules,function(a,s){t._execRule(a,s)})},_stop:function(){this.running=!1,clearInterval(this.interval),r.each(this.intervals,function(){clearInterval(this)})},_tick:function(t,o){var a=this,s=this.options;o===void 0&&(o=s.flashInterval*t);var c=setTimeout(function(){a._fireEvent("tick",{index:t}),clearInterval(c),l.arrayDelete(a.intervals,c)},o);this.intervals.push(c)},_toggle:function(t,o,a,s){var c=this;s===void 0&&(s=this.options.flashInterval*a);var p=setTimeout(function(){t[o==="on"?"addClass":"removeClass"]("light"),clearInterval(p),l.arrayDelete(c.intervals,p)},s);this.intervals.push(p)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(t,o){var a=this,s=this.element,c=this.options,p=this.rules;if(!(p==null||p[t]===void 0)){clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),s.find(".cube-cell").removeClass("light");for(var d=0;d<=t;d++)this._execRule(d,p[d],o);l.isInt(c.autoRestart)&&c.autoRestart>0&&(this.ruleInterval=setTimeout(function(){a._run()},c.autoRestart))}},_execRule:function(t,o,a){var s=this,c=this.element,p=["left","right","top"];this._tick(t,a),r.each(p,function(){var d="."+this+"-side",m=this,f=o.on!==void 0&&o.on[m]!==void 0?o.on[m]:!1,g=o.off!==void 0&&o.off[m]!==void 0?o.off[m]:!1;f!==!1&&r.each(f,function(){var u=this,A=c.find(d+" .cell-id-"+u);s._toggle(A,"on",t,a)}),g!==!1&&r.each(g,function(){var u=this,A=c.find(d+" .cell-id-"+u);s._toggle(A,"off",t,a)})})},rule:function(t){if(t===void 0)return this.rules;this._parseRules(t)===!0&&(this.options.rules=t,this.stop(),this.element.find(".cube-cell").removeClass("light"),this._run())},axis:function(t){var o=t===!0?"show":"hide";this.element.find(".axis")[o]()},changeRules:function(){var t=this.element,o=this.options,a=t.attr("data-rules");this._parseRules(a)===!0&&(this.stop(),t.find(".cube-cell").removeClass("light"),o.rules=a,this._run())},changeAxisVisibility:function(){var t=this.element,o=JSON.parse(t.attr("data-show-axis"))===!0,a=o?"show":"hide";t.find(".axis")[a]()},changeAxisStyle:function(){var t=this.element,o=t.attr("data-axis-style");t.find(".axis").removeClass("arrow line no-style").addClass(o)},changeAttribute:function(t){switch(t){case"data-rules":this.changeRules();break;case"data-show-axis":this.changeAxisVisibility();break;case"data-axis-style":this.changeAxisStyle();break}},destroy:function(){var t=this.element;return clearInterval(this.interval),this.interval=null,r(globalThis).off(e.events.blur,{ns:t.attr("id")}),r(globalThis).off(e.events.focus,{ns:t.attr("id")}),t.off(e.events.click,".cube-cell"),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={label:"",datepickerDeferred:0,gmt:0,format:"YYYY-MM-DD",inputFormat:null,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,defaultYearDistance:100,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsMonth:"",clsDay:"",clsYear:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"\u2713",cancelButtonIcon:"\u{10102}",onSet:e.noop,onOpen:e.noop,onClose:e.noop,onScroll:e.noop,onDatePickerCreate:e.noop};e.datePickerSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroDatePickerSetup!==void 0&&e.datePickerSetup(globalThis.metroDatePickerSetup),e.Component("date-picker",{init:function(t,o){return this._super(o,t,i,{picker:null,isOpen:!1,value:datetime(),listTimer:{day:null,month:null,year:null}}),this},_create:function(){var t=this.element,o=this.options,a=this.locale,s=datetime();o.distance<1&&(o.distance=1),l.isValue(t.val())&&(o.value=t.val()),l.isValue(o.value)&&(this.value=o.inputFormat?Datetime.from(o.value,o.inputFormat,a):datetime(o.value)),o.minYear===null&&(o.minYear=s.year()-o.defaultYearDistance),o.maxYear===null&&(o.maxYear=s.year()+o.defaultYearDistance),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("datepicker-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,a=this.locale,s,c,p,d,m,f,g,u,A,b,x=l.elementId("datepicker");if(s=r("<div>").addClass("wheel-picker date-picker "+t[0].className).addClass(o.clsPicker),s.attr("id")||s.attr("id",x),s.insertBefore(t),t.appendTo(s),o.label){var v=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(s);t.attr("id")&&v.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&v.addClass("rtl")}if(g=r("<div>").addClass("date-wrapper").appendTo(s),o.month===!0&&(c=r("<div>").addClass("month").addClass(o.clsPart).addClass(o.clsMonth).appendTo(g)),o.day===!0&&(p=r("<div>").addClass("day").addClass(o.clsPart).addClass(o.clsDay).appendTo(g)),o.year===!0&&(d=r("<div>").addClass("year").addClass(o.clsPart).addClass(o.clsYear).appendTo(g)),u=r("<div>").addClass("select-wrapper").appendTo(s),A=r("<div>").addClass("select-block").appendTo(u),o.month===!0){for(c=r("<ul>").addClass("sel-month").appendTo(A),m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(c);for(m=0;m<12;m++){let I=Datetime.getLocale(a).months[m];r("<li>").addClass("js-month-"+m+" js-month-real-"+I.toLowerCase()).html(I).data("value",m).appendTo(c)}for(m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(c)}if(o.day===!0){for(p=r("<ul>").addClass("sel-day").appendTo(A),m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(p);for(m=0;m<31;m++)r("<li>").addClass("js-day-"+m+" js-day-real-"+(m+1)).html(m+1).data("value",m+1).appendTo(p);for(m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(p)}if(o.year===!0){for(d=r("<ul>").addClass("sel-year").appendTo(A),m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(d);for(m=o.minYear,f=0;m<=o.maxYear;m++,f++)r("<li>").addClass("js-year-"+f+" js-year-real-"+m).html(m).data("value",m).appendTo(d);for(m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(d)}if(A.height((o.distance*2+1)*40),b=r("<div>").addClass("action-block").appendTo(u),r("<button>").attr("type","button").addClass("button action-today").addClass(o.clsButton).addClass(o.clsTodayButton).html(`<span class="caption">${this.strings.label_today}</span>`).appendTo(b),r("<button>").attr("type","button").addClass("button action-ok").addClass(o.clsButton).addClass(o.clsOkButton).html(`<span class="icon">${o.okButtonIcon}</span>`).appendTo(b),r("<button>").attr("type","button").addClass("button action-cancel").addClass(o.clsButton).addClass(o.clsCancelButton).html(`<span class="icon">${o.cancelButtonIcon}</span>`).appendTo(b),t[0].className="",o.copyInlineStyles===!0)for(m=0;m<t[0].style.length;m++)s.css(t[0].style[m],t.css(t[0].style[m]));t.prop("disabled")&&s.addClass("disabled"),this.picker=s},_createEvents:function(){var t=this,o=this.options,a=this.picker;a.on("touchstart",".select-block ul",function(c){if(!c.changedTouches){var p=this,d=l.pageXY(c).y;r(document).on("touchmove",function(m){p.scrollTop-=o.scrollSpeed*(d>l.pageXY(m).y?-1:1),d=l.pageXY(m).y},{ns:a.attr("id")}),r(document).on("touchend",function(){r(document).off(e.events.move,{ns:a.attr("id")}),r(document).off(e.events.stop,{ns:a.attr("id")})},{ns:a.attr("id")})}}),a.on(e.events.click,function(c){t.isOpen===!1&&t.open(),c.stopPropagation()}),a.on(e.events.click,".action-ok",function(c){var p,d,m,f=a.find(".sel-month li.active"),g=a.find(".sel-day li.active"),u=a.find(".sel-year li.active");p=f.length===0?t.value.value.getMonth():f.data("value"),d=g.length===0?t.value.value.getDate():g.data("value"),m=u.length===0?t.value.value.getFullYear():u.data("value"),t.value=datetime(m,p,d),t._set(),t.close(),c.preventDefault(),c.stopPropagation()}),a.on(e.events.click,".action-cancel",function(c){t.close(),c.preventDefault(),c.stopPropagation()});var s=150;r.each(["month","day","year"],function(){var c=this,p=a.find(".sel-"+c);let d=Hooks.useDebounce(function(m){var f,g,u;t.listTimer[c]=null,f=Math.round(Math.ceil(p.scrollTop())/40),g=p.find(".js-"+c+"-"+f),u=g.position().top-o.distance*40,p.find(".active").removeClass("active"),p[0].scrollTop=u,g.addClass("active"),l.exec(o.onScroll,[g,p,a],p[0])},s);p.on("scroll",d)}),a.on(e.events.click,"ul li",function(c){let p=r(this),d=p.closest("ul"),m=p.position().top-o.distance*40;d.find(".active").removeClass("active"),r.animate({el:d[0],draw:{scrollTop:m},dur:300}),d[0].scrollTop=m,p.addClass("active"),l.exec(o.onScroll,[p,d,a],d[0])}),a.on(e.events.click,".action-today",function(c){let p=datetime(),d=p.month(),m=p.day(),f=p.year();a.find(`.sel-month li.js-month-${d}`).click(),a.find(`.sel-day li.js-day-real-${m}`).click(),a.find(`.sel-year li.js-year-real-${f}`).click(),c.preventDefault(),c.stopPropagation()})},_correct:function(){var t=this.value.month(),o=this.value.day(),a=this.value.year();this.value=datetime(a,t,o)},_set:function(){var t=this.element,o=this.options,a=this.picker,s=Datetime.getLocale(this.locale).months[this.value.month()],c=this.value.day(),p=this.value.year();o.month===!0&&a.find(".month").html(s),o.day===!0&&a.find(".day").html(c),o.year===!0&&a.find(".year").html(p),t.val(this.value.format(o.format,this.locale)).trigger("change"),this._fireEvent("set",{value:this.value.val(),elementValue:t.val(),picker:a})},open:function(){var t=this.options,o=this.picker,a=this.value.month(),s=this.value.day()-1,c=this.value.year(),p,d,m,f=o.find(".select-wrapper");r.each(r(".date-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"datepicker").close()})}),f.show(0),o.find("li").removeClass("active"),t.openMode==="auto"?(e.utils.inViewport(f[0])||f.parent().addClass("drop-up-select"),e.utils.inViewport(f[0])||(f.parent().removeClass("drop-up-select"),f.parent().addClass("drop-as-dialog"))):t.openMode==="dialog"?f.parent().addClass("drop-as-dialog"):t.openMode==="up"&&f.parent().addClass("drop-up-select"),t.month===!0&&(p=o.find(".sel-month"),p.scrollTop(0).animate({draw:{scrollTop:p.find("li.js-month-"+a).addClass("active").position().top-40*t.distance},dur:100})),t.day===!0&&(d=o.find(".sel-day"),d.scrollTop(0).animate({draw:{scrollTop:d.find("li.js-day-"+s).addClass("active").position().top-40*t.distance},dur:100})),t.year===!0&&(m=o.find(".sel-year"),m.scrollTop(0).animate({draw:{scrollTop:m.find("li.js-year-real-"+c).addClass("active").position().top-40*t.distance},dur:100})),this.isOpen=!0,this._fireEvent("open",{value:this.value.val(),picker:o})},close:function(){var t=this.picker,o=this.options;t.find(".select-wrapper").hide(0),o.openMode==="auto"&&t.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{value:this.value.val(),picker:t})},val:function(t){var o=this.options;if(!l.isValue(t))return this.element.val();this.value=o.inputFormat?Datetime.from(t,o.inputFormat,this.locale):datetime(t),this._set()},date:function(t,o){if(t===void 0)return this.value.val();try{this.value=Datetime.from(t,o,this.locale),this._set()}catch{return!1}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t,o){switch(t){case"disabled":this.toggleState();break;case"data-value":this.val(o);break;case"data-format":this.options.format=o,this._set();break}},destroy:function(){var t=this.element,o=this.picker;return r.each(["moth","day","year"],function(){o.find(".sel-"+this).off("scroll")}),o.off(e.events.start,".select-block ul"),o.off(e.events.click),o.off(e.events.click,".action-ok"),o.off(e.events.click,".action-cancel"),t}}),r(document).on(e.events.click,function(){r.each(r(".date-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"datepicker").close()})})})})(Metro,Dom);(function(e,r){"use strict";var l={directive:"note",showIcon:!1,title:"",onDirectiveCreate:e.noop};e.directiveSetup=function(i){l=r.extend({},l,i)},typeof window.metroDirectiveSetup!==void 0&&e.directiveSetup(window.metroDirectiveSetup),e.Component("directive",{init:function(i,t){return this._super(t,i,l,{}),this},_create:function(){var i=this,t=this.element,o=this.options;this._createStructure(),this._createEvents(),this._fireEvent("directive-create")},_createStructure:function(){var i=this,t=this.element,o=this.options;let a=t.wrap("<div>").addClass("directive").addClass(`directive-${o.directive}`),s=r("<div>").addClass("directive-title").html(o.title?o.title:this.strings[`label_${o.directive.toLowerCase()}`].toUpperCase());o.showIcon&&s.prepend(r("<span>").addClass("icon").html("&nbsp;")),a.prepend(s),this.component=a},_createEvents:function(){var i=this,t=this.element,o=this.options},changeAttribute:function(i,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={donutDeferred:0,size:100,hole:.8,value:0,background:"transparent",color:"",stroke:"#d1d8e7",fill:"#49649f",fontSize:0,total:100,cap:"%",showText:!0,showValue:!1,animate:0,onChange:e.noop,onDrawValue:function(t){return t},onDonutCreate:e.noop};e.donutSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroDonutSetup!==void 0&&e.donutSetup(globalThis.metroDonutSetup),e.Component("donut",{init:function(t,o){return this._super(o,t,i,{value:0,animation_change_interval:null}),this},_create:function(){var t=this.element,o=this.options;t.addClass("donut"),this._setElementSize(),this._draw(),this._addEvents(),this.val(o.value),this._fireEvent("donut-create",{element:t})},_setElementSize:function(){var t=this.element,o=this.options,a=o.size;t.css({width:a,background:o.background}),t.css({height:t.width()})},_draw:function(){var t=this.element,o=this.options,a="",s=t.width()/2,c=s*(1-(1-o.hole)/2),p=s*(1-o.hole),d="rotate(-90 "+s+","+s+")",m=o.fontSize===0?c*o.hole*.6:o.fontSize;a+="<svg>",a+="   <circle class='donut-back' r='"+c+"px' cx='"+s+"px' cy='"+s+"px' transform='"+d+"' fill='none' stroke='"+o.stroke+"' stroke-width='"+p+"'/>",a+="   <circle class='donut-fill' r='"+c+"px' cx='"+s+"px' cy='"+s+"px' transform='"+d+"' fill='none' stroke='"+o.fill+"' stroke-width='"+p+"'/>",o.showText===!0&&(a+="   <text class='donut-title' x='"+s+"px' y='"+s+"px' dy='"+m/3+"px' text-anchor='middle' fill='"+(o.color!==""?o.color:o.fill)+"' font-size='"+m+"px'></text>"),a+="</svg>",t.html(a)},_addEvents:function(){var t=this;r(globalThis).on("resize",function(){t._setElementSize(),t._draw(),t.val(t.value)})},_setValue:function(t){var o=this.element,a=this.options,s=o.find(".donut-fill"),c=o.find(".donut-title"),p=o.width()/2,d=p*(1-(1-a.hole)/2),m=Math.round(2*Math.PI*d),f=a.showValue?t:l.percent(a.total,t,!0),g=Math.round(+t*m/a.total),u=s.attr("stroke-dasharray");typeof u>"u"?u=0:u=+u.split(" ")[0];var A=g-u;s.animate({draw:function(b,x){r(this).attr("stroke-dasharray",u+A*x+" "+m)},dur:a.animate}),c.html(e.utils.exec(a.onDrawValue,[f+a.cap]))},val:function(t){var o=this.options;if(t===void 0)return this.value;if(parseInt(t)<0||parseInt(t)>o.total)return!1;this._setValue(t),this.value=t,this._fireEvent("change",{value:this.value})},setColor:function(t){var o=["background","fill","stroke","color"],a=this;return r.each(t,function(s,c){o.indexOf(s)!==-1&&(a.options[s]=c)}),this._draw(),this.val(this.value),this},changeValue:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(t,o){switch(t){case"data-value":this.changeValue();break;case"data-background":this.setColor({background:o});break;case"data-fill":this.setColor({fill:o});break;case"data-stroke":this.setColor({stroke:o});break;case"data-color":this.setColor({color:o});break}},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l={height:"auto",multiSelect:!1,moveRightIcon:"&rsaquo;",moveRightAllIcon:"&raquo;",moveLeftIcon:"&lsaquo;",moveLeftAllIcon:"&laquo;",clsBox:"",clsMoveButton:"",clsMoveRightButton:"",clsMoveRightAllButton:"",clsMoveLeftButton:"",clsMoveLeftAllButton:"",clsListLeft:"",clsListRight:"",onDoubleSelectBoxCreate:e.noop};e.doubleSelectBoxSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroDoubleSelectBoxSetup!==void 0&&e.doubleSelectBoxSetup(globalThis.metroDoubleSelectBoxSetup),e.Component("double-select-box",{init:function(i,t){return this._super(t,i,l,{select1:null,select2:null,list1:null,list2:null}),this},_create:function(){var i=this,t=this.element,o=this.options;if(t.children("select").length!==2)throw new Error("Component DoubleSelectBox required two select elements!");this._createStructure(),this._createEvents(),this._fireEvent("double-select-box-create")},_drawList:function(){var i=this;this.list1.clear(),this.select1.find("option").each(function(t,o){let a=r(o),s=a.attr("data-icon"),c=a.attr("data-template")?a.attr("data-template").replace(/\$1/g,a.text()):a.text();s&&(c=r("<span>").addClass("icon").append(s).outerHTML()+c),i.list1.append(r("<li>").html(c).attr("data-value",o.value).data("option",o))}),this.list2.clear(),this.select2.find("option").each(function(t,o){let a=r(o),s=a.attr("data-icon"),c=a.attr("data-template")?a.attr("data-template").replace(/\$1/g,a.text()):a.text();s&&(c=r("<span>").addClass("icon").append(s).outerHTML()+c),i.list2.append(r("<li>").html(c).attr("data-value",o.value).data("option",o))})},_createStructure:function(){var i=this,t=this.element,o=this.options,a=t.children("select"),s=a.eq(0),c=a.eq(1),p=r("<div>").addClass("controls").insertBefore(c),d,m;t.addClass("double-select-box").addClass(o.clsBox).css({height:o.height}),a.prop("multiple",!0),p.append(r([r("<button>").attr("type","button").addClass("button square small --move-right").addClass(o.clsMoveButton).addClass(o.clsMoveRightButton).html(`<span class="icon">${o.moveRightIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-right-all").addClass(o.clsMoveButton).addClass(o.clsMoveRightAllButton).html(`<span class="icon">${o.moveRightAllIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-left-all").addClass(o.clsMoveButton).addClass(o.clsMoveLeftAllButton).html(`<span class="icon">${o.moveLeftAllIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-left").addClass(o.clsMoveButton).addClass(o.clsMoveLeftButton).html(`<span class="icon">${o.moveLeftIcon}</span>`)])),d=r("<ul>").addClass("--list1").addClass(o.clsListLeft).insertBefore(s),m=r("<ul>").addClass("--list2").addClass(o.clsListRight).insertBefore(c),this.select1=s,this.select2=c,this.list1=d,this.list2=m,this._drawList()},_moveItems:function(i,t){r.each(i,function(){var o=r(this),a=o.data("option");r(a).appendTo(t[0]),o.removeClass("active").appendTo(t[1])})},_move:function(i,t){var o=this;t==="selected"?i==="ltr"?o._moveItems(this.list1.find("li.active"),[o.select2,o.list2]):o._moveItems(this.list2.find("li.active"),[o.select1,o.list1]):i==="ltr"?o._moveItems(this.list1.find("li"),[o.select2,o.list2]):o._moveItems(this.list2.find("li"),[o.select1,o.list1])},_createEvents:function(){var i=this,t=this.element,o=this.options,a=t.find("li");a.on("click",function(){var s=r(this);o.multiSelect===!1&&(i.list1.find("li").removeClass("active"),i.list2.find("li").removeClass("active")),s.addClass("active")}),a.on("dblclick",function(){var s=r(this),c=s.parent().hasClass("--list1")?"ltr":"rtl",p="selected";i.list1.find("li").removeClass("active"),i.list2.find("li").removeClass("active"),s.addClass("active"),i._move(c,p)}),t.on("click","button",function(){var s=r(this);if(s.hasClass("--move-right"))i._move("ltr","selected");else if(s.hasClass("--move-right-all"))i._move("ltr","all");else if(s.hasClass("--move-left"))i._move("rtl","selected");else if(s.hasClass("--move-left-all"))i._move("rtl","all");else throw new Error("Pressed unregistered button!")})},changeAttribute:function(i,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={doublesliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:e.position.BOTTOM,valueMin:null,valueMax:null,hint:!1,hintAlways:!1,hintPositionMin:e.position.TOP,hintPositionMax:e.position.TOP,hintMaskMin:"$1",hintMaskMax:"$1",target:null,size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsMarker:"",clsMarkerMin:"",clsMarkerMax:"",clsHint:"",clsHintMin:"",clsHintMax:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:e.noop,onStop:e.noop,onMove:e.noop,onChange:e.noop,onChangeValue:e.noop,onFocus:e.noop,onBlur:e.noop,onDoubleSliderCreate:e.noop};e.doubleSliderSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroDoubleSliderSetup!==void 0&&e.doubleSliderSetup(globalThis.metroDoubleSliderSetup),e.Component("double-slider",{init:function(t,o){return this._super(o,t,i,{slider:null,valueMin:null,valueMax:null,keyInterval:!1,id:l.elementId("slider")}),this},_create:function(){var t=this.element,o=this.options;this.valueMin=l.isValue(o.valueMin)?+o.valueMin:+o.min,this.valueMax=l.isValue(o.valueMax)?+o.valueMax:+o.max,this._createSlider(),this._createEvents(),this.val(this.valueMin,this.valueMax),this._fireEvent("double-slider-create",{element:t})},_createSlider:function(){var t=this.element,o=this.options,a=r("<div>").addClass("slider-wrapper"),s=r("<div>").addClass("slider").addClass(o.clsSlider).addClass(this.elem.className),c=r("<div>").addClass("backside").addClass(o.clsBackside),p=r("<div>").addClass("complete").addClass(o.clsComplete),d=r("<button>").attr("type","button").addClass("marker marker-min").addClass(o.clsMarker).addClass(o.clsMarkerMin),m=r("<button>").attr("type","button").addClass("marker marker-max").addClass(o.clsMarker).addClass(o.clsMarkerMax),f=r("<div>").addClass("hint hint-min").addClass(o.hintPositionMin+"-side").addClass(o.clsHint).addClass(o.clsHintMin),g=r("<div>").addClass("hint hint-max").addClass(o.hintPositionMax+"-side").addClass(o.clsHint).addClass(o.clsHintMax),u;if(o.size>0&&s.outerWidth(o.size),s.insertBefore(t),t.appendTo(s),a.insertBefore(s),s.appendTo(a),c.appendTo(s),p.appendTo(s),d.appendTo(s),m.appendTo(s),f.appendTo(d),g.appendTo(m),o.hintAlways===!0&&r([f,g]).css({display:"block"}).addClass("permanent-hint"),o.showMinMax===!0){var A=r("<div>").addClass("slider-min-max").addClass(o.clsMinMax);r("<span>").addClass("slider-text-min").addClass(o.clsMin).html(`${o.min}`).appendTo(A),r("<span>").addClass("slider-text-max").addClass(o.clsMax).html(`${o.max}`).appendTo(A),o.minMaxPosition===e.position.TOP?A.insertBefore(s):A.insertAfter(s)}if(t[0].className="",o.copyInlineStyles===!0)for(u=0;u<t[0].style.length;u++)s.css(t[0].style[u],t.css(t[0].style[u]));t.is(":disabled")?this.disable():this.enable(),this.slider=s},_createEvents:function(){var t=this,o=this.slider,a=this.options,s=o.find(".marker");s.on(e.events.startAll,function(){var c=r(this),p=c.find(".hint");c.addClass("active"),a.hint===!0&&a.hintAlways!==!0&&p.fadeIn(300),r(document).on(e.events.moveAll,function(d){t._move(d),t._fireEvent("move",{min:t.valueMin,max:t.valueMax})},{ns:t.id}),r(document).on(e.events.stopAll,function(){o.find(".marker").removeClass("active"),r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id}),a.hintAlways!==!0&&p.fadeOut(300),t._fireEvent("stop",{min:t.valueMin,max:t.valueMax})},{ns:t.id}),t._fireEvent("start",{min:t.valueMin,max:t.valueMax})}),s.on(e.events.focus,function(){t._fireEvent("focus",{min:t.valueMin,max:t.valueMax})}),s.on(e.events.blur,function(){t._fireEvent("blur",{min:t.valueMin,max:t.valueMax})}),r(globalThis).on(e.events.resize,function(){t.val(t.valueMin,t.valueMax)},{ns:t.id})},_convert:function(t,o){var a=this.slider,s=this.options,c=a.outerWidth()-a.find(".marker").outerWidth();switch(o){case"pix2prc":return t*100/c;case"pix2val":return this._convert(t,"pix2prc")*((s.max-s.min)/100)+s.min;case"val2prc":return(t-s.min)/((s.max-s.min)/100);case"prc2pix":return t/(100/c);case"val2pix":return this._convert(this._convert(t,"val2prc"),"prc2pix")}return 0},_correct:function(t){var o=t,a=this.options.accuracy,s=this.options.min,c=this.options.max,p=function(d){return d%1===0?0:d.toString().split(".")[1].length};return a===0||isNaN(a)?o:(o=Math.round(t/a)*a,o<s&&(o=s),o>c&&(o=c),o.toFixed(p(a)))},_move:function(t){var o=this.slider.find(".marker.active"),a=o.hasClass("marker-min"),s=this.slider,c=s.offset(),p=s.find(".marker").outerWidth(),d=s.find(".marker-min"),m=s.find(".marker-max"),f=s.outerWidth(),g,u,A;g=l.pageXY(t).x-c.left-p/2,a?(u=0,A=parseInt(m.css("left"))-p):(u=parseInt(d.css("left"))+p,A=f-p),!(g<u||g>A)&&(this[a?"valueMin":"valueMax"]=this._correct(this._convert(g,"pix2val")),this._redraw())},_hint:function(){var t=this,o=this.options,a=this.slider,s=a.find(".hint");s.each(function(){var c=r(this),p=c.hasClass("hint-min"),d=p?o.hintMaskMin:o.hintMaskMax,m=+(p?t.valueMin:t.valueMax)||0;c.text(d.replace("$1",m.toFixed(l.decCount(o.accuracy))))})},_value:function(){var t=this.element,o=this.options,a=+this.valueMin||0,s=+this.valueMax||0,c;if(o.roundValue&&(a=a.toFixed(l.decCount(o.accuracy)),s=s.toFixed(l.decCount(o.accuracy))),c=[a,s].join(", "),t[0].tagName==="INPUT"&&t.val(c),o.target!==null){var p=r(o.target);p.length!==0&&r.each(p,function(){var d=r(this);this.tagName==="INPUT"?d.val(c):d.text(c),d.trigger("change")})}this._fireEvent("change-value",{val:c}),this._fireEvent("change",{val:c})},_marker:function(){var t=this.slider,o=t.find(".marker-min"),a=t.find(".marker-max"),s=t.find(".complete"),c=parseInt(l.getStyleOne(o,"width")),p=l.isVisible(t);p&&r([o,a]).css({"margin-top":0,"margin-left":0}),p?(o.css("left",this._convert(this.valueMin,"val2pix")),a.css("left",this._convert(this.valueMax,"val2pix"))):(o.css({left:this._convert(this.valueMin,"val2prc")+"%","margin-top":this._convert(this.valueMin,"val2prc")===0?0:-1*c/2}),a.css({left:this._convert(this.valueMax,"val2prc")+"%","margin-top":this._convert(this.valueMax,"val2prc")===0?0:-1*c/2})),s.css({left:this._convert(this.valueMin,"val2pix"),width:this._convert(this.valueMax,"val2pix")-this._convert(this.valueMin,"val2pix")})},_redraw:function(){this._marker(),this._value(),this._hint()},val:function(t,o){var a=this.options;if(!l.isValue(t)&&!l.isValue(o))return[this.valueMin,this.valueMax];t<a.min&&(t=a.min),o<a.min&&(o=a.min),t>a.max&&(t=a.max),o>a.max&&(o=a.max),this.valueMin=this._correct(t),this.valueMax=this._correct(o),this._redraw()},changeValue:function(){var t=this.element,o=+t.attr("data-value-min"),a=+t.attr("data-value-max");this.val(o,a)},disable:function(){var t=this.element;t.data("disabled",!0),t.parent().addClass("disabled")},enable:function(){var t=this.element;t.data("disabled",!1),t.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"data-value-min":this.changeValue();break;case"data-value-max":this.changeValue();break;case"disabled":this.toggleState();break}},destroy:function(){var t=this.element,o=this.slider,a=o.find(".marker");return a.off(e.events.startAll),a.off(e.events.focus),a.off(e.events.blur),a.off(e.events.keydown),a.off(e.events.keyup),o.off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={dragitemsDeferred:0,target:null,dragItem:"li",dragMarker:".drag-item-marker",drawDragMarker:!1,clsDragItemAvatar:"",clsDragItem:"",canDrag:!0,onDragStartItem:e.noop,onDragMoveItem:e.noop,onDragDropItem:e.noop,onTarget:e.noop,onTargetIn:e.noop,onTargetOut:e.noop,onDragItemsCreate:e.noop};e.dragItemsSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroDragItemsSetup!==void 0&&e.dragItemsSetup(globalThis.metroDragItemsSetup),e.Component("drag-items",{init:function(t,o){return this._super(o,t,i,{id:l.elementId("dragItems"),canDrag:!1}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("drag-items-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options;t.addClass("drag-items-target"),o.drawDragMarker===!0&&t.find(o.dragItem).each(function(){r("<span>").addClass("drag-item-marker").appendTo(this)}),o.canDrag?this.on():this.off()},_createEvents:function(){var t=this,o=this.element,a=this.options,s=r.document(),c=r.body(),p,d={top:0,left:0},m,f,g=function(u,A,b){var x=l.pageXY(u).x,v=l.pageXY(u).y,I=v-d.top,B=x-d.left;A.css({top:I,left:B});var k=document.elementsFromPoint(x,v).filter(function(P){return r(P).hasClass("drag-items-target")});if(k.length!==0){t._fireEvent("target",{target:k});var w=document.elementsFromPoint(x,v).filter(function(P){var X=r(P);return r.matches(P,a.dragItem)&&!X.hasClass("dragged-item-avatar")})[0];if(!l.isValue(w))b.appendTo(k);else{var E=r(w),y=E.offset(),U=v-y.top,z=x-y.left,J,H={w:E.width(),h:E.height()};z<H.w/3&&(U<H.h/2||U>H.h/2)?J="left":z>H.w*2/3&&(U<H.h/2||U>H.h/2)?J="right":z>H.w/3&&z<H.w*2/3&&U>H.h/2?J="bottom":J="top",E.hasClass("dragged-item")||(J==="top"||J==="left"?b.insertBefore(E):b.insertAfter(E))}}};o.on(e.events.startAll,a.drawDragMarker?a.dragMarker:a.dragItem,function(u){var A=r(u.target).closest(a.dragItem),b;l.isRightMouse(u)||t.canDrag===!0&&(A.addClass("dragged-item").addClass(a.clsDragItem),b=r("<div>").addClass("dragged-item-avatar").addClass(a.clsDragItemAvatar),p=A.offset(),m=A.width(),f=A.height(),d.top=l.pageXY(u).y-p.top,d.left=l.pageXY(u).x-p.left,b.css({top:p.top,left:p.left,width:m,height:f}).appendTo(c),t._fireEvent("drag-start-item",{dragItem:A[0],avatar:b[0]}),s.on(e.events.moveAll,function(x){g(x,b,A),t._fireEvent("drag-move-item",{dragItem:A[0],avatar:b[0]}),x.preventDefault()},{ns:t.id,passive:!1}),s.on(e.events.stopAll,function(){t._fireEvent("drag-drop-item",{dragItem:A[0],avatar:b[0]}),A.removeClass("dragged-item").removeClass(a.clsDragItem),b.remove(),s.off(e.events.moveAll,{ns:t.id}),s.off(e.events.stopAll,{ns:t.id})},{ns:t.id}),a.drawDragMarker&&(u.preventDefault(),u.stopPropagation()))})},on:function(){this.canDrag=!0,this.element.find(".drag-item-marker").show()},off:function(){this.canDrag=!1,this.element.find(".drag-item-marker").hide()},toggle:function(){this.canDrag=this.canDrag?this.off():this.on()},changeAttribute:function(t){var o=this,a=this.element,s=this.options,c=function(){s.canDtag=JSON.parse(a.attr("data-can-drag")),s.canDtag?o.on():o.off()};t==="data-can-drag"&&c()},destroy:function(){var t=this.element,o=this.options;return t.off(e.events.startAll,o.drawDragMarker?o.dragMarker:o.dragItem),t}})})(Metro,Dom);(function(e,r){"use strict";let l={dragContext:null,draggableDeferred:0,dragElement:"self",dragArea:"parent",timeout:0,boundaryRestriction:!0,onCanDrag:e.noop_true,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onDraggableCreate:e.noop};e.draggableSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroDraggableSetup!==void 0&&e.draggableSetup(globalThis.metroDraggableSetup),e.Component("draggable",{init:function(i,t){return this._super(t,i,l,{drag:!1,move:!1,backup:{cursor:"default",zIndex:"0"},dragArea:null,dragElement:null,id:e.utils.elementId("draggable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("draggable-create",{element:this.element})},_createStructure:function(){let i=this,t=this.element,o=this.options,a=t.offset(),s=o.dragElement!=="self"?t.find(o.dragElement):t;t.data("canDrag",!0),this.dragElement=s,s[0].ondragstart=function(){return!1},t.css("position","absolute"),(o.dragArea==="document"||o.dragArea==="window")&&(o.dragArea="body"),setTimeout(function(){i.dragArea=o.dragArea==="parent"?t.parent():r(o.dragArea),i.dragArea.css("position")==="static"&&i.dragArea.css("position","relative"),o.dragArea!=="parent"&&(t.appendTo(i.dragArea),t.css({top:a.top,left:a.left}))}),t.attr("id")||t.attr("id",e.utils.elementId("draggable"))},_createEvents:function(){let i=this,t=this.element,o=this.options,a={x:0,y:0};this.dragElement.on(e.events.startAll,function(s){let c=t.position(),p=e.utils.pageXY(s).x-c.left,d=e.utils.pageXY(s).y-c.top,m=function(f){let g=e.utils.pageXY(f).y-d,u=e.utils.pageXY(f).x-p;o.boundaryRestriction&&(g<0&&(g=0),u<0&&(u=0),g>i.dragArea.outerHeight()-t.outerHeight()&&(g=i.dragArea.outerHeight()-t.outerHeight()),u>i.dragArea.outerWidth()-t.outerWidth()&&(u=i.dragArea.outerWidth()-t.outerWidth())),a.y=g,a.x=u,t.css({left:u,top:g}),i._fireEvent("drag-move",{position:a,context:o.dragContext})};t.data("canDrag")===!1||e.utils.exec(o.onCanDrag,[t])!==!0||e.isTouchable===!1&&s.which!==1||(i.drag=!0,t.addClass("draggable"),i._fireEvent("drag-start",{position:a,context:o.dragContext}),r(document).on(e.events.moveAll,m,{ns:i.id,passive:!1}),r(document).on(e.events.stopAll,function(){t.removeClass("draggable"),r(document).off(e.events.moveAll,{ns:i.id}),r(document).off(e.events.stopAll,{ns:i.id}),i.drag=!1,i.move=!1,i._fireEvent("drag-stop",{position:a,context:o.dragContext})},{ns:i.id}))})},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:function(i,t){},destroy:function(){let i=this.element;return this.dragElement.off(e.events.startAll),i}})})(Metro,Dom);(function(e,r){"use strict";let l={};e.evalSetup=function(i){l=r.extend({},l,i)},typeof window.metroEvalSetup!==void 0&&e.evalSetup(window.metroEvalSetup),e.Component("eval",{init:function(i,t){return this._super(t,i,l,{}),this},_create:function(){let i=this.element;i.text(this.eval(i.text()))},eval:i=>i.replace(/{{(.*?)}}/gs,(t,o)=>{try{let a=o.includes("return")?o:"return "+o;return new Function(a)()}catch{return t}}),destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={init:function(){return this},options:{csvDelimiter:"	",csvNewLine:`\r
`,includeHeader:!0},setup:function(t){return this.options=r.extend({},this.options,t),this},base64:function(t){return globalThis.btoa(unescape(encodeURIComponent(t)))},b64toBlob:function(t,o,a){o=o||"",a=a||512;var s=globalThis.atob(t),c=[],p;for(p=0;p<s.length;p+=a){var d=s.slice(p,p+a),m=new Array(d.length),f;for(f=0;f<d.length;f=f+1)m[f]=d.charCodeAt(f);var g=new globalThis.Uint8Array(m);c.push(g)}return new Blob(c,{type:o})},tableToCSV:function(t,o,a){var s,c,p,d="",m,f,g,u;if(s=r.extend({},this.options,a),t=r(t)[0],l.bool(s.includeHeader))for(p=t.querySelectorAll("thead")[0],m=0;m<p.rows.length;m++){for(g=p.rows[m],f=0;f<g.cells.length;f++)u=g.cells[f],d+=(f?s.csvDelimiter:"")+u.textContent.trim();d+=s.csvNewLine}for(c=t.querySelectorAll("tbody")[0],m=0;m<c.rows.length;m++){for(g=c.rows[m],f=0;f<g.cells.length;f++)u=g.cells[f],d+=(f?s.csvDelimiter:"")+u.textContent.trim();d+=s.csvNewLine}return l.isValue(o)?this.createDownload(this.base64("\uFEFF"+d),"application/csv",o):d},createDownload:function(t,o,a){var s,c,p;return c=document.createElement("a"),c.style.display="none",document.body.appendChild(c),s=this.b64toBlob(t,o),p=globalThis.URL.createObjectURL(s),c.href=p,c.download=a||l.elementId("download"),c.click(),globalThis.URL.revokeObjectURL(p),document.body.removeChild(c),!0},arrayToCsv:function(t,o,a){var s,c="",p,d;for(s=r.extend({},this.options,a),p=0;p<t.length;p++)d=t[p],typeof d!="object"?c+=d+s.csvNewLine:(r.each(d,function(m,f){c+=(m?s.csvDelimiter:"")+f.toString()}),c+=s.csvNewLine);return l.isValue(o)?this.createDownload(this.base64("\uFEFF"+c),"application/csv",o):c}};e.export=i.init(),globalThis.METRO_GLOBAL_COMMON===!0&&(globalThis.Export=e.export)})(Metro,Dom);(function(e,r){"use strict";var l={fileDeferred:0,label:"",mode:"input",buttonTitle:"",filesSelectedTitle:"",dropTitle:"",dropIcon:"\u{1F4E5}",prepend:"",clsComponent:"",clsPrepend:"",clsButton:"",clsCaption:"",clsLabel:"",copyInlineStyles:!1,onSelect:e.noop,onFileCreate:e.noop};e.fileSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroFileSetup!==void 0&&e.fileSetup(globalThis.metroFileSetup),e.Component("file",{init:function(i,t){return this._super(t,i,l),this},_create:function(){var i=this.element;this._createStructure(),this._createEvents(),this._fireEvent("file-create",{element:i})},_createStructure:function(){var i=this.element,t=this.options,o=r("<label>").addClass((t.mode==="input"?" file ":t.mode==="button"?" file-button ":" drop-zone ")+i[0].className).addClass(t.clsComponent),a=r("<span>").addClass("caption").addClass(t.clsCaption),s=r("<span>").addClass("files").addClass(t.clsCaption),c,p;if(o.insertBefore(i),i.appendTo(o),t.mode.includes("drop"))c=r("<span>").addClass("icon").html(t.dropIcon).appendTo(o),a.html(t.dropTitle||this.strings.label_drop_file).insertAfter(c),s.html((t.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)).insertAfter(a),p=r("<button>").addClass("button clear-button square").html("\u274C").appendTo(o);else if(a.insertBefore(i),p=r("<button>").addClass("button select-files-button").attr("tabindex",-1).html(t.buttonTitle||this.strings.label_choose_file),p.appendTo(o),p.addClass(t.clsButton),i.attr("dir")==="rtl"&&o.addClass("rtl"),t.prepend!==""){var d=r("<div>").html(t.prepend);d.addClass("prepend").addClass(t.clsPrepend).appendTo(o)}if(i[0].className="",t.copyInlineStyles===!0)for(var m=0,f=i[0].style.length;m<f;m++)o.css(i[0].style[m],i.css(i[0].style[m]));if(t.label){var g=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(o);i.attr("id")&&g.attr("for",i.attr("id")),i.attr("dir")==="rtl"&&g.addClass("rtl")}i.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var i=this,t=this.element,o=this.options,a=t.closest("label"),s=a.find(".caption"),c=a.find(".files"),p=t.closest("form");p.length&&p.on("reset",function(){i.clear()}),a.on(e.events.click,".select-files-button",function(){t[0].click()}),a.on(e.events.click,".clear-button",function(){i.clear()}),t.on(e.events.change,function(){var d=this,m=[],f;Array.from(d.files).forEach(function(g){m.push(g.name)}),o.mode==="input"?(f=m.join(", "),s.html(f),s.attr("title",f)):c.html((o.filesSelectedTitle||i.strings.label_files_selected).replace("{n}",t[0].files.length)),i._fireEvent("select",{files:d.files})}),t.on(e.events.focus,function(){a.addClass("focused")}),t.on(e.events.blur,function(){a.removeClass("focused")}),o.mode!=="input"&&(a.on("drag dragstart dragend dragover dragenter dragleave drop",function(d){d.preventDefault()}),a.on("dragenter dragover",function(){a.addClass("drop-on")}),a.on("dragleave",function(){a.removeClass("drop-on")}),a.on("drop",function(d){t[0].files=d.dataTransfer.files,c.html((o.filesSelectedTitle||i.strings.label_files_selected).replace("{n}",t[0].files.length)),a.removeClass("drop-on"),t.trigger("change")}))},clear:function(){var i=this.element,t=this.options;t.mode==="input"?i.siblings(".caption").html(""):i.siblings(".files").html((t.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)),i[0].value="",i.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleDir:function(){this.element.attr("dir")==="rtl"?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(i){switch(i){case"disabled":this.toggleState();break;case"dir":this.toggleDir();break}},destroy:function(){var i=this.element,t=i.parent();return i.off(e.events.change),t.off(e.events.click,"button"),i}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={gradientType:"linear",gradientShape:"",gradientPosition:"",gradientSize:"",gradientColors:"#000, #fff",gradientRepeat:!1,onGradientBoxCreate:e.noop};e.gradientBoxSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroGradientBoxSetup!==void 0&&e.gradientBoxSetup(globalThis.metroGradientBoxSetup),e.Component("gradient-box",{init:function(t,o){return this._super(o,t,i,{colors:[],shape:"",size:"",position:"",type:"linear",func:"linear-gradient",repeat:!1}),this},_create:function(){var t=this.options;this.colors=t.gradientColors.toArray(","),this.type=t.gradientType.toLowerCase(),this.shape=t.gradientShape.toLowerCase(),this.size=t.gradientSize.toLowerCase(),this.repeat=t.gradientRepeat,this.func=(this.repeat?"repeating-":"")+this.type+"-gradient",this.type==="linear"?t.gradientPosition?(this.position=isNaN(t.gradientPosition)===!1?t.gradientPosition+"deg":t.gradientPosition,this.position.indexOf("deg")===-1&&this.position.indexOf("to ")===-1&&(this.position="to "+this.position)):this.position="to bottom":(this.position=t.gradientPosition.toLowerCase(),this.position&&this.position.indexOf("at ")===-1&&(this.position="at "+this.position)),this._createStructure(),this._setGradient(),this._fireEvent("gradient-box-create")},_createStructure:function(){this.element.addClass("gradient-box")},_setGradient:function(){var t=this.element,o,a=[];this.type==="radial"&&this.shape&&a.push(this.shape),this.type==="radial"&&this.size&&a.push(this.size),this.position,o=this.func+"("+(a.length?a.join(" ")+", ":"")+this.colors.join(", ")+")",t.css({background:o})},changeAttribute:function(t,o){if(t.indexOf("data-gradient-")!==-1){switch(t){case"data-gradient-type":this.type=o,this.func=o.toLowerCase()+"-gradient";break;case"data-gradient-colors-css":this.colors=o?o.toArray(","):["#fff","#000"];break;case"data-gradient-shape":this.shape=o.toLowerCase();break;case"data-gradient-size":this.size=o.toLowerCase();break;case"data-gradient-position":this.position=o.toLowerCase();break;case"data-gradient-repeat":this.repeat=l.bool(o);break}this._setGradient()}},destroy:function(){return this.element}})})(Metro,Dom);(function(e){"use strict";e.md5=function(r){function l(R,T){return R<<T|R>>>32-T}function i(R,T){var Q,V,_,Z,L;return _=R&2147483648,Z=T&2147483648,Q=R&1073741824,V=T&1073741824,L=(R&1073741823)+(T&1073741823),Q&V?L^2147483648^_^Z:Q|V?L&1073741824?L^3221225472^_^Z:L^1073741824^_^Z:L^_^Z}function t(R,T,Q){return R&T|~R&Q}function o(R,T,Q){return R&Q|T&~Q}function a(R,T,Q){return R^T^Q}function s(R,T,Q){return T^(R|~Q)}function c(R,T,Q,V,_,Z,L){return R=i(R,i(i(t(T,Q,V),_),L)),i(l(R,Z),T)}function p(R,T,Q,V,_,Z,L){return R=i(R,i(i(o(T,Q,V),_),L)),i(l(R,Z),T)}function d(R,T,Q,V,_,Z,L){return R=i(R,i(i(a(T,Q,V),_),L)),i(l(R,Z),T)}function m(R,T,Q,V,_,Z,L){return R=i(R,i(i(s(T,Q,V),_),L)),i(l(R,Z),T)}function f(R){for(var T,Q=R.length,V=Q+8,_=(V-V%64)/64,Z=(_+1)*16,L=Array(Z-1),Xt=0,ht=0;ht<Q;)T=(ht-ht%4)/4,Xt=ht%4*8,L[T]=L[T]|R.charCodeAt(ht)<<Xt,ht++;return T=(ht-ht%4)/4,Xt=ht%4*8,L[T]=L[T]|128<<Xt,L[Z-2]=Q<<3,L[Z-1]=Q>>>29,L}function g(R){var T="",Q="",V,_;for(_=0;_<=3;_++)V=R>>>_*8&255,Q="0"+V.toString(16),T=T+Q.substr(Q.length-2,2);return T}function u(R){R=R.replace(/\r\n/g,`
`);for(var T="",Q=0;Q<R.length;Q++){var V=R.charCodeAt(Q);V<128?T+=String.fromCharCode(V):V>127&&V<2048?(T+=String.fromCharCode(V>>6|192),T+=String.fromCharCode(V&63|128)):(T+=String.fromCharCode(V>>12|224),T+=String.fromCharCode(V>>6&63|128),T+=String.fromCharCode(V&63|128))}return T}var A=[],b,x,v,I,B,k,w,E,y,U=7,z=12,J=17,H=22,P=5,X=9,dt=14,At=20,Kt=4,nt=11,q=16,mt=23,lt=6,tt=10,wt=15,kt=21;for(r=u(r),A=f(r),k=1732584193,w=4023233417,E=2562383102,y=271733878,b=0;b<A.length;b+=16)x=k,v=w,I=E,B=y,k=c(k,w,E,y,A[b],U,3614090360),y=c(y,k,w,E,A[b+1],z,3905402710),E=c(E,y,k,w,A[b+2],J,606105819),w=c(w,E,y,k,A[b+3],H,3250441966),k=c(k,w,E,y,A[b+4],U,4118548399),y=c(y,k,w,E,A[b+5],z,1200080426),E=c(E,y,k,w,A[b+6],J,2821735955),w=c(w,E,y,k,A[b+7],H,4249261313),k=c(k,w,E,y,A[b+8],U,1770035416),y=c(y,k,w,E,A[b+9],z,2336552879),E=c(E,y,k,w,A[b+10],J,4294925233),w=c(w,E,y,k,A[b+11],H,2304563134),k=c(k,w,E,y,A[b+12],U,1804603682),y=c(y,k,w,E,A[b+13],z,4254626195),E=c(E,y,k,w,A[b+14],J,2792965006),w=c(w,E,y,k,A[b+15],H,1236535329),k=p(k,w,E,y,A[b+1],P,4129170786),y=p(y,k,w,E,A[b+6],X,3225465664),E=p(E,y,k,w,A[b+11],dt,643717713),w=p(w,E,y,k,A[b],At,3921069994),k=p(k,w,E,y,A[b+5],P,3593408605),y=p(y,k,w,E,A[b+10],X,38016083),E=p(E,y,k,w,A[b+15],dt,3634488961),w=p(w,E,y,k,A[b+4],At,3889429448),k=p(k,w,E,y,A[b+9],P,568446438),y=p(y,k,w,E,A[b+14],X,3275163606),E=p(E,y,k,w,A[b+3],dt,4107603335),w=p(w,E,y,k,A[b+8],At,1163531501),k=p(k,w,E,y,A[b+13],P,2850285829),y=p(y,k,w,E,A[b+2],X,4243563512),E=p(E,y,k,w,A[b+7],dt,1735328473),w=p(w,E,y,k,A[b+12],At,2368359562),k=d(k,w,E,y,A[b+5],Kt,4294588738),y=d(y,k,w,E,A[b+8],nt,2272392833),E=d(E,y,k,w,A[b+11],q,1839030562),w=d(w,E,y,k,A[b+14],mt,4259657740),k=d(k,w,E,y,A[b+1],Kt,2763975236),y=d(y,k,w,E,A[b+4],nt,1272893353),E=d(E,y,k,w,A[b+7],q,4139469664),w=d(w,E,y,k,A[b+10],mt,3200236656),k=d(k,w,E,y,A[b+13],Kt,681279174),y=d(y,k,w,E,A[b],nt,3936430074),E=d(E,y,k,w,A[b+3],q,3572445317),w=d(w,E,y,k,A[b+6],mt,76029189),k=d(k,w,E,y,A[b+9],Kt,3654602809),y=d(y,k,w,E,A[b+12],nt,3873151461),E=d(E,y,k,w,A[b+15],q,530742520),w=d(w,E,y,k,A[b+2],mt,3299628645),k=m(k,w,E,y,A[b],lt,4096336452),y=m(y,k,w,E,A[b+7],tt,1126891415),E=m(E,y,k,w,A[b+14],wt,2878612391),w=m(w,E,y,k,A[b+5],kt,4237533241),k=m(k,w,E,y,A[b+12],lt,1700485571),y=m(y,k,w,E,A[b+3],tt,2399980690),E=m(E,y,k,w,A[b+10],wt,4293915773),w=m(w,E,y,k,A[b+1],kt,2240044497),k=m(k,w,E,y,A[b+8],lt,1873313359),y=m(y,k,w,E,A[b+15],tt,4264355552),E=m(E,y,k,w,A[b+6],wt,2734768916),w=m(w,E,y,k,A[b+13],kt,1309151649),k=m(k,w,E,y,A[b+4],lt,4149444226),y=m(y,k,w,E,A[b+11],tt,3174756917),E=m(E,y,k,w,A[b+2],wt,718787259),w=m(w,E,y,k,A[b+9],kt,3951481745),k=i(k,x),w=i(w,v),E=i(E,I),y=i(y,B);var zt=g(k)+g(w)+g(E)+g(y);return zt.toLowerCase()},globalThis.METRO_GLOBAL_COMMON===!0&&(globalThis.md5=e.md5)})(Metro,Dom);(function(e,r){"use strict";var l={gravatarDeferred:0,email:"",size:80,default:"mp",onGravatarCreate:e.noop};e.gravatarSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroGravatarSetup!==void 0&&e.gravatarSetup(globalThis.metroGravatarSetup),e.Component("gravatar",{init:function(i,t){return this._super(t,i,l),this},_create:function(){var i=this.element;this.get(),this._fireEvent("gravatar-create",{element:i})},getImage:function(i,t,o,a){var s=r("<img>").attr("alt",i);return s.attr("src",this.getImageSrc(i,t)),a===!0?s:s[0]},getImageSrc:function(i,t,o){return i===void 0||i.trim()===""?"":(t=t||80,o=e.utils.encodeURI(o)||"404","//www.gravatar.com/avatar/"+e.md5(i.toLowerCase().trim())+"?size="+t+"&d="+o)},get:function(){var i=this.element,t=this.options,o=i[0].tagName==="IMG"?i:i.find("img");if(o.length!==0)return o.attr("src",this.getImageSrc(t.email,t.size,t.default)),this},resize:function(i){this.options.size=i!==void 0?i:this.element.attr("data-size"),this.get()},email:function(i){this.options.email=i!==void 0?i:this.element.attr("data-email"),this.get()},changeAttribute:function(i){switch(i){case"data-size":this.resize();break;case"data-email":this.email();break}},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={hintDeferred:0,hintHide:5e3,clsHint:"",hintText:"",hintPosition:e.position.TOP,hintOffset:4,onHintShow:e.noop,onHintHide:e.noop,onHintCreate:e.noop};e.hintSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroHintSetup!==void 0&&e.hintSetup(globalThis.metroHintSetup),e.Component("hint",{init:function(t,o){return this._super(o,t,i,{hint:null,hint_size:{width:0,height:0},id:l.elementId("hint")}),this},_create:function(){this._createEvents(),this._fireEvent("hint-create",{element:this.element})},_createEvents:function(){var t=this,o=this.element,a=this.options,s=!1;o.on(e.events.enter,function(){s=!0,setTimeout(function(){s&&(t.createHint(),+a.hintHide>0&&setTimeout(function(){t.removeHint()},a.hintHide))},a.hintDeferred)}),o.on(e.events.leave,function(){s=!1,t.removeHint()}),r(globalThis).on(e.events.scroll+" "+e.events.resize,function(){t.hint!==null&&t.setPosition()},{ns:this.id})},createHint:function(){var t=this.elem,o=this.element,a=this.options,s=r("<div>").addClass("hint").addClass(a.clsHint).html(a.hintText);if(this.hint=s,this.hint_size=l.hiddenElementSize(s),r(".hint:not(.permanent-hint)").remove(),t.tagName==="TD"||t.tagName==="TH"){var c=r("<div/>").css("display","inline-block").html(o.html());o.html(c),this.element=c}this.setPosition(),s.appendTo(r("body")),this._fireEvent("hint-show",{hint:s[0]})},setPosition:function(){var t=this.hint,o=this.hint_size,a=this.options,s=this.element;a.hintPosition===e.position.BOTTOM?(t.addClass("bottom"),t.css({top:s.offset().top-r(globalThis).scrollTop()+s.outerHeight()+a.hintOffset,left:s.offset().left+s.outerWidth()/2-o.width/2-r(globalThis).scrollLeft()})):a.hintPosition===e.position.RIGHT?(t.addClass("right"),t.css({top:s.offset().top+s.outerHeight()/2-o.height/2-r(globalThis).scrollTop(),left:s.offset().left+s.outerWidth()-r(globalThis).scrollLeft()+a.hintOffset})):a.hintPosition===e.position.LEFT?(t.addClass("left"),t.css({top:s.offset().top+s.outerHeight()/2-o.height/2-r(globalThis).scrollTop(),left:s.offset().left-o.width-r(globalThis).scrollLeft()-a.hintOffset})):(t.addClass("top"),t.css({top:s.offset().top-r(globalThis).scrollTop()-o.height-a.hintOffset,left:s.offset().left-r(globalThis).scrollLeft()+s.outerWidth()/2-o.width/2}))},removeHint:function(){var t=this,o=this.hint,a=this.options,s=a.onHintHide===e.noop?0:300;o!==null&&(this._fireEvent("hint-hide",{hint:o[0]}),setTimeout(function(){o.hide(0,function(){o.remove(),t.hint=null})},s))},changeText:function(){this.options.hintText=this.element.attr("data-hint-text")},changeAttribute:function(t){t==="data-hint-text"&&this.changeText()},destroy:function(){var t=this.element;this.removeHint(),t.off(e.events.enter+"-hint"),t.off(e.events.leave+"-hint"),r(globalThis).off(e.events.scroll+"-hint")}})})(Metro,Dom);(function(e,r){"use strict";let l={specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta"},shiftNums:{"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},shiftNumsInverse:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],getKey:function(t){let o,a=t.keyCode,s=String.fromCharCode(a).toLowerCase();return t.shiftKey?o=l.shiftNums[s]?l.shiftNums[s]:s:o=l.specialKeys[a]===void 0?s:l.specialKeys[a],l.getModifier(t).length?l.getModifier(t).join("+")+"+"+o:o},getModifier:function(t){let o=[];return t.altKey&&o.push("alt"),(t.ctrlKey||t.metaKey)&&o.push("ctrl"),t.shiftKey&&o.push("shift"),o}};function i(t,o){return this.each(function(){r(this).on(e.events.keydown+".hotkey-method-"+t,function(a){if(a.repeat)return;let s=l.getKey(a),c=r(this),p=""+c.attr("href");t===s&&(c.is("a")&&p&&p.trim()!=="#"&&(globalThis.location.href=p),e.utils.exec(o,[a,s,t],this))})})}r.fn.hotkey=i,globalThis.METRO_JQUERY&&globalThis.jquery_present&&(jQuery.fn.hotkey=i),r(document).on(e.events.keydown+".hotkey-data",function(t){let o,a,s,c;if(!(METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&/textarea|input|select/i.test(t.target.nodeName)||METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&r(t.target).attr("contenteditable")||METRO_HOTKEYS_FILTER_TEXT_INPUTS&&l.textAcceptingInputTypes.indexOf(t.target.type)>-1)&&(s=l.getKey(t),e.utils.keyInObject(e.hotkeys,s))){if(o=r(e.hotkeys[s][0]),a=e.hotkeys[s][1],c=(""+o.attr("href")).trim(),t.repeat&&!o.attr("data-repeat"))return;t.preventDefault(),a?e.utils.exec(a):o.is("a")&&c&&c.length>0&&c.trim()!=="#"?globalThis.location.href=c:o[0].click()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={htmlcontainerDeferred:0,method:"get",htmlSource:null,requestData:null,requestOptions:null,insertMode:"default",onHtmlLoad:e.noop,onHtmlLoadFail:e.noop,onHtmlLoadDone:e.noop,onHtmlContainerCreate:e.noop};e.htmlContainerSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroHtmlContainerSetup!==void 0&&e.htmlContainerSetup(globalThis.metroHtmlContainerSetup),e.Component("html-container",{init:function(t,o){return this._super(o,t,i,{data:null,opt:{},htmlSource:""}),this},_create:function(){var t=this.element,o=this.options;typeof o.requestData=="string"&&(o.requestData=JSON.parse(o.requestData)),l.isObject(o.requestData)&&(this.data=l.isObject(o.requestData)),typeof o.requestOptions=="string"&&(o.requestOptions=JSON.parse(o.requestOptions)),l.isObject(o.requestOptions)&&(this.opt=l.isObject(o.requestOptions)),o.method=o.method.toUpperCase(),l.isValue(o.htmlSource)&&(this.htmlSource=o.htmlSource,this._load()),this._fireEvent("html-container-create",{element:t})},_load:function(){var t=this,o=this.element,a=this.options,s={method:a.method};this.data&&(s.body=this.data),this.opt&&(s.headers=this.opt),fetch(this.htmlSource,s).then(e.fetch.status).then(e.fetch.text).then(function(c){var p=r(c);switch(p.length===0&&(p=r("<div>").html(c)),a.insertMode.toLowerCase()){case"prepend":o.prepend(p);break;case"append":o.append(p);break;case"replace":p.insertBefore(o).script(),o.remove();break;default:o.html(p)}t._fireEvent("html-load",{data:c,source:a.htmlSource,requestData:t.data,requestOptions:t.opt})}).catch(function(c){t._fireEvent("html-load-fail",{error:c})})},load:function(t,o,a){t&&(this.htmlSource=t),o&&(this.data=l.isObject(o)),a&&(this.opt=l.isObject(a)),this._load()},changeAttribute:function(t){var o=this,a=this.element,s=this.options,c=function(){var m=a.attr("data-html-source");l.isNull(m)||(m.trim()===""&&a.html(""),s.htmlSource=m,o._load())},p=function(){var m=a.attr("data-insert-mode");l.isValue(m)&&(s.insertMode=m)},d=function(){var m=a.attr("data-request-data");o.load(s.htmlSource,m)};switch(t){case"data-html-source":c();break;case"data-insert-mode":p();break;case"data-request-data":d();break}},destroy:function(){}})})(Metro,Dom);(function(e,r){"use strict";var l={image:null,size:"cover",repeat:!1,color:"transparent",attachment:"scroll",origin:"border",onImageBoxCreate:e.noop};e.imageBoxSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroImageBoxSetup!==void 0&&e.imageBoxSetup(globalThis.metroImageBoxSetup),e.Component("image-box",{init:function(i,t){return this._super(t,i,l,{}),this},_create:function(){this._createStructure(),this._fireEvent("image-box-create")},_createStructure:function(){var i=this.element;i.addClass("image-box"),this._drawImage()},_drawImage:function(){var i=this.element,t=this.options,o=new Image,a;i.attr("data-original")||i.attr("data-original",t.image),i.css({backgroundImage:"url("+t.image+")",backgroundSize:t.size,backgroundRepeat:t.repeat?"repeat":"no-repeat",backgroundColor:t.color,backgroundAttachment:t.attachment,backgroundOrigin:t.origin}),o.src=t.image,o.onload=function(){a=this.height>=this.width,i.removeClass("image-box__portrait image-box__landscape").addClass("image-box__"+(a?"portrait":"landscape"))}},changeAttribute:function(i,t){var o=i.replace("data-","");["image","size","repeat","color","attachment","origin"].indexOf(o)>-1&&(this.options[o]=t,this._drawImage())},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={imagecompareDeferred:0,width:"100%",height:"auto",onSliderMove:e.noop,onImageCompareCreate:e.noop};e.imageCompareSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroImageCompareSetup!==void 0&&e.imageCompareSetup(globalThis.metroImageCompareSetup),e.Component("image-compare",{init:function(t,o){return this._super(o,t,i,{id:l.elementId("image-compare")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-compare-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,a,s,c,p,d,m;switch(l.isValue(t.attr("id"))||t.attr("id",l.elementId("image-compare")),t.addClass("image-compare").css({width:o.width}),d=t.width(),o.height){case"16/9":m=l.aspectRatioH(d,o.height);break;case"21/9":m=l.aspectRatioH(d,o.height);break;case"4/3":m=l.aspectRatioH(d,o.height);break;case"auto":m=l.aspectRatioH(d,"16/9");break;default:m=o.height}t.css({height:m}),a=r("<div>").addClass("image-container").appendTo(t),s=r("<div>").addClass("image-container-overlay").appendTo(t).css({width:d/2}),c=r("<div>").addClass("image-slider").appendTo(t),c.css({top:m/2-c.height()/2,left:d/2-c.width()/2}),p=t.find("img"),r.each(p,function(f){var g=r("<div>").addClass("image-wrapper");g.css({width:d,height:m,backgroundImage:"url("+this.src+")"}),g.appendTo(f===0?a:s)})},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.find(".image-container-overlay"),c=o.find(".image-slider");c.on(e.events.startAll,function(){var p=o.width();r(document).on(e.events.moveAll,function(d){var m=l.getCursorPositionX(o[0],d),f;m<0&&(m=0),m>p&&(m=p),s.css({width:m}),f=m-c.width()/2,c.css({left:f}),t._fireEvent("slider-move",{x:m,l:f})},{ns:t.id}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})}),r(globalThis).on(e.events.resize,function(){var p=o.width(),d;if(a.width==="100%"){switch(a.height){case"16/9":d=l.aspectRatioH(p,a.height);break;case"21/9":d=l.aspectRatioH(p,a.height);break;case"4/3":d=l.aspectRatioH(p,a.height);break;case"auto":d=l.aspectRatioH(p,"16/9");break;default:d=a.height}o.css({height:d}),r.each(o.find(".image-wrapper"),function(){r(this).css({width:p,height:d})}),o.find(".image-container-overlay").css({width:p/2}),c.css({top:d/2-c.height()/2,left:p/2-c.width()/2})}},{ns:this.id})},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.start),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={useBackground:!1,backgroundSize:"cover",backgroundPosition:"top left",clsImageGrid:"",clsImageGridItem:"",clsImageGridImage:"",onItemClick:e.noop,onDrawItem:e.noop,onImageGridCreate:e.noop};e.imageGridSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroImageGridSetup!==void 0&&e.imageGridSetup(globalThis.metroImageGridSetup),e.Component("image-grid",{init:function(t,o){return this._super(o,t,i,{items:[]}),this},_create:function(){this.items=this.element.children("img"),this._createStructure(),this._createEvents(),this._fireEvent("image-grid-create")},_createStructure:function(){var t=this.element,o=this.options;t.addClass("image-grid").addClass(o.clsImageGrid),this._createItems()},_createEvents:function(){var t=this,o=this.element;o.on(e.events.click,".image-grid__item",function(){t._fireEvent("item-click",{item:this})})},_createItems:function(){var t=this,o=this.element,a=this.options,s=this.items;o.clear(),s.each(function(){var c=r(this),p=this.src,d=r("<div>").addClass("image-grid__item").addClass(a.clsImageGridItem).appendTo(o),m=new Image;m.src=p,m.onload=function(){var f=this.height>=this.width;d.addClass(f?"image-grid__item-portrait":"image-grid__item-landscape"),c.addClass(a.clsImageGridImage).appendTo(d),a.useBackground&&(d.css({background:"url("+p+")",backgroundRepeat:"no-repeat",backgroundSize:a.backgroundSize,backgroundPosition:a.backgroundPosition}).attr("data-original",c.attr("data-original")||p).attr("data-title",c.attr("alt")||c.attr("data-title")||""),c.visible(!1)),t._fireEvent("draw-item",{item:d[0],image:c[0]})}})},changeAttribute:function(t,o){var a=this.options;t==="data-use-background"&&(a.useBackground=l.bool(o),this._createItems()),t==="data-background-size"&&(a.backgroundSize=o,this._createItems()),t==="data-background-position"&&(a.backgroundPosition=o,this._createItems())},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={imagemagnifierDeferred:0,width:"100%",height:"auto",lensSize:100,lensType:"square",magnifierZoom:2,magnifierMode:"glass",magnifierZoomElement:null,clsMagnifier:"",clsLens:"",clsZoom:"",onMagnifierMove:e.noop,onImageMagnifierCreate:e.noop};e.imageMagnifierSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroImageMagnifierSetup!==void 0&&e.imageMagnifierSetup(globalThis.metroImageMagnifierSetup),e.Component("image-magnifier",{init:function(t,o){return this._super(o,t,i,{zoomElement:null,id:l.elementId("image-magnifier")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-magnifier-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,a,s,c,p=t.find("img");if(p.length===0)throw new Error("Image not defined");switch(l.isValue(t.attr("id"))||t.attr("id",l.elementId("image-magnifier")),t.addClass("image-magnifier").css({width:o.width}).addClass(o.clsMagnifier),s=t.width(),o.height){case"16/9":c=l.aspectRatioH(s,o.height);break;case"21/9":c=l.aspectRatioH(s,o.height);break;case"4/3":c=l.aspectRatioH(s,o.height);break;case"auto":c=l.aspectRatioH(s,"16/9");break;default:c=o.height}t.css({height:c});var d=s/2-o.lensSize/2,m=c/2-o.lensSize/2;if(o.magnifierMode==="glass")a=r("<div>").addClass("image-magnifier-glass").appendTo(t),a.css({width:o.lensSize,height:o.lensSize,borderRadius:o.lensType!=="circle"?0:"50%",top:m,left:d,backgroundImage:"url("+p[0].src+")",backgroundRepeat:"no-repeat",backgroundPosition:"-"+(d*o.magnifierZoom-o.lensSize/4+4)+"px -"+(m*o.magnifierZoom-o.lensSize/4+4)+"px",backgroundSize:p[0].width*o.magnifierZoom+"px "+p[0].height*o.magnifierZoom+"px"}).addClass(o.clsLens);else{a=r("<div>").addClass("image-magnifier-glass").appendTo(t),a.css({width:o.lensSize,height:o.lensSize,borderRadius:0,borderWidth:1,top:m,left:d}).addClass(o.clsLens),!l.isValue(o.magnifierZoomElement)||r(o.magnifierZoomElement).length===0?this.zoomElement=r("<div>").insertAfter(t):this.zoomElement=r(o.magnifierZoomElement);var f=a[0].offsetWidth*o.magnifierZoom,g=a[0].offsetHeight*o.magnifierZoom,u=f/o.lensSize,A=g/o.lensSize;this.zoomElement.css({width:f,height:g,backgroundImage:"url("+p[0].src+")",backgroundRepeat:"no-repeat",backgroundPosition:"-"+d*u+"px -"+m*A+"px",backgroundSize:p[0].width*u+"px "+p[0].height*A+"px"}).addClass(o.clsZoom)}},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.find(".image-magnifier-glass"),c=s[0].offsetWidth/2,p=o.find("img")[0],d=this.zoomElement,m,f;r(globalThis).on(e.events.resize,function(){var u=o.width()/2-a.lensSize/2,A=o.height()/2-a.lensSize/2;a.magnifierMode==="glass"&&s.css({backgroundPosition:"-"+(u*a.magnifierZoom-a.lensSize/4+4)+"px -"+(A*a.magnifierZoom-a.lensSize/4+4)+"px",backgroundSize:p.width*a.magnifierZoom+"px "+p.height*a.magnifierZoom+"px"})},{ns:this.id}),a.magnifierMode!=="glass"&&(m=d[0].offsetWidth/c/2,f=d[0].offsetHeight/c/2,d.css({backgroundSize:p.width*m+"px "+p.height*f+"px"}));var g=function(u){var A,b,x=4,v=parseInt(a.magnifierZoom);a.magnifierMode==="glass"?(A=u.x,b=u.y,A>p.width-c/v&&(A=p.width-c/v),A<c/v&&(A=c/v),b>p.height-c/v&&(b=p.height-c/v),b<c/v&&(b=c/v),s.css({top:b-c,left:A-c,backgroundPosition:"-"+(A*v-c+x)+"px -"+(b*v-c+x)+"px"})):(A=u.x-c,b=u.y-c,A>p.width-c*2&&(A=p.width-c*2),A<0&&(A=0),b>p.height-c*2&&(b=p.height-c*2),b<0&&(b=0),s.css({top:b,left:A}),d.css({backgroundPosition:"-"+A*m+"px -"+b*f+"px"}))};o.on(e.events.move,function(u){var A=l.getCursorPosition(p,u);g(A),t._fireEvent("magnifier-move",{pos:A,glass:s[0],zoomElement:d?d[0]:void 0}),u.preventDefault()}),o.on(e.events.leave,function(){var u=o.width()/2-a.lensSize/2,A=o.height()/2-a.lensSize/2;s.animate({draw:{top:A,left:u}}),g({x:u+a.lensSize/2,y:A+a.lensSize/2})})},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.move),t.off(e.events.leave),t}})})(Metro,Dom);(function(e,r){"use strict";var l={size:"100x100",width:null,height:null,color:"#f8f8f8",textColor:"#292929",font:"12px sans-serif",text:"",showText:!0,onImagePlaceholderCreate:e.noop};e.imagePlaceholderSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroImagePlaceholderSetup!==void 0&&e.imagePlaceholderSetup(globalThis.metroImagePlaceholderSetup),e.Component("image-placeholder",{init:function(i,t){return this._super(t,i,l,{width:0,height:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("image-placeholder-create")},_createStructure:function(){var i=this.element,t=this.options,o=t.size.toArray("x");this.width=t.width?t.width:o[0],this.height=t.height?t.height:o[1],i.attr("src",this._createPlaceholder())},_createEvents:function(){},_createPlaceholder:function(){var i=this.options,t=document.createElement("canvas"),o=t.getContext("2d"),a=this.width,s=this.height;return t.width=parseInt(a),t.height=parseInt(s),o.clearRect(0,0,a,s),o.fillStyle=i.color,o.fillRect(0,0,a,s),o.fillStyle=i.textColor,o.font=i.font,o.translate(a/2,s/2),o.textAlign="center",o.textBaseline="middle",i.showText&&o.fillText(i.text?i.text:a+" \xD7 "+s,0,0),t.toDataURL()},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={infoboxDeferred:0,type:"",width:480,height:"auto",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,autoHide:0,removeOnClose:!1,closeButton:!0,clsBox:"",clsBoxContent:"",clsOverlay:"",onOpen:e.noop,onClose:e.noop,onInfoBoxCreate:e.noop};e.infoBoxSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroInfoBoxSetup!==void 0&&e.infoBoxSetup(globalThis.metroInfoBoxSetup),e.Component("info-box",{init:function(t,o){return this._super(o,t,i,{overlay:null,id:l.elementId("info-box")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("info-box-create",{element:t})},_overlay:function(){var t=this.options,o=r("<div>");return o.addClass("overlay").addClass(t.clsOverlay),t.overlayColor==="transparent"?o.addClass("transparent"):o.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(t.overlayColor),t.overlayAlpha)}),o},_createStructure:function(){var t=this.element,o=this.options,a,s;o.overlay===!0&&(this.overlay=this._overlay()),t.addClass("info-box").addClass(o.type).addClass(o.clsBox),a=t.find("closer"),a.length===0&&(a=r("<span>").addClass("button square closer"),a.appendTo(t)),o.closeButton!==!0&&a.hide(),s=t.find(".info-box-content"),s.length>0&&s.addClass(o.clsBoxContent),t.css({width:o.width,height:o.height,visibility:"hidden",top:"100%",left:(r(globalThis).width()-t.outerWidth())/2}),t.appendTo(r("body"))},_createEvents:function(){var t=this,o=this.element;o.on(e.events.click,".closer",function(){t.close()}),o.on(e.events.click,".js-dialog-close",function(){t.close()}),r(globalThis).on(e.events.resize,function(){t.reposition()},{ns:this.id})},_setPosition:function(){var t=this.element;t.css({top:(r(globalThis).height()-t.outerHeight())/2,left:(r(globalThis).width()-t.outerWidth())/2})},reposition:function(){this._setPosition()},setContent:function(t){var o=this.element,a=o.find(".info-box-content");a.length!==0&&(a.html(t),this.reposition())},setType:function(t){var o=this.element;o.removeClass("success info alert warning").addClass(t)},open:function(){var t=this,o=this.element,a=this.options;a.overlay===!0&&r(".overlay").length===0&&(this.overlay.appendTo(r("body")),a.overlayClickClose===!0&&this.overlay.on(e.events.click,function(){t.close()})),this._setPosition(),o.css({visibility:"visible"}),this._fireEvent("open"),o.data("open",!0),parseInt(a.autoHide)>0&&setTimeout(function(){t.close()},parseInt(a.autoHide))},close:function(){var t=this.element,o=this.options;o.overlay===!0&&r("body").find(".overlay").remove(),t.css({visibility:"hidden",top:"100%"}),this._fireEvent("close"),t.data("open",!1),o.removeOnClose===!0&&(this.destroy(),t.remove())},isOpen:function(){return this.element.data("open")===!0},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off("all"),r(globalThis).off(e.events.resize,{ns:this.id}),t}}),e.infobox={isInfoBox:function(t){return l.isMetroObject(t,"infobox")},open:function(t,o,a){if(!this.isInfoBox(t))return!1;var s=e.getPlugin(t,"infobox");o!==void 0&&s.setContent(o),a!==void 0&&s.setType(a),s.open()},close:function(t){if(!this.isInfoBox(t))return!1;var o=e.getPlugin(t,"infobox");o.close()},setContent:function(t,o){if(!this.isInfoBox(t))return!1;o===void 0&&(o="");var a=e.getPlugin(t,"infobox");a.setContent(o),a.reposition()},setType:function(t,o){if(!this.isInfoBox(t))return!1;var a=e.getPlugin(t,"infobox");a.setType(o),a.reposition()},isOpen:function(t){if(!this.isInfoBox(t))return!1;var o=e.getPlugin(t,"infobox");return o.isOpen()},create:function(t,o,a,s){var c=l.$(),p,d,m;m=o!==void 0?o:"",p=c("<div>").appendTo(c("body")),c("<div>").addClass("info-box-content").appendTo(p);var f=c.extend({},{removeOnClose:!0,type:m},a!==void 0?a:{});return f._runtime=!0,p.infobox(f),d=e.getPlugin(p,"infobox"),d.setContent(t),s!==!1&&d.open(),p}}})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={maskPattern:".",mask:null,maskPlaceholder:"_",maskEditableStart:0,thresholdInterval:300,onChar:e.noop,onInputMaskCreate:e.noop};e.inputMaskSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroInputMaskSetup!==void 0&&e.inputMaskSetup(globalThis.metroInputMaskSetup),e.Component("input-mask",{init:function(t,o){return this._super(o,t,i,{pattern:null,mask:"",maskArray:[],placeholder:"",length:0,thresholdTimer:null,id:l.elementId("input-mask")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("input-mask-create")},_createStructure:function(){var t=this.options;if(!t.mask)throw new Error("You must provide a pattern for masked input.");if(typeof t.maskPlaceholder!="string"||t.maskPlaceholder.length>1)throw new Error("Mask placeholder should be a single character or an empty string.");this.placeholder=t.maskPlaceholder,this.mask=""+t.mask,this.maskArray=this.mask.split(""),this.pattern=new RegExp("^"+t.maskPattern+"+$"),this.length=this.mask.length,this._showValue()},_createEvents:function(){var t=this,o=this.element,a=this.options,s=a.maskEditableStart,c=this.id,p=function(u){return u<s?(f(s),!1):!0},d=function(u){return u<t.mask.length&&t.mask.charAt(u)===t.placeholder},m=function(u){var A,b=t.maskArray;for(A=u;A<=b.length;A++)if(b[A]===t.placeholder)return A;return u},f=function(u){t.elem.setSelectionRange(u,u)},g=function(){clearInterval(t.thresholdTimer),t.thresholdTimer=null};o.on("change",function(){this.value===""&&(this.value=t.mask,f(s))},{ns:c}),o.on("focus click",function(){p(this.selectionStart),f(m(this.selectionStart))},{ns:c}),o.on("keydown",function(u){var A=this.selectionStart,b=this.value,x=u.code,v=u.key;if(x==="ArrowRight"||x==="End")return!0;A>=t.length&&["Backspace","Home","ArrowLeft","ArrowUp"].indexOf(x)===-1?u.preventDefault():x==="Home"||x==="ArrowUp"?(u.preventDefault(),f(s)):x==="ArrowLeft"?A-1<s&&u.preventDefault():x==="Backspace"?(u.preventDefault(),A-1>=s&&(d(A-1)&&this.value.charAt(A-1)!==t.placeholder&&(this.value=b.substr(0,A-1)+t.placeholder+b.substr(A)),f(A-1))):x==="Space"?(u.preventDefault(),f(A+1)):t.pattern.test(v)?(u.preventDefault(),d(A)&&(this.value=b.substr(0,A)+(a.onChar===e.noop?v:l.exec(a.onChar,[v],this))+b.substr(A+1),f(m(A+1)))):u.preventDefault()},{ns:c}),o.on("keyup",function(){var u=this;g(),t.thresholdTimer=setInterval(function(){g(),f(m(u.selectionStart))},a.thresholdInterval)},{ns:c})},_showValue:function(){var t=this,o=this.elem,a=new Array(this.length),s;o.value?(s=o.value,r.each(this.maskArray,function(c,p){s[c]!==p&&!t.pattern.test(s[c])?a[c]=t.placeholder:a[c]=s[c]}),this.elem.value=a.join("")):o.value=this.mask},destroy:function(){var t=this.element,o=this.id;return t.off("change",{ns:o}),t.off("focus",{ns:o}),t.off("click",{ns:o}),t.off("keydown",{ns:o}),t.off("keyup",{ns:o}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={materialinputDeferred:0,label:"",informer:"",icon:"",permanentLabel:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"\u274C",revealButtonIcon:"\u{1F440}",searchButtonIcon:"\u{1F50D}",customButtons:[],searchButtonClick:"submit",clsComponent:"",clsInput:"",clsLabel:"",clsInformer:"",clsIcon:"",clsLine:"",onInputCreate:e.noop};e.materialInputSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroMaterialInputSetup!==void 0&&e.materialInputSetup(globalThis.metroMaterialInputSetup),e.Component("material-input",{init:function(t,o){return this._super(o,t,i,{history:[],historyIndex:-1}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,a,s;t[0].className="",t.attr("autocomplete","nope"),t.attr("type")===void 0&&t.attr("type","text"),a=t.wrap("<div>").addClass("input-material "+t[0].className),s=r("<div>").addClass("buttons").appendTo(a),o.label&&r("<span>").html(o.label).addClass("label").addClass(o.clsLabel).insertAfter(t),l.isValue(o.informer)&&r("<span>").html(o.informer).addClass("informer").addClass(o.clsInformer).insertAfter(t),l.isValue(o.icon)&&(a.addClass("with-icon"),r("<span>").html(o.icon).addClass("icon").addClass(o.clsIcon).insertAfter(t)),o.clearButton===!0&&!t[0].readOnly&&r("<button>").addClass("button input-clear-button").addClass(o.clsClearButton).attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon).appendTo(s),t.attr("type")==="password"&&o.revealButton===!0&&r("<button>").addClass("button input-reveal-button").addClass(o.clsRevealButton).attr("tabindex",-1).attr("type","button").html(o.revealButtonIcon).appendTo(s),o.searchButton===!0&&r("<button>").addClass("button input-search-button").addClass(o.clsSearchButton).attr("tabindex",-1).attr("type",o.searchButtonClick==="submit"?"submit":"button").html(o.searchButtonIcon).appendTo(s);let c=l.isObject(o.customButtons);Array.isArray(c)&&r.each(c,function(){var p=this,d=r("<button>");d.addClass("button input-custom-button").addClass(o.clsCustomButton).addClass(p.cls).attr("tabindex",-1).attr("type","button").html(p.text),p.attr&&typeof p.attr=="object"&&r.each(p.attr,function(m,f){d.attr(Str.dashedName(m),f)}),p.onclick&&d.on("click",()=>{p.onclick.apply(d,[t.valueOf(),t])}),d.appendTo(s)}),a.append(r("<hr>").addClass(o.clsLine)),o.permanentLabel===!0&&a.addClass("permanent-label"),a.addClass(o.clsComponent),t.addClass(o.clsInput),t.is(":disabled")?this.disable():this.enable(),this.component=a},_createEvents:function(){let t=this,o=this.options,a=this.element;this.component.on(e.events.click,".input-clear-button",function(){let s=a.val();a.val("").fire("clear").fire("change").fire("keyup").focus(),t._fireEvent("clear-click",{prev:s})}),this.component.on(e.events.click,".input-reveal-button",function(){a.attr("type")==="password"?a.attr("type","text"):a.attr("type","password"),t._fireEvent("reveal-click",{val:a.val()})}),this.component.on(e.events.click,".input-search-button",function(){o.searchButtonClick!=="submit"?t._fireEvent("search-button-click",{val:a.val(),button:this}):this.form&&this.form.submit()}),a.on(e.events.keydown,function(s){s.keyCode===e.keyCode.ENTER&&t._fireEvent("enter-click",{val:a.val()})})},clear:function(){this.element.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){t==="disabled"&&this.toggleState()},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={keylockDeferred:0,stateIconOn:"\u{1F512}",stateIconOff:"\u{1F513}",captionOn:"",captionOff:"",captionPosition:"right",clsKeylock:"",clsIcon:"",clsIconOn:"",clsIconOff:"",clsCaption:"",clsCaptionOn:"",clsCaptionOff:"",onKeylockCreate:e.noop};e.keylockSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroKeylockSetup!==void 0&&e.keylockSetup(globalThis.metroKeylockSetup),e.Component("keylock",{init:function(t,o){return this._super(o,t,i),this},_create:function(){var t=this.element,o=this.options,a,s=r("<span>").addClass("icon").addClass(o.clsIcon);if(t.attr("type","checkbox"),t.attr("readonly")!==void 0&&t.on("click",function(c){c.preventDefault()}),a=t.wrap(r("<label>").addClass("keylock").addClass(o.clsKeylock)),s.appendTo(a),o.stateIconOn){let c=r(o.stateIconOn);c.length>0?c.addClass("state-on").addClass(o.clsIconOn).appendTo(s):r("<span>").addClass("state-on").addClass(o.clsIconOn).html(o.stateIconOn).appendTo(s)}if(o.stateIconOff){let c=r(o.stateIconOff);c.length>0?c.addClass("state-off").addClass(o.clsIconOff).appendTo(s):r("<span>").addClass("state-off").addClass(o.clsIconOff).html(o.stateIconOff).appendTo(s)}if(o.captionOn||o.captionOff){let c=r("<span>").addClass("caption").addClass(o.clsCaption).appendTo(a);o.captionOn&&r("<span>").addClass("caption-state-on").addClass(o.clsCaptionOn).html(o.captionOn).appendTo(c),o.captionOff&&r("<span>").addClass("caption-state-off").addClass(o.clsCaptionOff).html(o.captionOff).appendTo(c)}o.transition===!0&&a.addClass("transition-on"),o.captionPosition==="left"&&a.addClass("caption-left"),t[0].className="",t.is(":disabled")?this.disable():this.enable(),this._fireEvent("keylock-create")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(t){var o=this.element;return l.isValue(t)?o.prop("checked",t===1):o.prop("checked",!l.bool(o.prop("checked"))),this},changeAttribute:function(t){switch(t){case"disabled":this.toggleState();break}},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l={keypadDeferred:0,label:"",keySize:36,keys:"1, 2, 3, 4, 5, 6, 7, 8, 9, 0",exceptKeys:"",keySeparator:"",trimSeparator:!1,keyDelimiter:",",copyInlineStyles:!1,target:null,keyLength:0,shuffle:!1,shuffleCount:3,serviceButtons:!0,showValue:!0,open:!1,useElementSizeForKeys:!1,openMode:"auto",clsKeypad:"",clsInput:"",clsKeys:"",clsKey:"",clsServiceKey:"",clsBackspace:"",clsClear:"",clsLabel:"",onChange:e.noop,onClear:e.noop,onBackspace:e.noop,onShuffle:e.noop,onKey:e.noop,onKeypadCreate:e.noop};e.keypadSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroKeypadSetup!==void 0&&e.keypadSetup(globalThis.metroKeypadSetup),e.Component("keypad",{init:function(i,t){return this._super(t,i,l,{value:t.tagName==="INPUT"?t.value:t.innerText,positions:["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],keypad:null,keys:[],keys_to_work:[],exceptKeys:[]}),this},_create:function(){var i=this.element,t=this.options;this.options.position="bottom-left",this.keys=t.keys.toArray(t.keyDelimiter),this.keys_to_work=this.keys,this.exceptKeys=t.exceptKeys.toArray(t.keyDelimiter),this._createKeypad(),t.shuffle===!0&&this.shuffle(),this._createKeys(),this._createEvents(),this._fireEvent("keypad-create",{element:i})},_createKeypad:function(){var i=this.element,t=this.options,o,a=i.wrap("<div>").addClass("input keypad").addClass(i[0].className).addClass(t.clsKeypad);if(i.attr("type")===void 0&&i.attr("type","text"),i.attr("readonly",!0),o=r("<div>").addClass("keys").addClass(t.clsKeys),o.appendTo(a),this._setKeysPosition(),t.open===!0&&o.addClass("open keep-open"),i[0].className="",t.copyInlineStyles===!0)for(var s=0,c=i[0].style.length;s<c;s++)a.css(i[0].style[s],i.css(i[0].style[s]));i.addClass(t.clsInput),a.addClass(t.clsKeypad),i.on(e.events.blur,function(){a.removeClass("focused")}),i.on(e.events.focus,function(){a.addClass("focused")});var p=r("<div>").addClass("button-group").appendTo(a),d=r("<button>").addClass("button input-kbd-button").addClass(t.clsKbdButton).attr("tabindex",-1).attr("type","button").html("\u2328");if(d.appendTo(p),t.label){var m=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(a);i.attr("id")&&m.attr("for",i.attr("id")),i.attr("dir")==="rtl"&&m.addClass("rtl")}t.disabled===!0||i.is(":disabled")?this.disable():this.enable(),this.keypad=a},_setKeysPosition:function(){var i=this.element,t=this.options,o=i.parent(),a=o.find(".keys");a.removeClass(this.positions.join(" ")).addClass(t.position)},_createKeys:function(){var i=this.element,t=this.options,o=i.parent(),a,s=o.find(".keys"),c=Math.round(Math.sqrt(this.keys.length+2)),p=t.keySize,d;if(s.html(""),r.each(this.keys_to_work,function(){a=r("<span>").addClass("key").addClass(t.clsKey).html(this),a.data("key",this),a.css({width:t.keySize,height:t.keySize,lineHeight:t.keySize-4}).appendTo(s)}),t.serviceButtons===!0){var m=["&larr;","&times;"];r.each(m,function(){a=r("<span>").addClass("key service-key").addClass(t.clsKey).addClass(t.clsServiceKey).html(this),this==="&larr;"&&a.addClass(t.clsBackspace),this==="&times;"&&a.addClass(t.clsClear),a.data("key",this),a.css({width:t.keySize,height:t.keySize,lineHeight:t.keySize-4}).appendTo(s)})}t.useElementSizeForKeys===!0?s.outerWidth(i.outerWidth()):(d=c*(p+2)-6,s.outerWidth(d))},_createEvents:function(){var i=this,t=this.element,o=this.options,a=t.parent(),s=a.find(".keys");s.on(e.events.click,".key",function(c){var p=r(this),d=p.data("key"),m;if(p.data("key")!=="&larr;"&&p.data("key")!=="&times;"){if(o.keyLength>0&&(""+i.value).length===o.keyLength)return!1;i.exceptKeys.indexOf(d)===-1&&(i.value=i.value+(i.value!==""?o.keySeparator:"")+d),o.shuffle===!0&&(i.shuffle(),i._createKeys()),o.dynamicPosition===!0&&(o.position=i.positions[r.random(0,i.positions.length-1)],i._setKeysPosition()),i._fireEvent("key",{key:p.data("key"),val:i.value})}else p.data("key")==="&times;"&&(i.value="",i._fireEvent("clear")),p.data("key")==="&larr;"&&(m=o.keySeparator&&i.value[i.value.length-1]!==o.keySeparator?2:1,i.value=i.value.substring(0,i.value.length-m),i._fireEvent("backspace",{val:i.value}));o.showValue===!0&&(t[0].tagName==="INPUT"?t.val(i.value):t.text(i.value)),i._fireEvent("change",{val:i.val}),c.preventDefault(),c.stopPropagation()}),a.on(e.events.click,function(c){o.open!==!0&&(s.hasClass("open")===!0?s.removeClass("open").removeClass("top-left"):(s.addClass("open"),o.openMode==="auto"?e.utils.inViewport(s[0])===!1&&s.addClass("top-left"):o.openMode==="up"&&s.addClass("top-left")),c.preventDefault(),c.stopPropagation())}),o.target!==null&&t.on(e.events.change,function(){var c=r(o.target);c.length!==0&&(c[0].tagName==="INPUT"?c.val(i.value):c.text(i.value))})},shuffle:function(){for(var i=this.options,t=0;t<i.shuffleCount;t++)this.keys_to_work=this.keys_to_work.shuffle();this._fireEvent("shuffle",{keysToWork:this.keys_to_work,keys:this.keys})},shuffleKeys:function(i){i===void 0&&(i=this.options.shuffleCount);for(var t=0;t<i;t++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(i){var t=this.element,o=this.options;return typeof i>"u"?o.trimSeparator?this.value.replace(new RegExp(o.keySeparator,"g")):this.value:(this.value=""+i,t[0].tagName==="INPUT"?t.val(i):t.text(i),this)},open:function(){var i=this.element,t=this.options,o=i.parent(),a=o.find(".keys");a.addClass("open"),t.openMode==="auto"?e.utils.inViewport(a[0])===!1&&a.addClass("top-left"):t.openMode==="up"&&a.addClass("top-left")},close:function(){var i=this.element,t=i.parent(),o=t.find(".keys");o.removeClass("open").removeClass("top-left")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setPosition:function(i){var t=i!==void 0?i:this.element.attr("data-position");this.positions.indexOf(t)!==-1&&(this.options.position=t,this._setKeysPosition())},changeAttribute:function(i){switch(i){case"disabled":this.toggleState();break;case"data-position":this.setPosition();break}},destroy:function(){var i=this.element,t=this.keypad,o=t.find(".keys");return t.off(e.events.click),o.off(e.events.click,".key"),i.off(e.events.change),i}}),r(document).on(e.events.click,function(){var i=r(".keypad .keys");r.each(i,function(){r(this).hasClass("keep-open")||r(this).removeClass("open")})})})(Metro,Dom);(function(e,r){"use strict";var l={loop:!0,source:"img",iconClose:"\u274C",iconPrev:"\u{1F850}",iconNext:"\u{1F852}",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:e.noop,onLightboxCreate:e.noop};e.lightboxSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroLightboxSetup!==void 0&&e.lightboxSetup(globalThis.metroLightboxSetup),e.Component("lightbox",{init:function(i,t){return this._super(t,i,l,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){var i=this.options;i.source||(i.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){var i=this.options,t,o;o=r(".lightbox-overlay"),o.length===0&&(o=r("<div>").addClass("lightbox-overlay").appendTo("body").hide()),t=r("<div>").addClass("lightbox").addClass(i.clsLightbox).appendTo("body").hide(),r("<span>").addClass("lightbox__prev").addClass(i.clsPrev).html(i.iconPrev).appendTo(t),r("<span>").addClass("lightbox__next").addClass(i.clsNext).html(i.iconNext).appendTo(t),r("<span>").addClass("lightbox__closer").addClass(i.clsClose).html(i.iconClose).appendTo(t),r("<div>").addClass("lightbox__image").addClass(i.clsImageContainer).appendTo(t),this.component=t[0],this.lightbox=t,this.overlay=o},_createEvents:function(){var i=this,t=this.element,o=this.options,a=r(this.component);t.on(e.events.click,o.source,function(){i.open(this)}),a.on(e.events.click,".lightbox__closer",function(){i.close()}),a.on(e.events.click,".lightbox__prev",function(){i.prev()}),a.on(e.events.click,".lightbox__next",function(){i.next()})},_setupItems:function(){var i=this.element,t=this.options,o=i.find(t.source);o.length!==0&&(this.items=o)},_goto:function(i){var t=this,o=this.options,a=r(i),s=r("<img>"),c,p,d,m;p=this.lightbox.find(".lightbox__image"),p.find(".lightbox__image-wrapper").remove(),d=r("<div>").addClass("lightbox__image-wrapper").addClass(o.clsImageWrapper).attr("data-title",a.attr("alt")||a.attr("data-title")||"").appendTo(p),m=r("<div>").appendTo(d),e.makePlugin(m,"activity",{type:"cycle",style:"color"}),this.current=i,(i.tagName==="IMG"||i.tagName==="DIV")&&(c=a.attr("data-original")||a.attr("src"),s.attr("src",c),s[0].onload=function(){var f=this.height>this.width;s.addClass(f?"lightbox__image-portrait":"lightbox__image-landscape").addClass(o.clsImage),s.attr("alt",a.attr("alt")),s.appendTo(d),m.remove(),t._fireEvent("draw-image",{image:s[0],item:d[0]})})},_index:function(i){var t=-1;return this.items.each(function(o){this===i&&(t=o)}),t},next:function(){var i,t=this.current;if(i=this._index(t),i+1>=this.items.length)if(this.options.loop)i=-1;else return;this._goto(this.items[i+1])},prev:function(){var i,t=this.current;if(i=this._index(t),i-1<0)if(this.options.loop)i=this.items.length;else return;this._goto(this.items[i-1])},open:function(i){return this._setupItems(),this._goto(i),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:function(){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={listDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationShortMode:!0,thousandSeparator:",",decimalSeparator:",",itemTag:"li",defaultTemplateTag:"div",sortClass:null,sortDir:"asc",sortInitial:!0,filterClass:null,filter:null,filterString:"",filters:null,source:null,showItemsSteps:!1,showSearch:!1,showListInfo:!1,showPagination:!1,showActivity:!0,muteList:!0,items:-1,itemsSteps:"all, 10,25,50,100",itemsAllTitle:"Show all",listItemsCountTitle:"Show entries:",listSearchTitle:"Search:",listInfoTitle:"Showing $1 to $2 of $3 entries",paginationPrevTitle:"Prev",paginationNextTitle:"Next",activityType:"cycle",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,searchThreshold:500,clsComponent:"",clsList:"",clsListItem:"",clsListTop:"",clsItemsCount:"",clsSearch:"",clsListBottom:"",clsListInfo:"",clsListPagination:"",clsPagination:"",clsTemplateTag:"",onDraw:e.noop,onDrawItem:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoaded:e.noop,onDataLoadError:e.noop,onFilterItemAccepted:e.noop,onFilterItemDeclined:e.noop,onListCreate:e.noop};e.listSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroListSetup!==void 0&&e.listSetup(globalThis.metroListSetup),e.Component("list",{init:function(t,o){return this._super(o,t,i,{currentPage:1,pagesCount:1,filterString:"",data:null,activity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,filterIndex:null,filtersIndexes:[],itemTemplate:null,sort:{dir:"asc",colIndex:0},header:null,items:[]}),this},_create:function(){var t=this,o=this.options;o.source?(t._fireEvent("data-load",{source:o.source}),fetch(o.source).then(e.fetch.status).then(e.fetch.json).then(function(a){t._fireEvent("data-loaded",{source:o.source,data:a}),t._build(a)}).catch(function(a){t._fireEvent("data-load-error",{source:o.source,error:a})})):t._build()},_build:function(t){l.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createStructure(),this._createEvents(),this._fireEvent("list-create")},_createItemsFromHTML:function(){var t=this,o=this.element,a=this.options,s=(""+a.clsTemplateTag).toArray(",");this.items=[],r.each(o.children(a.itemTag),function(){var c=r(this).children("*");s.length&&(s.length===1?c.addClass(s[0]):c.each(function(p,d){r(d).addClass(s[p]?s[p]:s[s.length-1])})),t.items.push(this)})},_createItemsFromJSON:function(t){var o=this,a=this.options,s=(""+a.clsTemplateTag).toArray(",");this.items=[],l.isValue(t.template)&&(this.itemTemplate=t.template),l.isValue(t.header)&&(this.header=t.header),l.isValue(t.data)&&r.each(t.data,function(){var c="",p=this,d=document.createElement(a.itemTag),m=o.itemTemplate,f;if(l.isValue(m))c=e.template(m,p,{beginToken:a.templateBeginToken,endToken:a.templateEndToken});else for(var g in p)c+="<"+a.defaultTemplateTag+">"+p[g]+"</"+a.defaultTemplateTag+">";d.innerHTML=c,f=r(d).children("*"),s.length&&(s.length===1?f.addClass(s[0]):f.each(function(u,A){r(A).addClass(s[u]?s[u]:s[s.length-1])})),o.items.push(d)})},_createTopBlock:function(){var t=this,o=this.element,a=this.options,s=r("<div>").addClass("list-top").addClass(a.clsListTop).insertBefore(o),c,p,d,m;return c=l.isValue(this.wrapperSearch)?this.wrapperSearch:r("<div>").addClass("list-search-block").addClass(a.clsSearch).appendTo(s),p=r("<input>").attr("type","text").appendTo(c),e.makePlugin(p,"input",{prepend:a.listSearchTitle}),a.showSearch!==!0&&c.hide(),d=l.isValue(this.wrapperRows)?this.wrapperRows:r("<div>").addClass("list-rows-block").addClass(a.clsItemsCount).appendTo(s),m=r("<select>").appendTo(d),r.each(a.itemsSteps.toArray(),function(){var f=r("<option>").attr("value",this==="all"?-1:this).text(this==="all"?a.itemsAllTitle:this).appendTo(m);+this==+a.items&&f.attr("selected","selected")}),m.select({filter:!1,prepend:a.listItemsCountTitle,onChange:function(f){+f!=+a.items&&(a.items=parseInt(f),t.currentPage=1,t._draw(),t._fireEvent("rows-count-change",{val:f}))}}),a.showItemsSteps!==!0&&d.hide(),s},_createBottomBlock:function(){var t=this.element,o=this.options,a=r("<div>").addClass("list-bottom").addClass(o.clsListBottom).insertAfter(t),s,c;return s=r("<div>").addClass("list-info").addClass(o.clsListInfo).appendTo(a),o.showListInfo!==!0&&s.hide(),c=r("<div>").addClass("list-pagination").addClass(o.clsListPagination).appendTo(a),o.showPagination!==!0&&c.hide(),a},_createStructure:function(){var t=this,o=this.element,a=this.options,s,c=r(a.searchWrapper),p=r(a.infoWrapper),d=r(a.rowsWrapper),m=r(a.paginationWrapper);c.length>0&&(this.wrapperSearch=c),p.length>0&&(this.wrapperInfo=p),d.length>0&&(this.wrapperRows=d),m.length>0&&(this.wrapperPagination=m),o.parent().hasClass("list-component")?s=o.parent():(s=r("<div>").addClass("list-component").insertBefore(o),o.appendTo(s)),s.addClass(a.clsComponent),this.activity=r("<div>").addClass("list-progress").appendTo(s),r("<div>").activity({type:a.activityType,style:a.activityStyle}).appendTo(this.activity),a.showActivity!==!0&&this.activity.css({visibility:"hidden"}),o.addClass(a.clsList),this._createTopBlock(),this._createBottomBlock(),l.isValue(a.filterString)&&(this.filterString=a.filterString);var f;l.isValue(a.filter)&&(f=l.isFunc(a.filter),f===!1&&(f=l.func(a.filter)),t.filterIndex=t.addFilter(f)),l.isValue(a.filters)&&typeof a.filters=="string"&&r.each(a.filters.toArray(),function(){f=l.isFunc(this),f!==!1&&t.filtersIndexes.push(t.addFilter(f))}),this.currentPage=1,a.sortInitial!==!1?this.sorting(a.sortClass,a.sortDir,!0):this.draw()},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.parent(),c=s.find(".list-search-block input"),p;function d(f){t.filterString=this.value.trim().toLowerCase(),t.filterString[t.filterString.length-1]!==":"&&(t.currentPage=1,t._draw())}d=Hooks.useDebounce(d,a.searchThreshold),c.on(e.events.inputchange,d),l.isValue(this.wrapperSearch)&&(p=this.wrapperSearch.find("input"),p.length>0&&p.on(e.events.inputchange,d));function m(f){var g=r(f),u=g.parent();u.hasClass("active")||(u.hasClass("service")?g.data("page")==="prev"?(t.currentPage--,t.currentPage===0&&(t.currentPage=1)):(t.currentPage++,t.currentPage>t.pagesCount&&(t.currentPage=t.pagesCount)):t.currentPage=g.data("page"),t._draw())}s.on(e.events.click,".pagination .page-link",function(){m(this)}),l.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",function(){m(this)})},_info:function(t,o,a){var s=this.element,c=this.options,p=s.parent(),d=l.isValue(this.wrapperInfo)?this.wrapperInfo:p.find(".list-info"),m;d.length!==0&&(o>a&&(o=a),this.items.length===0&&(t=o=a=0),m=c.listInfoTitle,m=m.replace("$1",t),m=m.replace("$2",o),m=m.replace("$3",a),d.html(m))},_paging:function(t){var o=this.element,a=this.options,s=o.parent();this.pagesCount=Math.ceil(t/a.items),e.pagination({length:t,rows:a.items,current:this.currentPage,target:l.isValue(this.wrapperPagination)?this.wrapperPagination:s.find(".list-pagination"),claPagination:a.clsPagination,prevTitle:a.paginationPrevTitle,nextTitle:a.paginationNextTitle,distance:a.paginationShortMode===!0?a.paginationDistance:0})},_filter:function(){var t=this,o=this.options,a,s,c,p,d,m;return l.isValue(this.filterString)||this.filters.length>0?(a=this.items.filter(function(f){if(c="",l.isValue(o.filterClass)){if(p=f.getElementsByClassName(o.filterClass),p.length>0)for(s=0;s<p.length;s++)c+=p[s].textContent}else c=f.textContent;if(d=c.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),m=l.isValue(t.filterString)?d.indexOf(t.filterString)>-1:!0,m===!0&&t.filters.length>0){for(s=0;s<t.filters.length;s++)if(l.exec(t.filters[s],[f])!==!0){m=!1;break}}return m?t._fireEvent("filter-item-accepted",{item:f}):t._fireEvent("filter-item-declined",{item:f}),m}),t._fireEvent("search",{search:t.filterString,items:a})):a=this.items,a},_draw:function(t){var o=this.element,a=this.options,s,c=a.items===-1?0:a.items*(this.currentPage-1),p=a.items===-1?this.items.length-1:c+a.items-1,d;for(d=this._filter(),o.children(a.itemTag).remove(),s=c;s<=p;s++)l.isValue(d[s])&&r(d[s]).addClass(a.clsListItem).appendTo(o),this._fireEvent("draw-item",{item:d[s]});this._info(c+1,p+1,d.length),this._paging(d.length),this.activity.hide(),this._fireEvent("draw"),t!==void 0&&l.exec(t,[o],o[0])},_getItemContent:function(t){let o=this.locale;var a=this.options,s=r(t),c,p,d,m,f=l.isValue(s.data("formatMask"))?s.data("formatMask"):null;if(l.isValue(a.sortClass)){if(d="",p=r(t).find("."+a.sortClass),p.length>0)for(c=0;c<p.length;c++)d+=p[c].textContent;m=p.length>0?p[0].getAttribute("data-format"):""}else d=t.textContent,m=t.getAttribute("data-format");if(d=(""+d).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),l.isValue(m))switch(["number","int","integer","float","money"].indexOf(m)!==-1&&(a.thousandSeparator!==","||a.decimalSeparator!==".")&&(d=l.parseNumber(d,a.thousandSeparator,a.decimalSeparator)),m){case"date":d=f?Datetime.from(d,f,o):datetime(d);break;case"number":d=Number(d);break;case"int":case"integer":d=parseInt(d);break;case"float":d=parseFloat(d);break;case"money":d=l.parseMoney(d);break;case"card":d=l.parseCard(d);break;case"phone":d=l.parsePhone(d);break}return d},deleteItem:function(t){var o,a=[],s,c=l.isFunc(t);for(o=0;o<this.items.length;o++)s=this.items[o],c?l.exec(t,[s])&&a.push(o):s.textContent.includes(t)&&a.push(o);return this.items=l.arrayDeleteByMultipleKeys(this.items,a),this},draw:function(){return this._draw()},sorting:function(t,o,a){var s=this,c=this.options;return l.isValue(t)&&(c.sortClass=t),l.isValue(o)&&["asc","desc"].indexOf(o)>-1&&(c.sortDir=o),this._fireEvent("sort-start",{items:this.items}),this.items.sort(function(p,d){var m=s._getItemContent(p),f=s._getItemContent(d),g=0;return m<f&&(g=c.sortDir==="asc"?-1:1),m>f&&(g=c.sortDir==="asc"?1:-1),g!==0&&s._fireEvent("sort-item-switch",{a:p,b:d,result:g}),g}),this._fireEvent("sort-stop",{items:this.items}),a===!0&&this._draw(),this},filter:function(t){this.filterString=t.trim().toLowerCase(),this.currentPage=1,this._draw()},setData:function(t){var o=this,a=this.element,s=this.options;if(l.isValue(t)===!0){o._createItemsFromJSON(t),a.html(""),l.isValue(s.filterString)&&(o.filterString=s.filterString);var c;l.isValue(s.filter)&&(c=l.isFunc(s.filter),c===!1&&(c=l.func(s.filter)),o.filterIndex=o.addFilter(c)),l.isValue(s.filters)&&typeof s.filters=="string"&&r.each(s.filters.toArray(),function(){c=l.isFunc(this),c!==!1&&o.filtersIndexes.push(o.addFilter(c))}),o.currentPage=1,o.sorting(s.sortClass,s.sortDir,!0)}},loadData:function(t){var o=this,a=this.options;l.isValue(t)===!0&&(a.source=t,this._fireEvent("data-load",{source:a.source}),fetch(a.source).then(e.fetch.status).then(e.fetch.json).then(function(s){o._fireEvent("data-loaded",{source:a.source,data:s}),o.setData(s)}).catch(function(s){o._fireEvent("data-load-error",{source:a.source,error:s})}))},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}this._draw()}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}this._draw()}},first:function(){this.items.length!==0&&(this.currentPage=1,this._draw())},last:function(){this.items.length!==0&&(this.currentPage=this.pagesCount,this._draw())},page:function(t){t<=0&&(t=1),t>this.pagesCount&&(t=this.pagesCount),this.currentPage=t,this._draw()},addFilter:function(t,o){var a=l.isFunc(t);if(a!==!1)return this.filters.push(a),o===!0&&(this.currentPage=1,this.draw()),this.filters.length-1},removeFilter:function(t,o){return l.arrayDeleteByKey(this.filters,t),o===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(t){this.filters=[],t===!0&&(this.currentPage=1,this.draw())},getFilters:function(){return this.filters},getFilterIndex:function(){return this.filterIndex},getFiltersIndexes:function(){return this.filtersIndexes},changeAttribute:function(t){var o=this,a=this.element,s=this.options,c=function(){var m=a.attr("data-sort-dir");l.isValue(m)&&(s.sortDir=m,o.sorting(s.sortClass,s.sortDir,!0))},p=function(){var m=a.attr("data-sort-source");l.isValue(m)&&(s.sortClass=m,o.sorting(s.sortClass,s.sortDir,!0))},d=function(){var m=a.attr("data-filter-string");l.isValue(m)&&(s.filterString=m,o.filter(s.filterString))};switch(t){case"data-sort-dir":c();break;case"data-sort-source":p();break;case"data-filter-string":d();break}},destroy:function(){var t=this.element,o=t.parent(),a=o.find(".list-search-block input"),s;return a.off(e.events.inputchange),l.isValue(this.wrapperSearch)&&(s=this.wrapperSearch.find("input"),s.length>0&&s.off(e.events.inputchange)),o.off(e.events.click,".pagination .page-link"),l.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={listviewDeferred:0,selectable:!1,checkStyle:1,duration:100,view:e.listView.LIST,selectCurrent:!0,structure:{},onNodeInsert:e.noop,onNodeDelete:e.noop,onNodeClean:e.noop,onCollapseNode:e.noop,onExpandNode:e.noop,onGroupNodeClick:e.noop,onNodeClick:e.noop,onNodeDblclick:e.noop,onListViewCreate:e.noop};e.listViewSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroListViewSetup!==void 0&&e.listViewSetup(globalThis.metroListViewSetup),e.Component("listview",{init:function(t,o){return this._super(o,t,i),this},_create:function(){var t=this.element;this._createView(),this._createEvents(),this._fireEvent("listview-create",{element:t})},_createIcon:function(t){var o,a;return a=l.isTag(t)?r(t):r("<img>").attr("src",t),o=r("<span>").addClass("icon"),o.html(a.outerHTML()),o},_createCaption:function(t){return r("<div>").addClass("caption").html(t)},_createContent:function(t){return r("<div>").addClass("content").html(t)},_createToggle:function(){return r("<span>").addClass("node-toggle")},_createNode:function(t){var o=this,a=this.options,s;if(s=r("<li>"),t.caption!==void 0||t.content!==void 0){var c=r("<div>").addClass("data");s.prepend(c),t.caption!==void 0&&c.append(o._createCaption(t.caption)),t.content!==void 0&&c.append(o._createContent(t.content))}if(t.icon!==void 0&&s.prepend(this._createIcon(t.icon)),l.objectLength(a.structure)>0&&r.each(a.structure,function(p,d){t[p]!==void 0&&r("<div>").addClass("node-data item-data-"+p).addClass(t[d]).html(t[p]).appendTo(s)}),t.attributes&&l.isObject(t.attributes))for(let p in t.attributes)s.attr(`data-${p}`,t.attributes[p]);if(t.class&&s.addClass(t.class),t.badge&&s.append(r("<span>").addClass("badge").html(t.badge)),t.badges){let p=r("<div>").addClass("badges").appendTo(s);t.badges.map(d=>{d&&p.append(r(d).addClass("badge"))})}return s},_createView:function(){var t=this,o=this.element,a=this.options,s=o.find("li"),c=l.objectLength(a.structure);o.addClass("listview"),o.find("ul").addClass("listview"),r.each(s,function(){var p=r(this);if(p.data("caption")!==void 0||p.data("content")!==void 0){var d=r("<div>").addClass("data");p.prepend(d),p.data("caption")!==void 0&&d.append(t._createCaption(p.data("caption"))),p.data("content")!==void 0&&d.append(t._createContent(p.data("content")))}if(p.data("icon")!==void 0&&p.prepend(t._createIcon(p.data("icon"))),p.children("ul").length>0?(p.addClass("node-group"),p.append(t._createToggle()),p.data("collapsed")!==!0&&p.addClass("expanded")):p.addClass("node"),p.hasClass("node")){var m=r("<input type='checkbox' data-role='checkbox' data-style='"+a.checkStyle+"'>");m.data("node",p),p.prepend(m)}c>0&&r.each(a.structure,function(f){p.data(f)!==void 0&&r("<div>").addClass("node-data item-data-"+f).addClass(p.data(f)).html(p.data(f)).appendTo(p)}),p.data("class")!==void 0&&p.addClass(p.data("class"))}),this.toggleSelectable(),this.view(a.view)},_createEvents:function(){var t=this,o=this.element,a=this.options;o.on(e.events.dblclick,".node",function(){var s=r(this);t._fireEvent("node-dblclick",{node:s})}),o.on(e.events.click,".node",function(){var s=r(this),c=r(this).attr("href");if(c){globalThis.location.href=c;return}o.find(".node").removeClass("current"),s.toggleClass("current"),a.selectCurrent===!0&&(o.find(".node").removeClass("current-select"),s.toggleClass("current-select")),t._fireEvent("node-click",{node:s})}),o.on(e.events.click,".node-toggle",function(){var s=r(this).closest("li");t.toggleNode(s)}),o.on(e.events.click,".node-group > .data > .caption",function(){var s=r(this).closest("li");o.find(".node-group").removeClass("current-group"),s.addClass("current-group"),t._fireEvent("group-node-click",{node:s})}),o.on(e.events.dblclick,".node-group > .data > .caption",function(){var s=r(this).closest("li");t.toggleNode(s),t._fireEvent("node-dbl-click",{node:s})})},view:function(t){var o=this.element,a=this.options;if(t===void 0)return a.view;a.view=t,r.each(e.listView,function(s,c){o.removeClass("view-"+c),o.find("ul").removeClass("view-"+c)}),o.addClass("view-"+a.view),o.find("ul").addClass("view-"+a.view)},toggleNode:function(t){var o=this.options,a;t=r(t),t.hasClass("node-group")&&(t.toggleClass("expanded"),a=t.hasClass("expanded")!==!0?"slideUp":"slideDown",this._fireEvent("collapse-node",{node:t}),t.children("ul")[a](o.duration))},toggleSelectable:function(){var t=this.element,o=this.options,a=o.selectable===!0?"addClass":"removeClass";t[a]("selectable"),t.find("ul")[a]("selectable")},add:function(t,o){var a=this.element,s=this.options,c,p,d;if(t===null)c=a;else{if(t=r(t),!t.hasClass("node-group"))return;c=t.children("ul"),c.length===0&&(c=r("<ul>").addClass("listview").addClass("view-"+s.view).appendTo(t),d=this._createToggle(),d.appendTo(t),t.addClass("expanded"))}p=this._createNode(o),p.addClass("node").appendTo(c);var m=r("<input type='checkbox'>");return m.data("node",p),p.prepend(m),e.makePlugin(m,"checkbox",{}),this._fireEvent("node-insert",{newNode:p,parentNode:t,list:c}),p},addGroup:function(t){var o=this.element,a=this.options,s;return delete t.icon,s=this._createNode(t),s.addClass("node-group").appendTo(o),s.append(this._createToggle()),s.addClass("expanded"),s.append(r("<ul>").addClass("listview").addClass("view-"+a.view)),this._fireEvent("node-insert",{newNode:s,parentNode:null,list:o}),s},insertBefore:function(t,o){var a,s,c;if(t=r(t),!!t.length)return a=this._createNode(o),a.addClass("node").insertBefore(t),s=a.closest(".node"),c=a.closest("ul"),this._fireEvent("node-insert",{newNode:a,parentNode:s,list:c}),a},insertAfter:function(t,o){var a,s,c;if(t=r(t),!!t.length)return a=this._createNode(o),a.addClass("node").insertAfter(t),s=a.closest(".node"),c=a.closest("ul"),this._fireEvent("node-insert",{newNode:a,parentNode:s,list:c}),a},del:function(t){var o=this.element;if(t=r(t),!!t.length){var a=t.closest("ul"),s=a.closest("li");t.remove(),a.children().length===0&&!a.is(o)&&(a.remove(),s.removeClass("expanded"),s.children(".node-toggle").remove()),this._fireEvent("node-delete",{node:t})}},clean:function(t){t=r(t),t.length&&(t.children("ul").remove(),t.removeClass("expanded"),t.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:t}))},getSelected:function(){var t=this.element,o=[];return r.each(t.find(":checked"),function(){var a=r(this);o.push(a.closest(".node")[0])}),o},clearSelected:function(){this.element.find(":checked").prop("checked",!1),this.element.trigger("change")},selectAll:function(t){this.element.find(".node > .checkbox input").prop("checked",t!==!1),this.element.trigger("change")},selectByAttribute:function(t,o,a){a!==!1&&(a=!0),this.element.find("li["+t+'="'+o+'"] > .checkbox input').prop("checked",a),this.element.trigger("change")},changeAttribute:function(t){var o=this,a=this.element,s=this.options,c=function(){var d="view-"+a.attr("data-view");o.view(d)},p=function(){s.selectable=JSON.parse(a.attr("data-selectable"))===!0,o.toggleSelectable()};switch(t){case"data-view":c();break;case"data-selectable":p();break}},destroy:function(){var t=this.element;return t.off(e.events.click,".node"),t.off(e.events.click,".node-toggle"),t.off(e.events.click,".node-group > .data > .caption"),t.off(e.events.dblclick,".node-group > .data > .caption"),t}})})(Metro,Dom);(function(e,r){"use strict";var l={items:null,loop:!0,height:"auto",width:"100%",duration:1e4,direction:"left",ease:"linear",mode:"default",accentPause:2e3,firstPause:1e3,stopOnHover:!0,clsMarquee:"",clsMarqueeItem:"",onMarqueeItem:e.noop,onMarqueeItemComplete:e.noop,onMarqueeComplete:e.noop,onMarqueeCreate:e.noop};e.marqueeSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroMarqueeSetup!==void 0&&e.marqueeSetup(globalThis.metroMarqueeSetup),e.Component("marquee",{init:function(i,t){return this._super(t,i,l,{origin:null,items:[],running:!1,current:-1,chain:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("marquee-create")},_createStructure:function(){var i=this.element,t=this.options;i.addClass("marquee").addClass(t.clsMarquee),i.css({height:t.height,width:t.width});let o=i.html().split(`
`).map(s=>s.trim()).filter(s=>s.length),a=e.utils.isObject(t.items)||[];this.origin=[...o,...a],this.setItems(this.origin,!0),this.items.length&&(this.current=0,this.createChain(),console.log(this.chain),this.start())},setItems:function(i,t=!0){let o=this.element,a=this.options,s=a.direction.toLowerCase();if(t&&(this.items.length=0),o.clear(),this.items=i.map(c=>r("<div>").html(c).addClass("marquee__item").addClass(a.clsMarqueeItem).appendTo(o)[0]),r(this.items).addClass(s==="left"||s==="right"?"moveLeftRight":"moveUpDown"),a.height==="auto"){let c=0;r(this.items).each(function(){let d=+r(this).outerHeight(!0);d>c&&(c=d)}),o.height(c)}return this},setItem:function(i,t){var o=r(this.items[i]),a,s=this.options,c=this.element;if(o.length)return o.html(t),a=o.outerHeight(!0),s.height==="auto"&&c.height()<a&&c.height(a),this},addItem:function(i,t=-1){var o=this.element,a=this.options,s,c=r(i),p,d;return s=c.length?c:r("<div>").html(i),t<0?o.append(s):(p=this.items[t],p?s.insertBefore(p):o.append(s)),d=s.outerHeight(!0),a.height==="auto"&&o.height()<d&&o.height(d),this},createChain:function(){let i=this.element,t=this.options,o=20,a=t.direction,s=t.ease,c=+t.duration,p=0,d=i[0].getBoundingClientRect();if(this.chain.length=0,t.mode==="default")for(let m of this.items){let f=r(m),g=m.getBoundingClientRect(),u=(d.width-g.width)/2,A;f.attr("data-direction")&&(a=f.attr("data-direction")),f.attr("data-duration")&&(c=+f.attr("data-duration")),f.attr("data-ease")?s=f.attr("data-ease"):s=t.ease,["left","right"].indexOf(a)>-1?A={left:a==="left"?[d.width,-g.width-o]:[-g.width-o,d.width]}:A={top:a==="up"?[d.height,-g.height-o]:[-g.height-o,d.height]},this.chain.push({el:f[0],draw:A,dur:c,ease:s,defer:p===0?+t.firstPause:0}),p++}else for(let m of this.items){let f=r(m),g=m.getBoundingClientRect(),u=(d.width-g.width)/2,A=(d.height-g.height)/2,b,x;c=t.duration/2,f.attr("data-direction")&&(a=f.attr("data-direction").toLowerCase()),f.attr("data-duration")&&(c=+f.attr("data-duration")/2);let v=s?s.split(" "):["linear"];f.attr("data-ease")&&(v=f.attr("data-ease").split(" ")),["left","right"].includes(a)?(b={left:a==="left"?[d.width,u]:[-g.width-o,u]},x={left:a==="left"?[u,-g.width-o]:[u,d.width+o]}):(b={top:a==="up"?[d.height,A]:[-g.height-o,A]},x={top:a==="up"?[A,-g.height-o]:[A,d.height+o]}),this.chain.push({el:f[0],draw:b,dur:c,ease:v[0]||"linear",defer:p===0?+t.firstPause:0}),this.chain.push({el:f[0],draw:x,dur:c,ease:v[1]?v[1]:v[0]?v[0]:"linear",defer:+t.accentPause}),p++}},_createEvents:function(){var i=this,t=this.element,o=this.options;t.on(e.events.enter,function(){o.stopOnHover&&r.pauseAll(i.items)}),t.on(e.events.leave,function(){o.stopOnHover&&r.resumeAll(i.items)});let a=Hooks.useDebounce(s=>{i.stop(),i.setItems(this.items,!0),i.createChain(),i.start()},1e3);r(window).on(e.events.resize,a)},start:function(){let i=this.options;return this.running=!0,r.chain(this.chain,{loop:i.loop,onChainItem:e.utils.isFunc(i.onMarqueeItem),onChainItemComplete:e.utils.isFunc(i.onMarqueeItemComplete),onChainComplete:e.utils.isFunc(i.onMarqueeComplete)}),this},stop:function(){return this.running=!1,r.stopAll(!1),this},changeAttribute:function(){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={masterDeferred:0,effect:"slide",effectFunc:"linear",duration:METRO_ANIMATION_DURATION,controlPrev:"\u{1F850}",controlNext:"\u{1F852}",controlTitle:"Master, page $1 of $2",backgroundImage:"",clsMaster:"",clsControls:"",clsControlPrev:"",clsControlNext:"",clsControlTitle:"",clsPages:"",clsPage:"",onBeforePage:e.noop_true,onBeforeNext:e.noop_true,onBeforePrev:e.noop_true,onNextPage:e.noop,onPrevPage:e.noop,onMasterCreate:e.noop};e.masterSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroMasterSetup!==void 0&&e.masterSetup(globalThis.metroMasterSetup),e.Component("master",{init:function(t,o){return this._super(o,t,i,{pages:[],currentIndex:0,isAnimate:!1,id:l.elementId("master")}),this},_create:function(){var t=this.element,o=this.options;t.addClass("master").addClass(o.clsMaster),t.css({backgroundImage:"url("+o.backgroundImage+")"}),this._createControls(),this._createPages(),this._createEvents(),this._fireEvent("master-create",{element:t})},_createControls:function(){var t=this.element,o=this.options,a=["top","bottom"],s,c,p=t.find(".page");c=String(o.controlTitle).replace("$1","1"),c=String(c).replace("$2",p.length),r.each(a,function(){s=r("<div>").addClass("controls controls-"+this).addClass(o.clsControls).appendTo(t),r("<span>").addClass("prev").addClass(o.clsControlPrev).html(o.controlPrev).appendTo(s),r("<span>").addClass("next").addClass(o.clsControlNext).html(o.controlNext).appendTo(s),r("<span>").addClass("title").addClass(o.clsControlTitle).html(c).appendTo(s)}),this._enableControl("prev",!1)},_enableControl:function(t,o){var a=this.element.find(".controls ."+t);o===!0?a.removeClass("disabled"):a.addClass("disabled")},_setTitle:function(){var t=this.element.find(".controls .title"),o=this.options.controlTitle.replace("$1",this.currentIndex+1);o=o.replace("$2",String(this.pages.length)),t.html(o)},_createPages:function(){var t=this,o=this.element,a=this.options,s=o.find(".pages"),c=o.find(".page");s.length===0&&(s=r("<div>").addClass("pages").appendTo(o)),s.addClass(a.clsPages),r.each(c,function(){var p=r(this);p.data("cover")!==void 0?o.css({backgroundImage:"url("+p.data("cover")+")"}):o.css({backgroundImage:"url("+a.backgroundImage+")"}),p.css({left:"100%"}),p.addClass(a.clsPage).hide(0),t.pages.push(p)}),c.appendTo(s),this.currentIndex=0,this.pages[this.currentIndex]!==void 0&&(this.pages[this.currentIndex].data("cover")!==void 0&&o.css({backgroundImage:"url("+this.pages[this.currentIndex].data("cover")+")"}),this.pages[this.currentIndex].css("left","0").show(0),setTimeout(function(){s.css({height:t.pages[0].outerHeight(!0)+2})},0))},_createEvents:function(){var t=this,o=this.element,a=this.options;o.on(e.events.click,".controls .prev",function(){t.isAnimate!==!0&&l.exec(a.onBeforePrev,[t.currentIndex,t.pages[t.currentIndex],o])===!0&&l.exec(a.onBeforePage,["prev",t.currentIndex,t.pages[t.currentIndex],o])===!0&&t.prev()}),o.on(e.events.click,".controls .next",function(){t.isAnimate!==!0&&l.exec(a.onBeforeNext,[t.currentIndex,t.pages[t.currentIndex],o])===!0&&l.exec(a.onBeforePage,["next",t.currentIndex,t.pages[t.currentIndex],o])===!0&&t.next()}),r(globalThis).on(e.events.resize,function(){o.find(".pages").height(t.pages[t.currentIndex].outerHeight(!0)+2)},{ns:this.id})},_slideToPage:function(t){var o,a,s;this.pages[t]!==void 0&&this.currentIndex!==t&&(s=t>this.currentIndex?"next":"prev",o=this.pages[this.currentIndex],a=this.pages[t],this.currentIndex=t,this._effect(o,a,s))},_slideTo:function(t){var o,a,s=t.toLowerCase()==="next";if(o=this.pages[this.currentIndex],s){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}a=this.pages[this.currentIndex],this._fireEvent(s?"next-page":"prev-page",{current:o,next:a,forward:s}),this._effect(o,a,t)},_effect:function(t,o,a){var s=this,c=this.element,p=this.options,d=c.width(),m=c.find(".pages");this._setTitle(),this.currentIndex===this.pages.length-1?this._enableControl("next",!1):this._enableControl("next",!0),this.currentIndex===0?this._enableControl("prev",!1):this._enableControl("prev",!0),setTimeout(function(){s.isAnimate=!0,m.animate({draw:{height:o.outerHeight(!0)+2},onDone:function(){f()}})},0),m.css("overflow","hidden");function f(){o.data("cover")!==void 0?c.css({backgroundImage:"url("+o.data("cover")+")"}):c.css({backgroundImage:"url("+p.backgroundImage+")"}),m.css("overflow","initial"),s.isAnimate=!1}function g(){t.stop(!0).animate({draw:{left:a==="next"?-d:d},dur:p.duration,ease:p.effectFunc,onDone:function(){t.hide(0)}}),o.stop(!0).css({left:a==="next"?d:-d}).show(0).animate({draw:{left:0},dur:p.duration,ease:p.effectFunc,onDone:function(){f()}})}function u(){t.hide(),o.css({top:0,left:0,opacity:0}).show(function(){f()})}function A(){t.fadeOut(p.duration),o.css({top:0,left:0,opacity:0}).fadeIn(p.duration,"linear",function(){f()})}switch(p.effect){case"fade":A();break;case"switch":u();break;default:g()}},toPage:function(t){this._slideToPage(t)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},changeEffect:function(){this.options.effect=this.element.attr("data-effect")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr("data-effect-func")},changeEffectDuration:function(){this.options.duration=this.element.attr("data-duration")},changeAttribute:function(t){switch(t){case"data-effect":this.changeEffect();break;case"data-effect-func":this.changeEffectFunc();break;case"data-duration":this.changeEffectDuration();break}},destroy:function(){var t=this.element;return t.off(e.events.click,".controls .prev"),t.off(e.events.click,".controls .next"),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";let l={navviewDeferred:0,expandPoint:null,toggle:null,animate:!0,activeState:!0,initialView:"expand",onMenuItemClick:e.noop,onPaneClose:e.noop,onBeforePaneClose:e.noop,onPaneOpen:e.noop,onBeforePaneOpen:e.noop,onNavviewCreate:e.noop};e.navViewSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroNavViewSetup!==void 0&&e.navViewSetup(globalThis.metroNavViewSetup),e.Component("nav-view",{init:function(i,t){return this._super(t,i,l,{pane:null,content:null,paneToggle:null,id:null,menuScrollDistance:0,menuScrollStep:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("navview-create")},_calcMenuHeight:function(){let i=this.element,t,o,a=0;t=i.children(".navview-pane"),t.length!==0&&(o=t.children(".navview-menu-container"),o.length!==0&&(r.each(o.prevAll(),function(){a+=r(this).outerHeight(!0)}),r.each(o.nextAll(),function(){a+=r(this).outerHeight(!0)}),o.css({height:"calc(100% - "+a+"px)"}),this.menuScrollStep=48,this.menuScrollDistance=e.utils.nearest(o[0].scrollHeight-o.height(),48)))},_recalc:function(){let i=this;setTimeout(function(){i._calcMenuHeight()},200)},_createStructure:function(){let i=this.element,t=this.options,o,a,s,c;i.addClass("navview"),i.attr("id")===void 0?(this.id=e.utils.elementId("navview"),i.attr("id",this.id)):this.id=i.attr("id"),t.initialView!=="compact"&&e.utils.mediaExist(t.expandPoint)?i.addClass("expanded"):i.addClass("compacted handmade"),e.storage.getItem("navview:compacted")===!0&&(i.removeClass("expanded"),i.addClass("compacted handmade")),o=i.children(".navview-pane"),a=i.children(".navview-content"),s=r(t.toggle),c=o.children(".navview-menu"),c.length&&(c.prevAll().reverse().wrapAll(r("<div>").addClass("navview-container")),c.wrap(r("<div>").addClass("navview-menu-container")),c.find("a").each(function(){let d=r(this),m=d.children(".icon"),f=d.children(".caption");m.length||d.prepend(r("<span>").addClass("icon").html(f.text()[0]))})),this.pane=o.length>0?o:null,this.content=a.length>0?a:null,this.paneToggle=s.length>0?s:null,t.animate&&i.addClass("animate-panes"),this._recalc()},_createEvents:function(){let i=this,t=this.element,o=this.options,a=t.find(".navview-menu-container"),s=a.children(".navview-menu");a.on("mousewheel",function(c){let p=t.find(".navview-pane").width(),d=c.deltaY>0?-1:1,m=i.menuScrollStep,f=i.menuScrollDistance,g=parseInt(s.css("top"));if(p>50)return!1;d===-1&&Math.abs(g)<=f&&s.css("top",parseInt(s.css("top"))+m*d),d===1&&g<=-m&&s.css("top",parseInt(s.css("top"))+m*d)},{passive:!0}),t.on(e.events.click,".pull-button",function(){i._pullClick(this,"pull")}),t.on(e.events.click,".holder",function(){i._pullClick(this,"holder")}),t.on(e.events.click,".navview-menu li",function(){o.activeState===!0&&(t.find(".navview-menu li.active").removeClass("active"),r(this).toggleClass("active"))}),t.on(e.events.click,".navview-menu li > a",function(){i._fireEvent("menu-item-click",{item:this})}),this.paneToggle!==null&&this.paneToggle.on(e.events.click,function(){}),s.find("a").on(e.events.enter,function(){if(!t.hasClass("compacted"))return;let c=r(this),p=e.utils.rect(this);c.children(".caption").css({position:"fixed",top:p.top,left:p.left+a.width(),borderRadius:4,paddingLeft:10,boxShadow:"0 0 5px 0 var(--shadow-color)"})}),s.find("a").on(e.events.leave,function(){if(!t.hasClass("compacted"))return;let p=r(this).children(".caption");p[0].style=""}),r(globalThis).on(e.events.resize,()=>{this._recalc(),t.hasClass("handmade")||(e.utils.isValue(o.expandPoint)&&e.utils.mediaExist(o.expandPoint)?(t.removeClass("compacted"),t.addClass("expanded")):(t.removeClass("expanded"),t.addClass("compacted")))},{ns:this.id})},_togglePaneMode:function(i=!1){let t=this.element,o=this.options;t.toggleClass("expanded"),t.toggleClass("compacted"),t.toggleClass("handmade"),t.hasClass("compacted")?(e.storage.setItem("navview:compacted",!0),e.utils.exec(o.onPaneClose,null,this)):(e.storage.setItem("navview:compacted",!1),e.utils.exec(o.onPaneOpen,null,this))},_pullClick:function(i,t){let o,a=r(i);return a&&a.hasClass("holder")&&(o=a.parent().find("input"),setTimeout(function(){o.focus()},200)),this._togglePaneMode(t==="pull"),this._recalc(),!0},toggle:function(){this._togglePaneMode()},compact:function(){let i=this.element;i.addClass("compacted handmade"),i.removeClass("expanded"),this._recalc()},expand:function(){let i=this.element;i.addClass("expanded"),i.removeClass("compacted handmade"),this._recalc()},state(){return this.element.hasClass("expanded")?"expand":"compact"},changeAttribute:function(i){},destroy:function(){let i=this.element;i.off(e.events.click,".pull-button, .holder"),i.off(e.events.click,".navview-menu li"),i.off(e.events.click,".navview-menu li > a"),this.paneToggle!==null&&this.paneToggle.off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),i.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={container:null,width:220,timeout:3e3,duration:METRO_ANIMATION_DURATION,distance:"max",animation:"linear",clsNotify:"",onClick:e.noop,onClose:e.noop,onShow:e.noop,onAppend:e.noop,onNotifyCreate:e.noop};e.notifySetup=function(t){l=r.extend({},l,t)},typeof globalThis.metroNotifySetup!==void 0&&e.notifySetup(globalThis.metroNotifySetup);let i={container:null,options:{},notifies:[],setup:function(t){return this.options=r.extend({},l,t),this},reset:function(){let t={width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"max",animation:"linear"};this.options=r.extend({},l,t)},_createContainer:function(){let t=r("<div>").addClass("notify-container");return r("body").prepend(t),t},create:function(t,o,a={}){let s=this,c=this.options,p,d,m,f=e.utils.elementId("notify");if(!t)return!1;p=r("<div>").addClass("notify").addClass(c.clsNotify).attr("id",f),p.css({width:c.width}),o&&(m=r("<div>").addClass("notify-title").html(o),p.prepend(m)),d=r("<div>").addClass("notify-message").html(t),d.appendTo(p),a!==void 0&&(a.clsNotify!==void 0&&p.addClass(a.clsNotify),a.width!==void 0&&p.css({width:a.width})),p.on(e.events.click,function(){e.utils.exec(e.utils.isValue(a.onClick)?a.onClick:c.onClick,null,this),s.kill(r(this).closest(".notify"),e.utils.isValue(a.onClose)?a.onClose:c.onClose)}),i.container===null&&(i.container=i._createContainer()),p.appendTo(i.container),p.hide(function(){e.utils.exec(e.utils.isValue(a.onAppend)?a.onAppend:c.onAppend,null,p[0]);let g=e.utils.isValue(a.duration)?a.duration:c.duration,u=e.utils.isValue(a.animation)?a.animation:c.animation,A=e.utils.isValue(a.distance)?a.distance:c.distance;(A==="max"||isNaN(A))&&(A=r(globalThis).height()),p.show().animate({draw:{marginTop:[A,4],opacity:[0,1]},dur:g,ease:u,onDone:function(){e.utils.exec(c.onNotifyCreate,null,this),a!==void 0&&a.keepOpen===!0||setTimeout(function(){s.kill(p,e.utils.isValue(a.onClose)?a.onClose:c.onClose)},c.timeout),e.utils.exec(e.utils.isValue(a.onShow)?a.onShow:c.onShow,null,p[0])}})})},kill:function(t,o){let a=this,s=this.options;t.off(e.events.click),t.zoomOut(300,"linear",function(){e.utils.exec(o||a.options.onClose,null,t[0]),t.remove()})},killAll:function(){let t=this,o=r(".notify");r.each(o,function(){t.kill(r(this))})}};e.notify=i.setup()})(Metro,Dom);(function(e,r){"use strict";e.pagination=function(l){var i={length:0,rows:0,current:0,target:"body",clsPagination:"",prevTitle:"",nextTitle:"",distance:5,islandSize:3,shortTrack:10},t,o=e.locales[r("html").attr("lang")||"en"],a,s,c;t=r.extend({},i,l);var p=parseInt(t.distance),d=parseInt(t.shortTrack),m=parseInt(t.islandSize),f=parseInt(t.length),g=parseInt(t.rows),u=Math.ceil(f/g),A=parseInt(t.current),b=r(t.target);b.html("");var x=r("<ul>").addClass("pagination").addClass(t.clsPagination).appendTo(b);if(f!==0&&g!==-1){var v=function(I,B,k){var w,E;return w=r("<li>").addClass("page-item").addClass(B),E=r("<a>").addClass("page-link").html(I),E.data("page",k),E.appendTo(w),w};if(s=v(t.prevTitle||o.label_prev,"service prev-page","prev"),x.append(s),x.append(v(1,A===1?"active":"",1)),p===0||u<=d)for(a=2;a<u;a++)x.append(v(a,a===A?"active":"",a));else if(A<p){for(a=2;a<=p;a++)x.append(v(a,a===A?"active":"",a));u>p&&x.append(v("...","no-link",null))}else if(A<=u&&A>u-p+1)for(u>p&&x.append(v("...","no-link",null)),a=u-p+1;a<u;a++)x.append(v(a,a===A?"active":"",a));else{x.append(v("...","no-link",null));for(let I=m;I>0;I--)x.append(v(A-I,"",A-I));x.append(v(A,"active",A));for(let I=1;I<=m;I++)x.append(v(A+I,"",A+I));x.append(v("...","no-link",null))}return(u>1||A<u)&&x.append(v(u,A===u?"active":"",u)),c=v(t.nextTitle||o.label_next,"service next-page","next"),x.append(c),A===1&&s.addClass("disabled"),A===u&&c.addClass("disabled"),f===0&&(x.addClass("disabled"),x.children().addClass("disabled")),x}}})(Metro,Dom);(function(e,r){"use strict";var l={panelDeferred:0,id:null,titleCaption:"",titleIcon:"",collapsible:!1,collapsed:!1,collapseDuration:100,width:"auto",height:"auto",draggable:!1,customButtons:null,clsCustomButton:"",clsPanel:"",clsTitle:"",clsTitleCaption:"",clsTitleIcon:"",clsContent:"",clsCollapseToggle:"",onCollapse:e.noop,onExpand:e.noop,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onPanelCreate:e.noop};e.panelSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroPanelSetup!==void 0&&e.panelSetup(globalThis.metroPanelSetup),e.Component("panel",{init:function(i,t){return this._super(t,i,l),this},_addCustomButtons:function(i){var t=this.element,o=this.options,a=t.closest(".panel").find(".panel-title"),s,c=[];if(c=e.utils.isObject(i),!c){console.warn("Unknown format for custom buttons",i);return}if(a.length===0){console.warn("No place for custom buttons");return}return s=a.find(".custom-buttons"),s.length===0?s=r("<div>").addClass("custom-buttons").appendTo(a):(s.find(".btn-custom").off(e.events.click),s.html("")),r.each(c,function(){var p=this,d=r("<span>");d.addClass("button btn-custom").addClass(o.clsCustomButton).addClass(p.cls).attr("tabindex",-1).html(p.html),p.attr&&typeof p.attr=="object"&&r.each(p.attr,function(m,f){d.attr(Str.dashedName(m),f)}),d.data("action",p.onclick),s.prepend(d)}),a.on(e.events.click,".btn-custom",function(p){if(!e.utils.isRightMouse(p)){var d=r(this),m=d.data("action");e.utils.exec(m,[d],this)}}),this},_create:function(){var i=this.element,t=this.options,o=r("<div>").addClass("panel").addClass(t.clsPanel),a=t.id?t.id:e.utils.elementId("panel"),s=i[0].className,c;if(o.attr("id",a).addClass(s),o.insertBefore(i),i.appendTo(o),i[0].className="",i.addClass("panel-content").addClass(t.clsContent).appendTo(o),t.titleCaption!==""||t.titleIcon!==""||t.collapsible===!0){if(c=r("<div>").addClass("panel-title").addClass(t.clsTitle),t.titleCaption!==""&&r("<span>").addClass("caption").addClass(t.clsTitleCaption).html(t.titleCaption).appendTo(c),t.titleIcon!==""&&r(t.titleIcon).addClass("icon").addClass(t.clsTitleIcon).appendTo(c),t.collapsible===!0){var p=r("<span>").addClass("dropdown-toggle marker-center active-toggle").addClass(t.clsCollapseToggle).appendTo(c);e.makePlugin(i,"collapse",{toggleElement:p,duration:t.collapseDuration,onCollapse:t.onCollapse,onExpand:t.onExpand}),t.collapsed===!0&&this.collapse()}c.appendTo(o)}if(c&&e.utils.isValue(t.customButtons)&&this._addCustomButtons(t.customButtons),t.draggable===!0){var d;c?d=c.find(".caption, .icon"):d=o,e.makePlugin(o,"draggable",{dragContext:o[0],dragElement:d,onDragStart:t.onDragStart,onDragStop:t.onDragStop,onDragMove:t.onDragMove})}t.width!=="auto"&&parseInt(t.width)>=0&&o.outerWidth(parseInt(t.width)),t.height!=="auto"&&parseInt(t.height)>=0&&(o.outerHeight(parseInt(t.height)),i.css({overflow:"auto"})),this.panel=o,this._fireEvent("panel-create",{element:i,panel:o})},customButtons:function(i){return this._addCustomButtons(i)},collapse:function(){var i=this.element;e.utils.isMetroObject(i,"collapse")!==!1&&e.getPlugin(i,"collapse").collapse()},open:function(){this.expand()},close:function(){this.collapse()},expand:function(){var i=this.element;e.utils.isMetroObject(i,"collapse")!==!1&&e.getPlugin(i,"collapse").expand()},changeAttribute:function(i){},destroy:function(){var i=this.element,t=this.options;return t.collapsible===!0&&e.getPlugin(i,"collapse").destroy(),t.draggable===!0&&e.getPlugin(i,"draggable").destroy(),i}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={popoverDeferred:0,popoverText:"",popoverHide:3e3,popoverTimeout:10,popoverOffset:10,popoverTrigger:e.popoverEvents.HOVER,popoverPosition:e.position.TOP,hideOnLeave:!1,closeButton:!0,clsPopover:"",clsPopoverContent:"",onPopoverShow:e.noop,onPopoverHide:e.noop,onPopoverCreate:e.noop};e.popoverSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroPopoverSetup!==void 0&&e.popoverSetup(globalThis.metroPopoverSetup),e.Component("popover",{init:function(t,o){return this._super(o,t,i,{popover:null,popovered:!1,size:{width:0,height:0},id:l.elementId("popover")}),this},_create:function(){this._createEvents(),this._fireEvent("popover-create",{element:this.element})},_createEvents:function(){var t=this,o=this.element,a=this.options,s;switch(a.popoverTrigger){case e.popoverEvents.CLICK:s=e.events.click;break;case e.popoverEvents.FOCUS:s=e.events.focus;break;default:s=e.events.enter}o.on(s,function(){t.popover!==null||t.popovered===!0||setTimeout(function(){t.createPopover(),t._fireEvent("popover-show",{popover:t.popover}),a.popoverHide>0&&setTimeout(function(){t.removePopover()},a.popoverHide)},a.popoverTimeout)}),a.hideOnLeave===!0&&o.on(e.events.leave,function(){t.removePopover()}),r(globalThis).on(e.events.scroll,function(){t.popover!==null&&t.setPosition()},{ns:this.id})},setPosition:function(){var t=this.popover,o=this.size,a=this.options,s=this.element;a.popoverPosition===e.position.BOTTOM?(t.addClass("bottom"),t.css({top:s.offset().top-r(globalThis).scrollTop()+s.outerHeight()+a.popoverOffset,left:s.offset().left+s.outerWidth()/2-o.width/2-r(globalThis).scrollLeft()})):a.popoverPosition===e.position.RIGHT?(t.addClass("right"),t.css({top:s.offset().top+s.outerHeight()/2-o.height/2-r(globalThis).scrollTop(),left:s.offset().left+s.outerWidth()-r(globalThis).scrollLeft()+a.popoverOffset})):a.popoverPosition===e.position.LEFT?(t.addClass("left"),t.css({top:s.offset().top+s.outerHeight()/2-o.height/2-r(globalThis).scrollTop(),left:s.offset().left-o.width-r(globalThis).scrollLeft()-a.popoverOffset})):(t.addClass("top"),t.css({top:s.offset().top-r(globalThis).scrollTop()-o.height-a.popoverOffset,left:s.offset().left+s.outerWidth()/2-o.width/2-r(globalThis).scrollLeft()}))},createPopover:function(){var t=this,o=this.elem,a=this.element,s=this.options,c,p,d=l.elementId("popover"),m;if(!this.popovered){switch(c=r("<div>").addClass("popover neb").addClass(s.clsPopover),c.attr("id",d),r("<div>").addClass("popover-content").addClass(s.clsPopoverContent).html(s.popoverText).appendTo(c),s.popoverHide===0&&s.closeButton===!0&&(m=r("<button>").addClass("square small popover-close-button").html("&times;").appendTo(c),m.on(e.events.click,function(){t.removePopover()})),s.popoverPosition){case e.position.TOP:p="neb-s";break;case e.position.BOTTOM:p="neb-n";break;case e.position.RIGHT:p="neb-w";break;case e.position.LEFT:p="neb-e";break}if(c.addClass(p),s.closeButton!==!0&&c.on(e.events.click,function(){t.removePopover()}),this.popover=c,this.size=l.hiddenElementSize(c),o.tagName==="TD"||o.tagName==="TH"){var f=r("<div/>").css("display","inline-block").html(a.html());a.html(f),a=f}this.setPosition(),c.appendTo(r("body")),this.popovered=!0,this._fireEvent("popover-create",{popover:c})}},removePopover:function(){var t=this,o=this.options.onPopoverHide===e.noop?0:300,a=this.popover;this.popovered&&(this._fireEvent("popover-hide",{popover:a}),setTimeout(function(){a.hide(0,function(){a.remove(),t.popover=null,t.popovered=!1})},o))},show:function(){var t=this,o=this.options;this.popovered!==!0&&setTimeout(function(){t.createPopover(),t._fireEvent("popover-show",{popover:t.popover}),o.popoverHide>0&&setTimeout(function(){t.removePopover()},o.popoverHide)},o.popoverTimeout)},hide:function(){this.removePopover()},changeAttribute:function(t){var o=this,a=this.element,s=this.options,c=function(){s.popoverText=a.attr("data-popover-text"),o.popover&&(o.popover.find(".popover-content").html(s.popoverText),o.setPosition())},p=function(){s.popoverPosition=a.attr("data-popover-position"),o.setPosition()};switch(t){case"data-popover-text":c();break;case"data-popover-position":p();break}},destroy:function(){var t=this.element,o=this.options,a;switch(o.popoverTrigger){case e.popoverEvents.CLICK:a=e.events.click;break;case e.popoverEvents.FOCUS:a=e.events.focus;break;default:a=e.events.enter}return t.off(a),o.hideOnLeave===!0&&t.off(e.events.leave),r(globalThis).off(e.events.scroll,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l={progressDeferred:0,showValue:!1,showLabel:!1,label:"Progress:",value:0,buffer:0,type:"bar",small:!1,clsProgress:"",clsBack:"",clsBar:"",clsBuffer:"",clsValue:"",clsLabel:"",clsData:"",onValueChange:e.noop,onBufferChange:e.noop,onComplete:e.noop,onBuffered:e.noop,onProgressCreate:e.noop};e.progressSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroProgressSetup!==void 0&&e.progressSetup(globalThis.metroProgressSetup),e.Component("progress",{init:function(i,t){return this._super(t,i,l,{value:0,buffer:0}),this},_create:function(){var i=this.element,t=this.elem,o=this.options;typeof o.type=="string"&&(o.type=o.type.toLowerCase()),i.html("").addClass("progress"),this.component=i.wrap("<div>").addClass("progress-component").addClass(o.clsProgress);function a(){t.innerHTML='<div class="bar"></div>'}function s(){t.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                `}function c(){i.addClass("with-load"),t.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                    <div class="load"></div>
                `}function p(){i.addClass("line")}switch(o.type){case"buffer":s();break;case"load":c();break;case"line":p();break;default:a()}o.small===!0&&i.addClass("small"),i.addClass(o.clsBack),i.find(".bar").addClass(o.clsBar),i.find(".buffer").addClass(o.clsBuffer);var d=r("<div>").addClass("progress-data").addClass(o.clsData).insertBefore(i),m=r("<div>").addClass("progress-label").addClass(o.clsLabel).html(o.label).appendTo(d),f=r("<div>").addClass("progress-value").addClass(o.clsLabel).html(o.value).appendTo(d);o.showLabel===!1&&m.hide(),o.showValue===!1&&f.hide(),this.val(o.value),this.buff(o.buffer),this._fireEvent("progress-create",{element:i})},val:function(i){var t=this,o=this.element,a=this.options,s=this.component.find(".progress-value");if(i===void 0)return t.value;var c=o.find(".bar");if(c.length===0)return!1;this.value=parseInt(i,10),c.css("width",this.value+"%"),s.html(this.value+"%"),this._fireEvent("value-change",{val:this.value}),this.value===100&&this._fireEvent("complete",{val:this.value})},buff:function(i){var t=this,o=this.element;if(i===void 0)return t.buffer;var a=o.find(".buffer");if(a.length===0)return!1;this.buffer=parseInt(i,10),a.css("width",this.buffer+"%"),this._fireEvent("buffer-change",{val:this.buffer}),this.buffer===100&&this._fireEvent("buffered",{val:this.buffer})},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(i){switch(i){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break}},destroy:function(){return this.component.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={ratingDeferred:0,label:"",static:!1,title:null,value:0,values:null,message:"",stars:5,onColor:null,offColor:null,roundFunc:"round",half:!0,symbol:"\u2605",clsRating:"",clsTitle:"",clsStars:"",clsResult:"",clsLabel:"",onStarClick:e.noop,onRatingCreate:e.noop};e.ratingSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroRatingSetup!==void 0&&e.ratingSetup(globalThis.metroRatingSetup),e.Component("rating",{init:function(t,o){return this._super(o,t,i,{value:0,originValue:0,values:[],rate:0,rating:null}),this},_create:function(){var t=this.element,o=this.options,a;if(isNaN(o.value)?o.value=0:o.value=parseFloat(o.value).toFixed(1),o.values!==null)Array.isArray(o.values)?this.values=o.values:typeof o.values=="string"&&(this.values=o.values.toArray());else for(a=1;a<=o.stars;a++)this.values.push(a);this.originValue=o.value,this.value=o.value>0&&o.roundFunc!=="none"?Math[o.roundFunc](o.value):Math.abs(o.value),this._createRating(),this._createEvents(),this._fireEvent("rating-create",{element:t})},_createRating:function(){var t=this.element,o=this.options,a=l.elementId("rating"),s,c,p,d,m=e.sheet,f=o.static?Math.floor(this.originValue):this.value,g=t.wrap("<div>").addClass("rating "+t[0].className).addClass(o.clsRating);for(t.val(this.value),g.attr("id",t.id()?"rating--"+t.id():a),c=r("<ul>").addClass("stars").addClass(o.clsStars).appendTo(g),s=1;s<=o.stars;s++)d=r("<li>").attr("data-symbol",o.symbol).data("value",this.values[s-1]).appendTo(c),s<=f&&d.addClass("on");if(p=r("<span>").addClass("result").addClass(o.clsResult).appendTo(g),p.html(o.message),o.offColor!==null&&(o.offColor.includes("var(")||Farbe.Routines.isColor(o.offColor)),o.onColor!==null&&(o.onColor.includes("var(")||Farbe.Routines.isColor(o.onColor))&&(l.addCssRule(m,"#"+a+" .stars:hover li","color: "+o.onColor+";"),l.addCssRule(m,"#"+a+" .stars li.on","color: "+o.onColor+";"),l.addCssRule(m,"#"+a+" .stars li.half::after","color: "+o.onColor+";")),o.title!==null){var u=r("<span>").addClass("title").addClass(o.clsTitle).html(o.title);g.prepend(u)}if(o.static===!0&&(g.addClass("static"),o.half===!0)){var A=Math.round(this.originValue%1*10);A>0&&A<=9&&g.find(".stars li.on").last().next("li").addClass("half half-"+A*10)}if(t[0].className="",o.copyInlineStyles===!0)for(s=0;s<t[0].style.length;s++)g.css(t[0].style[s],t.css(t[0].style[s]));if(o.label){var b=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(g);t.attr("id")&&b.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&b.addClass("rtl")}t.is(":disabled")?this.disable():this.enable(),this.rating=g},_createEvents:function(){var t=this,o=this.element,a=this.options,s=this.rating;s.on(e.events.click,".stars li",function(){if(a.static!==!0){var c=r(this),p=c.data("value");c.addClass("scale"),setTimeout(function(){c.removeClass("scale")},300),o.val(p).trigger("change"),c.addClass("on"),c.prevAll().addClass("on"),c.nextAll().removeClass("on"),t._fireEvent("star-click",{value:p,star:c[0]})}})},val:function(t){var o=this,a=this.element,s=this.options,c=this.rating;if(t===void 0)return this.value;this.value=t>0?Math[s.roundFunc](t):0,a.val(this.value).trigger("change");var p=c.find(".stars li").removeClass("on");return r.each(p,function(){var d=r(this);d.data("value")<=o.value&&d.addClass("on")}),this},msg:function(t){var o=this.rating;if(t!==void 0)return o.find(".result").html(t),this},static:function(t){var o=this.options,a=this.rating;o.static=t,t===!0?a.addClass("static"):a.removeClass("static")},changeAttributeValue:function(t){var o=this.element,a=t==="value"?o.val():o.attr("data-value");this.val(a)},changeAttributeMessage:function(){var t=this.element,o=t.attr("data-message");this.msg(o)},changeAttributeStatic:function(){var t=this.element,o=JSON.parse(t.attr("data-static"))===!0;this.static(o)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"value":case"data-value":this.changeAttributeValue(t);break;case"disabled":this.toggleState();break;case"data-message":this.changeAttributeMessage();break;case"data-static":this.changeAttributeStatic();break}},destroy:function(){var t=this.element,o=this.rating;return o.off(e.events.click,".stars li"),t}})})(Metro,Dom);(function(e,r){"use strict";var l={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,sort:"",limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",sortRules:"",showSearch:!0,showOrder:!0,showRowsCount:!0,template:"",clsBody:"",clsItem:"",clsPagination:"",clsSearchBlock:"",clsOrderBlock:"",clsRowsCountBlock:"",onLoad:i=>i,onDrawRow:e.noop,onDrawCell:e.noop,onDatasetCreate:e.noop};e.remoteDatasetSetup=function(i){l=r.extend({},l,i)},typeof window.metroRemoteDatasetSetup!==void 0&&e.remoteDatasetSetup(window.metroRemoteDatasetSetup),e.Component("remote-dataset",{init:function(i,t){return this._super(t,i,l,{data:null,total:0}),this},_create:function(){let i=this.options;this.offset=i.offset,this.rowSteps=i.rowsSteps.toArray(","),this.limit=+i.rows,this.url=i.url,this.search="";let[t,o]=i.sort.toArray(":");this.sortField=t,this.sortOrder=o,this.template=e.utils.exec(i.template),this.sortRules=i.sortRules.toArray(",").filter(a=>a).map(a=>a.toArray(":")),this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("dataset-create")},_loadData:async function(i=!1){let t=this.options;if(!this.url)return;let o=this.url+"?"+t.limitKey+"="+this.limit+"&"+t.offsetKey+"="+this.offset;this.sortField&&(o+="&"+t.sortKey+"="+this.sortField+"&"+t.orderKey+"="+this.sortOrder),this.search&&(o+="&"+t.searchKey+"="+this.search);let a=await fetch(o,{method:t.method});a.ok!==!1&&(this.data=e.utils.exec(t.onLoad,[await a.json()],this),this._createEntries(i))},_createStructure:function(){var i=this,t=this.element,o=this.options;let a;t.addClass("remote-dataset"),t.append(a=r("<div>").addClass("dataset-entry")),a.html(`
                <div class="service-block">
                    <div class="search-block ${o.clsSearchBlock} ${o.showSearch?"":"hide-block"}">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                   
                    <div class="order-block ${o.clsOrderBlock} ${this.sortRules.length===0||o.showOrder===!1?"hide-block":""}">
                        <select name="sort-order" data-role="select" data-filter="false">
                            ${this.sortRules.map(s=>`
                                <option value="${s[0]}:${s[1]}" 
                                        ${s[0]===this.sortField&&s[1]===this.sortOrder?"selected":""}
                                        data-icon="${s[3]?s[3]:""}"
                                >
                                    ${s[2]}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                   
                    <div class="count-block ${o.clsRowsCountBlock} ${o.showRowsCount?"":"hide-block"}">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(s=>`
                                <option value="${s}" ${+s===this.rowsCount?"selected":""}>
                                    ${s}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                </div>
                <div class="dataset-body"></div>
            `),this.body=a.find(".dataset-body").addClass(o.clsBody),this.loadMore=r("<div>").addClass("dataset-load-more"),this.loadMore.html(`
                <button class="button large cycle link load-more-button">
                    <span class="icon">\u27F3</span>
                    ${this.strings.label_load_more}
                </button>
            `).appendTo(t),t.append(this.pagination=r("<div>").addClass("dataset-pagination"))},_createEvents:function(){let i=this,t=this.element,o=this.options;t.on("click",".page-link",function(){let s=r(this).parent();if(s.hasClass("service")){s.hasClass("prev-page")?(i.offset-=i.limit,i.offset<0&&(i.offset=0)):i.offset+=i.limit,i._loadData().then(()=>{});return}i.offset=r(this).data("page")*i.limit-i.limit,i._loadData().then(()=>{})});let a=Hooks.useDebounce(()=>{let s=t.find("input[name=search]").val().trim();if(s===""){this.search="",this.url=o.url,this._loadData().then(()=>{});return}s.length<3||(this.search=s,this.url=o.searchUrl,this._loadData().then(()=>{}))},300);t.on(e.events.inputchange,"input[name=search]",a),t.on("change","select[name=rows-count]",function(){i.limit=+r(this).val(),i.offset=0,i._loadData().then(()=>{})}),t.on("change","select[name=sort-order]",function(){let[s,c]=r(this).val().split(":");i.url=o.url,i.sortField=s,i.sortOrder=c,i.offset=0,i._loadData().then(()=>{})}),t.on("click",".load-more-button",function(){i.offset+=i.limit,i._loadData(!0).then(()=>{})})},_createEntries:function(i=!1){var t=this,o=this.element,a=this.options;if(!this.data)return;let s=e.utils.isValue(this.data[a.totalKey]);this.entries=this.data[a.dataKey],this.total=this.data[a.totalKey],i===!1&&this.body.clear(),this.entries.forEach((c,p)=>{let d=r("<div>").addClass("dataset-item").addClass(a.clsItem).addClass(p%2===0?"even":"odd"),m=e.utils.exec(a.template,[c],c);d.html(m).appendTo(t.body)}),s&&!a.shortPagination?e.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:a.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},setup:function(i){},changeAttribute:function(i,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,fields:"",sortableFields:"",colSize:"",sort:"",sortOrder:"asc",captions:null,limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",clsTable:"",clsPagination:"",onLoad:i=>i,onDrawRow:e.noop,onDrawCell:e.noop,onDrawHeadCell:e.noop,onTableCreate:e.noop};e.remoteTableSetup=function(i){l=r.extend({},l,i)},typeof window.metroRemoteTableSetup!==void 0&&e.remoteTableSetup(window.metroRemoteTableSetup),e.Component("remote-table",{init:function(i,t){return this._super(t,i,l,{data:null,total:0}),this},_create:function(){let i=this.options;this.offset=i.offset,this.fields=i.fields.toArray(","),this.captions=i.captions?i.captions.toArray(","):null,this.rowSteps=i.rowsSteps.toArray(","),this.colSize=i.colSize.toArray(","),this.limit=+i.rows,this.url=i.url,this.search="",this.sortField=i.sort,this.sortOrder=i.sortOrder,this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("table-create")},_loadData:async function(){let i=this.options;if(!this.url)return;let t=this.url+"?"+i.limitKey+"="+this.limit+"&"+i.offsetKey+"="+this.offset;this.sortField&&(t+="&"+i.sortKey+"="+this.sortField+"&"+i.orderKey+"="+this.sortOrder),this.search&&(t+="&"+i.searchKey+"="+this.search);let o=await fetch(t,{method:i.method});o.ok!==!1&&(this.data=e.utils.exec(i.onLoad,[await o.json()],this),this._createEntries())},_createStructure:function(){let i=this.element,t=this.options,o;i.addClass("table-component remote-table"),i.append(o=r("<div>").addClass("table-entry")),o.html(`
                <div class="search-block row">
                    <div class="cell-sm-10">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                    <div class="cell-sm-2">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(a=>`<option value="${a}" ${+a===this.rowsCount?"selected":""}>${a}</option>`).join("")}
                        </select>
                    </div>
                </div>
                <table class="table ${t.clsTable}">
                    <caption>${t.caption}</caption>
                    <thead></thead>
                    <tbody></tbody>
                </table>
            `),this.header=o.find("thead"),this.body=o.find("tbody"),i.append(this.pagination=r("<div>").addClass("table-pagination"))},_createEvents:function(){let i=this,t=this.element,o=this.options;t.on("click",".page-link",function(){let s=r(this).parent();if(s.hasClass("service")){s.hasClass("prev-page")?(i.offset-=i.limit,i.offset<0&&(i.offset=0)):i.offset+=i.limit,i._loadData().then(()=>{});return}i.offset=r(this).data("page")*i.limit-i.limit,i._loadData().then(()=>{})});let a=Hooks.useDebounce(()=>{let s=t.find("input[name=search]").val().trim();if(s===""){this.search="",this.url=o.url,this._loadData().then(()=>{});return}s.length<3||(this.search=s,this.url=o.searchUrl,this._loadData().then(()=>{}))},300);t.on(e.events.inputchange,"input[name=search]",a),t.on("change","select[name=rows-count]",function(){i.limit=+r(this).val(),i.offset=0,i._loadData().then(()=>{})}),t.on("click",".sortable-column",function(){let s=r(this).attr("data-field");i.sortField===s?i.sortOrder=i.sortOrder==="asc"?"desc":"asc":(i.sortField=s,i.sortOrder="asc"),i._loadData().then(()=>{})})},_createEntries:function(){let i=this.options;if(!this.data)return;let t=e.utils.isValue(this.data[i.totalKey]);this.entries=this.data[i.dataKey],this.total=this.data[i.totalKey],this.header.clear(),this.body.clear();let o=r("<tr>").addClass("table-header").appendTo(this.header),a=0;for(let s of Object.keys(this.entries[0])){if(this.fields.length&&!this.fields.includes(s))continue;let c=this.captions?this.captions[a]:s,p=r("<th>").html(c).attr("data-field",s);i.sortableFields&&i.sortableFields.includes(s)&&(p.addClass("sortable-column"),this.sortField===s&&p.addClass(`sort-${this.sortOrder}`)),p.appendTo(o).addClass(`head-cell-${s}`),this.colSize[a]&&p.css("width",this.colSize[a]),e.utils.exec(i.onDrawHeadCell,[p[0],c,s,a,i.sortableFields.includes(s),this.sortField===s,this.sortOrder],this),a++}this.entries.forEach((s,c)=>{let p=r("<tr>").addClass("table-row");this.body.append(p),e.utils.exec(i.onDrawRow,[p,s,c],this);let d=0;for(let m in s){if(this.fields.length&&!this.fields.includes(m))continue;let f=r("<td>").attr("data-label",this.captions?this.captions[d]:m).addClass(`data-cell-${m}`).html(s[m]);p.append(f),e.utils.exec(i.onDrawCell,[f[0],s[m],m,s,c],this),d++}}),t&&!i.shortPagination?e.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:i.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},changeAttribute:function(i,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={resizableDeferred:0,canResize:!0,resizeElement:".resize-element",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,preserveRatio:!1,onResizeStart:e.noop,onResizeStop:e.noop,onResize:e.noop,onResizableCreate:e.noop};e.resizableSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroResizableSetup!==void 0&&e.resizableSetup(globalThis.metroResizableSetup),e.Component("resizable",{init:function(t,o){return this._super(o,t,i,{resizer:null,id:l.elementId("resizable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("resizable-create")},_createStructure:function(){var t=this.element,o=this.options;t.data("canResize",!0),t.addClass("resizable-element"),l.isValue(o.resizeElement)&&t.find(o.resizeElement).length>0?this.resizer=t.find(o.resizeElement):this.resizer=r("<span>").addClass("resize-element").appendTo(t),t.data("canResize",o.canResize)},_createEvents:function(){var t=this,o=this.element,a=this.options;this.resizer.on(e.events.start,function(s){if(o.data("canResize")!==!1){var c=l.pageXY(s),p=parseInt(o.outerWidth()),d=parseInt(o.outerHeight()),m={width:p,height:d};o.addClass("stop-pointer"),t._fireEvent("resize-start",{size:m}),r(document).on(e.events.move,function(f){var g=l.pageXY(f),u={width:p+g.x-c.x,height:d+g.y-c.y};if(a.maxWidth>0&&u.width>a.maxWidth||a.minWidth>0&&u.width<a.minWidth||a.maxHeight>0&&u.height>a.maxHeight||a.minHeight>0&&u.height<a.minHeight)return!0;o.css(u),t._fireEvent("resize",{size:u})},{ns:t.id}),r(document).on(e.events.stop,function(){o.removeClass("stop-pointer"),r(document).off(e.events.move,{ns:t.id}),r(document).off(e.events.stop,{ns:t.id});var f={width:parseInt(o.outerWidth()),height:parseInt(o.outerHeight())};t._fireEvent("resize-stop",{size:f})},{ns:t.id}),s.preventDefault(),s.stopPropagation()}})},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(t){var o=this.element,a=this.options,s=function(){a.canResize=JSON.parse(o.attr("data-can-resize"))===!0};switch(t){case"data-can-resize":s();break}},destroy:function(){return this.resizer.off(e.events.start),this.element}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={resizerDeferred:0,onMediaPoint:e.noop,onMediaPointEnter:e.noop,onMediaPointLeave:e.noop,onWindowResize:e.noop,onElementResize:e.noop,onResizerCreate:e.noop};e.resizerSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroResizerSetup!==void 0&&e.resizerSetup(globalThis.metroResizerSetup),e.Component("resizer",{init:function(t,o){return this._super(o,t,i,{size:{width:0,height:0},media:globalThis.METRO_MEDIA,id:l.elementId("resizer")}),this},_create:function(){var t=this.element;this.size={width:t.width(),height:t.height()},this._createStructure(),this._createEvents(),this._fireEvent("resizer-create",{element:t})},_createStructure:function(){},_createEvents:function(){var t=this,o=this.element,a=r.window();a.on("resize",function(){var s=a.width(),c=a.height(),p=o.width(),d=o.height(),m=t.size,f;t._fireEvent("window-resize",{width:s,height:c,media:globalThis.METRO_MEDIA}),(t.size.width!==p||t.size.height!==d)&&(t.size={width:p,height:d},t._fireEvent("element-resize",{width:p,height:d,oldSize:m,media:globalThis.METRO_MEDIA})),t.media.length!==globalThis.METRO_MEDIA.length&&(t.media.length>globalThis.METRO_MEDIA.length?(f=t.media.filter(function(g){return!globalThis.METRO_MEDIA.includes(g)}),t._fireEvent("media-point-leave",{point:f,media:globalThis.METRO_MEDIA})):(f=globalThis.METRO_MEDIA.filter(function(g){return!t.media.includes(g)}),t._fireEvent("media-point-enter",{point:f,media:globalThis.METRO_MEDIA})),t.media=globalThis.METRO_MEDIA,t._fireEvent("media-point",{point:f,media:globalThis.METRO_MEDIA}))},{ns:this.id})},changeAttribute:function(){},destroy:function(){r(globalThis).off("resize",{ns:this.id})}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={ribbonmenuDeferred:0,onStatic:e.noop,onBeforeTab:e.noop_true,onTab:e.noop,onRibbonMenuCreate:e.noop};e.ribbonMenuSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroRibbonMenuSetup!==void 0&&e.ribbonMenuSetup(globalThis.metroRibbonMenuSetup),e.Component("ribbon-menu",{init:function(t,o){return this._super(o,t,i),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("ribbon-menu-create",{element:t})},_createStructure:function(){var t=this.element;t.addClass("ribbon-menu");var o=t.find(".ribbon-toggle-group");r.each(o,function(){var c=r(this);c.buttongroup({clsActive:"active"});var p=0,d=c.find(".ribbon-icon-button");r.each(d,function(){var m=r(this),f=m.outerWidth(!0);f>p&&(p=f)}),c.css("width",p*Math.ceil(d.length/3)+4)}),t.find(".section").addClass("non-active");var a=t.find(".tabs-holder li:not(.static)"),s=t.find(".tabs-holder li.active");s.length>0?this.open(r(s[0])):a.length>0&&this.open(r(a[0]))},_createEvents:function(){var t=this,o=this.element,a=this.options;o.on(e.events.click,".tabs-holder li a",function(s){var c=r(this),p=r(this).parent("li");p.hasClass("static")?a.onStatic===e.noop&&c.attr("href")!==void 0?document.location.href=c.attr("href"):t._fireEvent("static",{tab:p[0]}):l.exec(a.onBeforeTab,[p[0]],o[0])===!0&&t.open(p[0]),s.preventDefault()})},open:function(t){var o=this.element,a=r(t),s=o.find(".tabs-holder li"),c=o.find(".content-holder .section"),p=a.children("a").attr("href"),d=p!=="#"?o.find(p):null;c.addClass("non-active"),s.removeClass("active"),a.addClass("active"),c.removeClass("active"),d&&d.addClass("active").removeClass("non-active"),this._fireEvent("tab",{tab:a[0]})},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,".tabs-holder li a"),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={rippleDeferred:0,rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:e.noop};e.rippleSetup=function(o){i=r.extend({},i,o)},typeof globalThis.metroRippleSetup!==void 0&&e.rippleSetup(globalThis.metroRippleSetup);var t=function(o,a,s,c){var p=r(o),d=l.rect(p[0]),m,f;if(p.length!==0){l.isValue(a)||(a="#fff"),l.isValue(s)||(s=.4),p.css("position")==="static"&&p.css("position","relative"),p.css({overflow:"hidden"}),r(".ripple").remove();var g=Math.max(p.outerWidth(),p.outerHeight()),u=r("<span class='ripple'></span>").css({width:g,height:g});p.prepend(u),c?(m=c.pageX-p.offset().left-u.width()/2,f=c.pageY-p.offset().top-u.height()/2):(m=d.width/2-u.width()/2,f=d.height/2-u.height()/2),u.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(a),s),width:g,height:g,top:f+"px",left:m+"px"}).addClass("rippleEffect"),setTimeout(function(){u.remove()},400)}};e.Component("ripple",{init:function(o,a){return this._super(a,o,i),this},_create:function(){var o=this.element,a=this.options,s=a.rippleTarget==="default"?null:a.rippleTarget;o.on(e.events.click,s,function(c){t(this,a.rippleColor,a.rippleAlpha,c)}),this._fireEvent("riopple-create",{element:o})},changeAttribute:function(o){var a=this.element,s=this.options;function c(){var d=a.attr("data-ripple-color");Farbe.Routines.isColor(d)&&(s.rippleColor=d)}function p(){var d=+a.attr("data-ripple-alpha");isNaN(d)||(s.rippleColor=d)}switch(o){case"data-ripple-color":c();break;case"data-ripple-alpha":p();break}},destroy:function(){var o=this.element,a=this.options,s=a.rippleTarget==="default"?null:a.rippleTarget;o.off(e.events.click,s)}}),e.ripple=t})(Metro,Dom);(function(e,r){"use strict";var l={onSearcherCreate:e.noop};e.searcherSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroSearcherSetup!==void 0&&e.searcherSetup(globalThis.metroSearcherSetup),e.Component("searcher",{init:function(i,t){return this._super(t,i,l,{}),this},_create:function(){var i=this,t=this.element,o=this.options;this._createStructure(),this._createEvents(),this._fireEvent("searcher-create")},_createStructure:function(){var i=this,t=this.element,o=this.options},_createEvents:function(){var i=this,t=this.element,o=this.options},changeAttribute:function(i,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={menuScrollbar:!1,sidebarDeferred:0,position:"left",shift:null,staticShift:null,toggle:null,duration:METRO_ANIMATION_DURATION,static:null,closeOutside:!0,onOpen:e.noop,onClose:e.noop,onToggle:e.noop,onStaticSet:e.noop,onStaticLoss:e.noop,onSidebarCreate:e.noop};e.sidebarSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroSidebarSetup!==void 0&&e.sidebarSetup(globalThis.metroSidebarSetup),e.Component("sidebar",{init:function(i,t){return this._super(t,i,l,{toggle_element:null,id:e.utils.elementId("sidebar")}),this},_create:function(){let i=this.element;this._createStructure(),this._createEvents(),r(globalThis).resize(),this._checkStatic(),this._fireEvent("sidebar-create",{element:i})},_createStructure:function(){let i=this.element,t=this.options,o=i.find(".sidebar-header"),a=e.sheet,s=i.find(".sidebar-menu"),c=i.outerWidth();i.addClass("sidebar").addClass("on-"+t.position),t.menuScrollbar===!1&&s.addClass("hide-scroll"),t.toggle!==null&&r(t.toggle).length>0&&(this.toggle_element=r(t.toggle)),o.length>0&&o.data("image")!==void 0&&o.css({backgroundImage:"url("+o.data("image")+")"}),t.static!==null&&t.staticShift!==null&&(t.position==="left"?e.utils.addCssRule(a,"@media screen and "+e.media_queries[t.static.toUpperCase()],t.staticShift+"{margin-left: "+c+"px; width: calc(100% - "+c+"px);}"):e.utils.addCssRule(a,"@media screen and "+e.media_queries[t.static.toUpperCase()],t.staticShift+"{margin-right: "+c+"px; width: calc(100% - "+c+"px);}"))},_createEvents:function(){let i=this,t=this.element,o=this.options,a=this.toggle_element;a!==null?a.on(e.events.click,function(s){i.toggle(),s.stopPropagation()}):o.toggle&&r.document().on("click",o.toggle,function(s){i.toggle(),s.stopPropagation()}),o.static!==null&&e.media_modes.includes(o.static)&&r(globalThis).on(e.events.resize,function(){i._checkStatic()},{ns:this.id}),t.on(e.events.click,".sidebar-menu .js-sidebar-close",function(s){i.close(),s.stopPropagation()}),t.on(e.events.click,function(s){s.stopPropagation()}),r(document).on(e.events.click,function(){o.closeOutside===!0&&i.isOpen()&&i.close()})},_checkStatic:function(){let i=this.element,t=this.options;e.utils.mediaExist(t.static)&&!i.hasClass("static")&&(i.addClass("static"),i.data("opened",!1).removeClass("open"),t.shift!==null&&r.each(t.shift.split(","),function(){r(this).animate({draw:{left:0},dur:t.duration})}),this._fireEvent("static-set")),e.utils.mediaExist(t.static)||(i.removeClass("static"),this._fireEvent("static-loss"))},isOpen:function(){return this.element.data("opened")===!0},open:function(){let i=this.element,t=this.options;i.hasClass("static")||(i.data("opened",!0).addClass("open"),t.shift!==null&&r(t.shift).animate({draw:{left:i.outerWidth()},dur:t.duration}),this._fireEvent("open"))},close:function(){let i=this.element,t=this.options;i.hasClass("static")||(i.data("opened",!1).removeClass("open"),t.shift!==null&&r(t.shift).animate({draw:{left:0},dur:t.duration}),this._fireEvent("close"))},toggle:function(){this.isOpen()?this.close():this.open(),this._fireEvent("toggle")},changeAttribute:function(){},destroy:function(){let i=this.element,t=this.options,o=this.toggle_element;return o!==null&&o.off(e.events.click),t.static!==null&&e.media_modes.includes(t.static)&&r(globalThis).off(e.events.resize,{ns:this.id}),i.off(e.events.click,".js-sidebar-close"),i}}),e.sidebar={isSidebar:function(i){return e.utils.isMetroObject(i,"sidebar")},open:function(i){this.isSidebar(i)&&e.getPlugin(i,"sidebar").open()},close:function(i){this.isSidebar(i)&&e.getPlugin(i,"sidebar").close()},toggle:function(i){this.isSidebar(i)&&e.getPlugin(i,"sidebar").toggle()},isOpen:function(i){if(this.isSidebar(i))return e.getPlugin(i,"sidebar").isOpen()}}})(Metro,Dom);(function(e,r){"use strict";var l={compacted:!1,toggle:null,expandPoint:"fs",onMenuItemClick:e.noop,onCollapse:e.noop,onExpand:e.noop,onSidenavCreate:e.noop};e.sidenavCounterSetup=function(i){l=r.extend({},l,i)},typeof window.metroSidenavCounterSetup!==void 0&&e.sidenavCounterSetup(window.metroSidenavCounterSetup),e.Component("sidenav-counter",{init:function(i,t){return this._super(t,i,l,{}),this},_create:function(){var i=this,t=this.element,o=this.options;this._createStructure(),this._createEvents(),this._fireEvent("sidenav-create")},_createStructure:function(){var i=this,t=this.element,o=this.options;t.addClass("sidenav-counter"),e.utils.mediaExist(o.expandPoint)&&t.addClass("expanded"),e.storage.getItem("sidenav-counter:compacted")===!0&&(t.removeClass("expanded"),t.addClass("handmade"))},_createEvents:function(){var i=this,t=this.element,o=this.options;o.toggle&&r(o.toggle).on("click",function(){t.toggleClass("expanded"),t.toggleClass("handmade"),e.storage.setItem("sidenav-counter:compacted",!t.hasClass("expanded"))}),r(globalThis).on(e.events.resize,()=>{t.hasClass("handmade")||(e.utils.mediaExist(o.expandPoint)?t.addClass("expanded"):t.removeClass("expanded"))},{ns:this.id})},changeAttribute:function(i,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={sorterDeferred:0,thousandSeparator:",",decimalSeparator:",",sortTarget:null,sortSource:null,sortDir:"asc",sortStart:!0,saveInitial:!0,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSorterCreate:e.noop};e.sorterSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroSorterSetup!==void 0&&e.sorterSetup(globalThis.metroSorterSetup),e.Component("sorter",{init:function(t,o){return this._super(o,t,i,{initial:[]}),this},_create:function(){var t=this.element;this._createStructure(),this._fireEvent("sorter-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options;o.sortTarget===null&&(o.sortTarget=t.children()[0].tagName),this.initial=t.find(o.sortTarget).get(),o.sortStart===!0&&this.sort(o.sortDir)},_getItemContent:function(t){var o=this.options,a,s,c,p;if(l.isValue(o.sortSource)){if(a="",s=t.getElementsByClassName(o.sortSource),s.length>0)for(c=0;c<s.length;c++)a+=s[c].textContent;p=s[0].dataset.format}else a=t.textContent,p=t.dataset.format;if(a=(""+a).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),l.isValue(p))switch(["number","int","float","money"].indexOf(p)!==-1&&(o.thousandSeparator!==","||o.decimalSeparator!==".")&&(a=l.parseNumber(a,o.thousandSeparator,o.decimalSeparator)),p){case"date":a=l.isDate(a)?new Date(a):"";break;case"number":a=Number(a);break;case"int":a=parseInt(a);break;case"float":a=parseFloat(a);break;case"money":a=l.parseMoney(a);break;case"card":a=l.parseCard(a);break;case"phone":a=l.parsePhone(a);break}return a},sort:function(t){var o=this,a=this.element,s=this.options,c,p=l.elementId("temp"),d;t!==void 0&&(s.sortDir=t),c=a.find(s.sortTarget).get(),c.length!==0&&(d=r("<div>").attr("id",p).insertBefore(r(a.find(s.sortTarget)[0])),this._fireEvent("sort-start",{items:c}),c.sort(function(m,f){var g=o._getItemContent(m),u=o._getItemContent(f),A=0;return g<u&&(A=-1),g>u&&(A=1),A!==0&&o._fireEvent("sort-item-switch",{a:m,b:f,result:A}),A}),s.sortDir==="desc"&&c.reverse(),a.find(s.sortTarget).remove(),r.each(c,function(){var m=r(this);m.insertAfter(d),d=m}),r("#"+p).remove(),this._fireEvent("sort-stop",{items:c}))},reset:function(){var t=this.element,o=this.options,a,s=l.elementId("sorter"),c;a=this.initial,a.length!==0&&(c=r("<div>").attr("id",s).insertBefore(r(t.find(o.sortTarget)[0])),t.find(o.sortTarget).remove(),r.each(a,function(){var p=r(this);p.insertAfter(c),c=p}),r("#"+s).remove())},changeAttribute:function(t){var o=this,a=this.element,s=this.options,c=function(){var d=a.attr("data-sort-dir").trim();d!==""&&(s.sortDir=d,o.sort())},p=function(){var d=a.attr("data-sort-content").trim();d!==""&&(s.sortContent=d,o.sort())};switch(t){case"data-sort-dir":c();break;case"data-sort-content":p();break}},destroy:function(){return this.element}}),e.sorter={create:function(t,o){return l.$()(t).sorter(o)},isSorter:function(t){return l.isMetroObject(t,"sorter")},sort:function(t,o){if(!this.isSorter(t))return!1;o===void 0&&(o="asc"),e.getPlugin(t,"sorter").sort(o)},reset:function(t){if(!this.isSorter(t))return!1;e.getPlugin(t,"sorter").reset()}}})(Metro,Dom);(function(e,r){"use strict";let l={VERTICAL:"vertical",HORIZONTAL:"horizontal"},i=e.storage,t={splitterDeferred:0,split:l.VERTICAL,splitSizes:null,gutterSize:5,gutterStyle:"default",minSizes:null,children:"*",gutterClick:"expand",saveState:!1,noResize:!1,onResizeStart:e.noop,onResizeStop:e.noop,onResizeSplit:e.noop,onResizeWindow:e.noop,onSplitterCreate:e.noop};e.splitterSetup=function(o){t=r.extend({},t,o)},typeof globalThis.metroSplitterSetup<"u"&&e.splitterSetup(globalThis.metroSplitterSetup),e.Component("splitter",{init:function(o,a){return this._super(a,o,t,{storage:e.utils.isValue(i)?i:null,storageKey:"SPLITTER:",id:e.utils.elementId("splitter")}),this},_create:function(){let o=this.element;this._createStructure(),this._createEvents(),this._fireEvent("splitter-create",{element:o})},_createStructure:function(){let o=this.element,a=this.options,s=o.children(a.children).addClass("split-block"),c,p=[],d=a.split===l.HORIZONTAL?"height":"width";for(o.addClass("splitter"),o.addClass(a.split.toLowerCase()===l.VERTICAL?"vertical":"horizontal"),a.gutterStyle!=="default"&&o.addClass(`gutter-style-${a.gutterStyle}`),a.noResize===!0&&o.addClass("static-size"),c=0;c<s.length-1;c++)r("<div>").addClass("gutter").css(d,a.gutterSize).insertAfter(r(s[c]));if(this._setSize(),e.utils.isValue(a.minSizes))if((""+a.minSizes).includes(","))for(p=a.minSizes.toArray(),c=0;c<p.length;c++)r(s[c]).data("min-size",p[c]),s[c].style.setProperty("min-"+d,(""+p[c]).includes("%")?p[c]:(""+p[c]).replace("px","")+"px","important");else r.each(s,function(){this.style.setProperty("min-"+d,(""+a.minSizes).includes("%")?a.minSizes:(""+a.minSizes).replace("px","")+"px","important")});a.saveState&&this.storage!==null&&this._getSize()},_setSize:function(){let o=this.element,a=this.options,s,c,p=o.children(".split-block"),d=o.width();if(s=o.children(".gutter"),!e.utils.isValue(a.splitSizes))p.css({flexBasis:`calc(${100/p.length}% - ${s.length*a.gutterSize}px)`});else{c=(""+a.splitSizes).toArray();let m=100,f=0;for(;f<c.length;f++){let g=c[f];g.includes("%")?g=parseInt(g):g=+g*100/d,m-=g,r(p[f]).css({flexBasis:`calc(${g}% - ${s.length*a.gutterSize}px)`})}for(;f<p.length;f++)r(p[f]).css({flexBasis:`calc(${m/(p.length-f)}% - ${s.length*a.gutterSize}px)`})}},_createEvents:function(){let o=this,a=this.element,s=this.options,c=a.children(".gutter");c.on(e.events.startAll,function(p){if(s.noResize===!0)return!1;let d=s.split===l.VERTICAL?a.width():a.height(),m=r(this),f=m.prev(".split-block"),g=m.next(".split-block"),u=100*(s.split===l.VERTICAL?f.outerWidth(!0):f.outerHeight(!0))/d,A=100*(s.split===l.VERTICAL?g.outerWidth(!0):g.outerHeight(!0))/d,b=e.utils.getCursorPosition(a[0],p);m.addClass("active"),f.addClass("stop-pointer"),g.addClass("stop-pointer"),o._fireEvent("resize-start",{pos:b,gutter:m[0],prevBlock:f[0],nextBlock:g[0]}),r(globalThis).on(e.events.moveAll,function(x){let v=e.utils.getCursorPosition(a[0],x),I;s.split===l.VERTICAL?I=v.x*100/d-b.x*100/d:I=v.y*100/d-b.y*100/d,f.css("flex-basis","calc("+(u+I)+"% - "+c.length*s.gutterSize+"px)"),g.css("flex-basis","calc("+(A-I)+"% - "+c.length*s.gutterSize+"px)"),o._fireEvent("resize-split",{pos:v,gutter:m[0],prevBlock:f[0],nextBlock:g[0]})},{ns:o.id}),r(globalThis).on(e.events.stopAll,function(x){let v;f.removeClass("stop-pointer"),g.removeClass("stop-pointer"),o._saveSize(),m.removeClass("active"),r(globalThis).off(e.events.moveAll,{ns:o.id}),r(globalThis).off(e.events.stopAll,{ns:o.id}),v=e.utils.getCursorPosition(a[0],x),o._fireEvent("resize-stop",{pos:v,gutter:m[0],prevBlock:f[0],nextBlock:g[0]})},{ns:o.id})},{passive:!0}),r(globalThis).on(e.events.resize,function(){let p=a.children(".gutter"),d=p.prev(".split-block"),m=p.next(".split-block");o._fireEvent("resize-window",{prevBlock:d[0],nextBlock:m[0]})},{ns:o.id})},_saveSize:function(){let o=this.element,a=this.options,s=this.storage,c=[],p=o.attr("id")||this.id;a.saveState===!0&&s!==null&&(r.each(o.children(".split-block"),function(){let d=r(this);c.push(d.css("flex-basis"))}),s&&s.setItem(this.storageKey+p,c))},_getSize:function(){let o=this.element,a=this.options,s=this.storage,c=[],p=o.attr("id")||this.id;a.saveState===!0&&s!==null&&(c=s.getItem(this.storageKey+p),r.each(o.children(".split-block"),function(d,m){let f=r(m);e.utils.isValue(c)&&e.utils.isValue(c[d])&&f.css("flex-basis",c[d])}))},size:function(o){let a=this,s=this.options;return e.utils.isValue(o)&&(s.splitSizes=o,a._setSize()),this},changeAttribute:function(o){let a=this,s=this.element;function c(){let p=s.attr("data-split-sizes");a.size(p)}o==="data-split-sizes"&&c()},destroy:function(){let o=this.element;return o.children(".gutter").off(e.events.start),o.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l={stepperDeferred:0,view:e.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:"",clsStep:"",clsComplete:"",clsCurrent:"",onStep:e.noop,onStepClick:e.noop,onStepperCreate:e.noop};e.stepperSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroStepperSetup!==void 0&&e.stepperSetup(globalThis.metroStepperSetup),e.Component("stepper",{init:function(i,t){return this._super(t,i,l,{current:0}),this},_create:function(){var i=this.element,t=this.options;t.step<=0&&(t.step=1),this._createStepper(),this._createEvents(),this._fireEvent("stepper-create",{element:i})},_createStepper:function(){var i=this.element,t=this.options,o;for(i.addClass("stepper").addClass(t.view).addClass(t.clsStepper),o=1;o<=t.steps;o++)r("<span>").addClass("step").addClass(t.clsStep).data("step",o).html("<span>"+o+"</span>").appendTo(i);this.current=1,this.toStep(t.step)},_createEvents:function(){var i=this,t=this.element,o=this.options;t.on(e.events.click,".step",function(){var a=r(this).data("step");o.stepClick===!0&&(i.toStep(a),i._fireEvent("step-click",{step:a}))})},next:function(){var i=this.element,t=i.find(".step");this.current+1>t.length||(this.current++,this.toStep(this.current))},prev:function(){this.current-1!==0&&(this.current--,this.toStep(this.current))},last:function(){var i=this.element;this.toStep(i.find(".step").length)},first:function(){this.toStep(1)},toStep:function(i){var t=this.element,o=this.options,a=r(t.find(".step").get(i-1)),s=this.current;a.length!==0&&(this.current=i,t.find(".step").removeClass("complete current").removeClass(o.clsCurrent).removeClass(o.clsComplete),a.addClass("current").addClass(o.clsCurrent),a.prevAll().addClass("complete").addClass(o.clsComplete),this._fireEvent("step",{step:this.current,prev:s}))},changeAttribute:function(){},destroy:function(){var i=this.element;return i.off(e.events.click,".step"),i}})})(Metro,Dom);(function(e){"use strict";var r=e.utils,l=function(i){return new l.init(i)};l.prototype={setKey:function(i){this.key=i},getKey:function(){return this.key},setItem:function(i,t){this.storage.setItem(this.key+":"+i,JSON.stringify(t))},getItem:function(i,t,o){var a,s;s=this.storage.getItem(this.key+":"+i);try{a=JSON.parse(s,o)}catch{a=null}return r.nvl(a,t)},getItemPart:function(i,t,o,a){var s,c=this.getItem(i,o,a);for(t=t.split("->"),s=0;s<t.length;s++)c=c[t[s]];return c},delItem:function(i){this.storage.removeItem(this.key+":"+i)},size:function(i){var t;switch(i){case"m":case"M":{t=1024*1024;break}case"k":case"K":{t=1024;break}default:t=1}return JSON.stringify(this.storage).length/t}},l.init=function(i){return this.key="",this.storage=i||globalThis.localStorage,this},l.init.prototype=l.prototype,e.storage=l(globalThis.localStorage),e.session=l(globalThis.sessionStorage)})(Metro);(function(e,r){"use strict";var l=e.utils,i={streamerDeferred:0,wheel:!0,wheelStep:20,duration:METRO_ANIMATION_DURATION,defaultClosedIcon:"",defaultOpenIcon:"",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:"",excludeClickClass:"",excludeClass:"",onDataLoad:e.noop,onDataLoaded:e.noop,onDataLoadError:e.noop,onDrawEvent:e.noop,onDrawGlobalEvent:e.noop,onDrawStream:e.noop,onStreamClick:e.noop,onStreamSelect:e.noop,onEventClick:e.noop,onEventSelect:e.noop,onEventsScroll:e.noop,onStreamerCreate:e.noop};e.streamerSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroStreamerSetup!==void 0&&e.streamerSetup(globalThis.metroStreamerSetup),e.Component("streamer",{init:function(t,o){return this._super(o,t,i,{data:null,scroll:0,scrollDir:"left",events:null}),this},_create:function(){var t=this.element,o=this.options;if(t.addClass("streamer"),t.attr("id")===void 0&&t.attr("id",l.elementId("streamer")),o.source===null&&o.data===null)return!1;r("<div>").addClass("streams").appendTo(t),r("<div>").addClass("events-area").appendTo(t),o.source!==null?(this._fireEvent("data-load",{source:o.source}),this._loadSource()):(this.data=o.data,this.build())},_loadSource:function(){var t=this,o=this.options;fetch(o.source).then(e.fetch.status).then(e.fetch.json).then(function(a){t._fireEvent("data-loaded",{source:o.source,data:a}),t.data=a,t.build()}).catch(function(a){t._fireEvent("data-load-error",{source:o.source,error:a})})},build:function(){var t=this,o=this.element,a=this.options,s=this.data,c=o.find(".streams").html(""),p=o.find(".events-area").html(""),d,m=r("<ul>").addClass("streamer-timeline").html("").appendTo(p),f=r("<div>").addClass("streamer-events").appendTo(p),g=r("<div>").addClass("event-group").appendTo(f),u=l.getURIParameter(null,"StreamerIDS");u!==null&&a.encodeLink===!0&&(u=atob(u));var A=u?u.split("|")[0]:null,b=u?u.split("|")[1].split(","):[];if(s.actions!==void 0){var x=r("<div>").addClass("streamer-actions").appendTo(c);r.each(s.actions,function(){var nt=this,q=r("<button>").addClass("streamer-action").addClass(nt.cls).html(nt.html);nt.onclick!==void 0&&q.on(e.events.click,function(){l.exec(nt.onclick,[o])}),q.appendTo(x)})}m.html(""),s.timeline===void 0&&(s.timeline={start:"09:00",stop:"18:00",step:20});var v=new Date,I=new Date,B=s.timeline.start?s.timeline.start.split(":"):[9,0],k=s.timeline.stop?s.timeline.stop.split(":"):[18,0],w=s.timeline.step?parseInt(s.timeline.step)*60:1200;v.setHours(B[0]),v.setMinutes(B[1]),v.setSeconds(0),I.setHours(k[0]),I.setMinutes(k[1]),I.setSeconds(0);var E,y,U,z,J,H,P,X,dt,At;for(E=v.getTime()/1e3;E<=I.getTime()/1e3;E+=w)for(y=new Date(E*1e3),U=y.getHours(),J=y.getMinutes(),z=Str.lpad(U,"0",2)+":"+Str.lpad(J,"0",2),X=r("<li>").data("time",z).addClass("js-time-point-"+z.replace(":","-")).html("<em>"+z+"</em>").appendTo(m),At=X.width()/parseInt(s.timeline.step),d=r("<ul>").addClass("streamer-fake-timeline").html("").appendTo(X),H=0;H<parseInt(s.timeline.step);H++)P=J+H,z=Str.lpad(U,"0",2)+":"+Str.lpad(P,"0",2),dt=r("<li>").data("time",z).addClass("js-fake-time-point-"+z.replace(":","-")).html("|").appendTo(d),dt.css({width:At});if(s.streams!==void 0&&r.each(s.streams,function(nt){var q=75,mt=0,lt=this,tt=r("<div>").addClass("stream").addClass(this.cls).appendTo(c);tt.addClass(lt.cls).data("one",!1).data("data",lt.data),r("<div>").addClass("stream-title").html(lt.title).appendTo(tt),r("<div>").addClass("stream-secondary").html(lt.secondary).appendTo(tt),r(lt.icon).addClass("stream-icon").appendTo(tt);var wt=Farbe.Routines.toHEX(l.getStyleOne(tt,"background-color")),kt=Farbe.Routines.toHEX(l.getStyleOne(tt,"color")),zt=r("<div>").addClass("stream-events").data("background-color",wt).data("text-color",kt).appendTo(g);if(lt.events!==void 0){r.each(lt.events,function(T){var Q=this,V=Q.row===void 0?1:parseInt(Q.row),_,Z=nt+":"+T,L=Q.custom!==void 0?Q.custom:"",Xt=Q.custom_open!==void 0?Q.custom_open:"",ht=Q.custom_close!==void 0?Q.custom_close:"",bt;if(!(Q.skip!==void 0&&l.bool(Q.skip))){bt=r("<div>").data("origin",Q).data("sid",Z).data("data",Q.data).data("time",Q.time).data("target",Q.target).addClass("stream-event").addClass("size-"+Q.size+(["half","one-third"].includes(Q.size)?"":"x")).addClass(Q.cls).appendTo(zt);var Yi=m.find(".js-fake-time-point-"+this.time.replace(":","-")),Ui=Yi.offset().left-zt.offset().left,Si=75*(V-1);if(V>mt&&(mt=V),bt.css({position:"absolute",left:Ui,top:Si}),l.isNull(Q.html)){var Te=r("<div>").addClass("stream-event-slide").appendTo(bt),zr=r("<div>").addClass("slide-logo").appendTo(Te),Yr=r("<div>").addClass("slide-data").appendTo(Te);Q.icon!==void 0&&(l.isTag(Q.icon)?r(Q.icon).addClass("icon").appendTo(zr):r("<img>").addClass("icon").attr("src",Q.icon).attr("alt","").appendTo(zr)),r("<span>").addClass("time").css({backgroundColor:wt,color:kt}).html(Q.time).appendTo(zr),r("<div>").addClass("title").html(Q.title).appendTo(Yr),r("<div>").addClass("subtitle").html(Q.subtitle).appendTo(Yr),r("<div>").addClass("desc").html(Q.desc).appendTo(Yr),(a.closed===!1&&o.attr("id")===A&&b.indexOf(Z)!==-1||Q.selected===!0||parseInt(Q.selected)===1)&&bt.addClass("selected"),a.closed===!0||Q.closed===!0||parseInt(Q.closed)===1?(_=Q.closedIcon!==void 0?l.isTag(Q.closedIcon)?Q.closedIcon:"<span>"+Q.closedIcon+"</span>":l.isTag(a.defaultClosedIcon)?a.defaultClosedIcon:"<span>"+a.defaultClosedIcon+"</span>",r(_).addClass("state-icon").addClass(Q.clsClosedIcon).appendTo(Te),bt.data("closed",!0).data("target",Q.target),bt.append(Xt)):(_=Q.openIcon!==void 0?l.isTag(Q.openIcon)?Q.openIcon:"<span>"+Q.openIcon+"</span>":l.isTag(a.defaultOpenIcon)?a.defaultOpenIcon:"<span>"+a.defaultOpenIcon+"</span>",r(_).addClass("state-icon").addClass(Q.clsOpenIcon).appendTo(Te),bt.data("closed",!1),bt.append(ht)),bt.append(L)}else bt.html(Q.html);t._fireEvent("draw-event",{event:bt[0]})}});var R=zt.find(".stream-event").last();R.length>0&&zt.outerWidth(R[0].offsetLeft+R.outerWidth())}zt.css({height:q*mt}),o.find(".stream").eq(zt.index()).css({height:q*mt}),t._fireEvent("draw-stream",{stream:tt[0]})}),s.global!==void 0){var Kt=f.offset().left;r.each(["before","after"],function(){var nt=this;s.global[nt]!==void 0&&r.each(s.global[nt],function(){var q=this,mt=r("<div>").addClass("event-group").addClass("size-"+q.size+(["half","one-third"].includes(q.size)?"":"x")),lt=r("<div>").addClass("stream-events global-stream").appendTo(mt),tt=r("<div>").addClass("stream-event").appendTo(lt);tt.addClass("global-event").addClass(q.cls).data("time",q.time).data("origin",q).data("data",q.data),r("<div>").addClass("event-title").html(q.title).appendTo(tt),r("<div>").addClass("event-subtitle").html(q.subtitle).appendTo(tt),r("<div>").addClass("event-html").html(q.html).appendTo(tt);var wt,kt=m.find(".js-fake-time-point-"+this.time.replace(":","-"));kt.length>0&&(wt=kt.offset().left-Kt),mt.css({position:"absolute",left:wt,height:"100%"}).appendTo(f),t._fireEvent("draw-global-event",{event:tt[0]})})})}o.data("stream",-1),o.find(".events-area").scrollLeft(0),this.events=o.find(".stream-event"),this._createEvents(),a.startFrom!==null&&a.slideToStart===!0&&setTimeout(function(){t.slideTo(a.startFrom)},a.startSlideSleep),this._fireEvent("streamer-create"),this._fireScroll()},_fireScroll:function(){var t=this,o=this.element,a=o.find(".events-area"),s=this.scroll;a.length!==0&&(this.scrollDir=this.scroll<a[0].scrollLeft?"left":"right",this.scroll=a[0].scrollLeft,this._fireEvent("events-scroll",{scrollLeft:a[0].scrollLeft,oldScroll:s,scrollDir:t.scrollDir,events:r.toArray(this.events)}))},_createEvents:function(){var t=this,o=this.element,a=this.options;function s(){var p=globalThis.pageYOffset||document.documentElement.scrollTop,d=globalThis.pageXOffset||document.documentElement.scrollLeft;globalThis.onscroll=function(){globalThis.scrollTo(d,p)}}function c(){globalThis.onscroll=function(){}}o.off(e.events.click,".stream-event").on(e.events.click,".stream-event",function(p){var d=r(this);if(!(a.excludeClass!==""&&d.hasClass(a.excludeClass))&&!(a.excludeElement!==null&&r(p.target).is(a.excludeElement))){if(a.closed===!1&&d.data("closed")!==!0&&a.eventClick==="select")a.excludeSelectClass!==""&&d.hasClass(a.excludeSelectClass)||a.excludeSelectElement!==null&&r(p.target).is(a.excludeSelectElement)||(d.hasClass("global-event")?a.selectGlobal===!0&&d.toggleClass("selected"):d.toggleClass("selected"),a.changeUri===!0&&t._changeURI(),t._fireEvent("event-select",{event:d[0],selected:d.hasClass("selected")}));else if(!(a.excludeClickClass!==""&&d.hasClass(a.excludeClickClass))){if(!(a.excludeClickElement!==null&&r(p.target).is(a.excludeClickElement))){if(t._fireEvent("event-click",{event:d[0]}),a.closed===!0||d.data("closed")===!0){var m=d.data("target");m&&(globalThis.location.href=m)}}}}}),o.off(e.events.click,".stream").on(e.events.click,".stream",function(){var p=r(this),d=p.index();a.streamSelect!==!1&&(o.data("stream")===d?(o.find(".stream-event").removeClass("disabled"),o.data("stream",-1)):(o.data("stream",d),o.find(".stream-event").addClass("disabled"),t.enableStream(p),t._fireEvent("stream-select",{stream:p})),t._fireEvent("stream-click",{stream:p}))}),a.wheel===!0&&(o.find(".events-area").off(e.events.mousewheel).on(e.events.mousewheel,function(p){if(p.deltaY!==void 0){var d,m=r(this),f=p.deltaY>0?-1:1,g=a.wheelStep;d=m.scrollLeft()-f*g,m.scrollLeft(d)}},{passive:!0}),o.find(".events-area").off("mouseenter").on("mouseenter",function(){s()}),o.find(".events-area").off("mouseleave").on("mouseleave",function(){c()})),o.find(".events-area").last().off("scroll").on("scroll",function(){t._fireScroll()}),r.touchable===!0&&o.off(e.events.click,".stream").on(e.events.click,".stream",function(){var p=r(this);p.toggleClass("focused"),r.each(o.find(".stream"),function(){r(this).is(p)||r(this).removeClass("focused")})})},_changeURI:function(){var t=this.getLink();history.pushState({},document.title,t)},slideTo:function(t){var o=this.element,a=this.options,s;t===void 0?s=r(o.find(".streamer-timeline li")[0]):s=r(o.find(".streamer-timeline .js-time-point-"+t.replace(":","-"))[0]),o.find(".events-area").animate({draw:{scrollLeft:s[0].offsetLeft-o.find(".streams .stream").outerWidth()},dur:a.duration})},enableStream:function(t){var o=this.element,a=t.index()-1;t.removeClass("disabled").data("streamDisabled",!1),o.find(".stream-events").eq(a).find(".stream-event").removeClass("disabled")},disableStream:function(t){var o=this.element,a=t.index()-1;t.addClass("disabled").data("streamDisabled",!0),o.find(".stream-events").eq(a).find(".stream-event").addClass("disabled")},toggleStream:function(t){t.data("streamDisabled")===!0?this.enableStream(t):this.disableStream(t)},getLink:function(){var t=this.element,o=this.options,a=t.find(".stream-event"),s=[],c,p=globalThis.location.href;return r.each(a,function(){var d=r(this);d.data("sid")===void 0||!d.hasClass("selected")||s.push(d.data("sid"))}),c=t.attr("id")+"|"+s.join(","),o.encodeLink===!0&&(c=btoa(c)),l.updateURIParameter(p,"StreamerIDS",c)},getTimes:function(){var t=this.element,o=t.find(".streamer-timeline > li"),a=[];return r.each(o,function(){a.push(r(this).data("time"))}),a},getEvents:function(t,o){var a=this.element,s,c=[];switch(t){case"selected":s=a.find(".stream-event.selected");break;case"non-selected":s=a.find(".stream-event:not(.selected)");break;default:s=a.find(".stream-event")}return r.each(s,function(){var p=r(this),d;o!==!0&&p.parent().hasClass("global-stream")||(d=p.data("origin"),c.push(d))}),c},source:function(t){var o=this.element;if(t===void 0)return this.options.source;o.attr("data-source",t),this.options.source=t,this.changeSource()},dataSet:function(t){if(t===void 0)return this.options.data;this.options.data=t,this.changeData(t)},getStreamerData:function(){return this.data},toggleEvent:function(t){var o=this.options;t=r(t),!(t.hasClass("global-event")&&o.selectGlobal!==!0)&&(t.hasClass("selected")?this.selectEvent(t,!1):this.selectEvent(t,!0))},selectEvent:function(t,o){var a=this,s=this.options;o===void 0&&(o=!0),t=r(t),!(t.hasClass("global-event")&&s.selectGlobal!==!0)&&(o===!0?t.addClass("selected"):t.removeClass("selected"),s.changeUri===!0&&a._changeURI(),this._fireEvent("event-select",{event:t[0],selected:o}))},changeSource:function(){var t=this.element,o=this.options,a=t.attr("data-source");String(a).trim()!==""&&(o.source=a,this._fireEvent("data-load",{source:o.source}),this._loadSource(),this._fireEvent("source-change"))},changeData:function(t){var o=this.element,a=this.options,s=this.data;a.data=typeof t=="object"?t:JSON.parse(o.attr("data-data")),this.data=a.data,this.build(),this._fireEvent("data-change",{oldData:s,newData:a.data})},changeStreamSelectOption:function(){var t=this.element,o=this.options;o.streamSelect=t.attr("data-stream-select").toLowerCase()==="true"},changeAttribute:function(t){switch(t){case"data-source":this.changeSource();break;case"data-data":this.changeData();break;case"data-stream-select":this.changeStreamSelectOption();break}},destroy:function(){var t=this.element;return t.off(e.events.click,".stream-event"),t.off(e.events.click,".stream"),t.find(".events-area").off(e.events.mousewheel),t.find(".events-area").last().off("scroll"),t}})})(Metro,Dom);(function(e,r){"use strict";let l={swipeThreshold:32,onSwipe:e.noop,onSwipeRight:e.noop,onSwipeLeft:e.noop,onSwipeUp:e.noop,onSwipeDown:e.noop,onSwipeCreate:e.noop};e.swipeSetup=function(i){l=r.extend({},l,i)},typeof window.metroSwipeSetup!==void 0&&e.swipeSetup(window.metroSwipeSetup),e.Component("swipe",{init:function(i,t){return this._super(t,i,l,{}),this},_create:function(){this.element.css({userSelect:"none"}),this._createEvents(),this._fireEvent("swipe-create")},_createEvents:function(){let i=this,t=this.element,o=this.options;t.on("touchstart mousedown",function(a){let s=e.utils.pageXY(a),c={x:0,y:0};t.on("touchmove mousemove",function(p){let d=e.utils.pageXY(p);c.x=d.x-s.x,c.y=d.y-s.y}),t.on("touchend mouseup",function(p){let d="";(Math.abs(c.x)>o.swipeThreshold||Math.abs(c.y)>o.swipeThreshold)&&(Math.abs(c.x)>Math.abs(c.y)?c.x>0?(d="right",i._fireEvent("swipe-right",{start:s,swipe:c})):(d="left",i._fireEvent("swipe-left",{start:s,swipe:c})):c.y>0?(d="down",i._fireEvent("swipe-down",{start:s,swipe:c})):(d="up",i._fireEvent("swipe-up",{start:s,swipe:c})),i._fireEvent("swipe",{start:s,swipe:c,direction:d})),t.off("touchmove mousemove"),t.off("touchend mouseup")})})},changeAttribute:function(i,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={switchDeferred:0,material:!1,prepend:"",append:"",clsSwitch:"",clsCheck:"",clsCaption:"",onoff:!1,on:"",off:"",showOnOff:!1,onSwitchCreate:e.noop};e.switchSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroSwitchSetup!==void 0&&e.switchSetup(globalThis.metroSwitchSetup),e.Component("switch",{init:function(t,o){return this._super(o,t,i,{}),this},_create:function(){let t=this.element,o=this.options,a=this.strings,s=t.wrap("<label>").addClass("switch").addClass(t[0].className).addClass(o.clsSwitch);t.attr("type","checkbox"),t.attr("readonly")!==void 0&&t.on("click",function(c){c.preventDefault()}),this.component=s,t[0].className="",o.prepend&&s.prepend(r("<span>").addClass("caption-prepend").addClass(o.clsPrepend).addClass(o.clsCaption).html(o.prepend)),o.append&&s.append(r("<span>").addClass("caption-append").addClass(o.clsAppend).addClass(o.clsCaption).html(o.append)),o.onoff===!0?(t.attr("data-on",o.on||a.label_on),t.attr("data-off",o.off||a.label_off)):(t.removeAttr("data-on"),t.removeAttr("data-off")),o.material===!0&&s.addClass("material"),this._fireEvent("switch-create")},toggle:function(t){let o=this.element;return o.is(":disabled")?this:(l.isValue(t)?o.prop("checked",t===1):o.prop("checked",!l.bool(o.prop("checked"))),this)},changeAttribute:function(t,o){},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l={splitter:",",variance:0,delay:100,blinkDelay:400,deleteDelay:800,loop:!0,cursor:"_",colors:"",onType:e.noop,onTyperCreate:e.noop};e.typerSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroTyperSetup!==void 0&&e.typerSetup(globalThis.metroTyperSetup),e.Component("typer",{init:function(i,t){return this._super(t,i,l,{original:null,lines:null,text:null,cursor:null,on:!0,interval:null,colors:null,colorIndex:0}),this},_create:function(){let i=this.element,t=this.options;i.addClass("typer"),this.original=i.text(),this.words=this.original.split(t.splitter).pack(),this.colors=t.colors.split(",").pack(),this.cursor=r("<span>").addClass("typer-cursor").html(t.cursor).insertAfter(i),this.interval=setInterval(()=>this._blink(),+t.blinkDelay),this.progress={word:0,char:0,building:!0,looped:0},i.clear(),this.start()},_blink:function(){this.on?(this.cursor[0].style.opacity=0,this.on=!1):(this.cursor[0].style.opacity=1,this.on=!0)},doTyping:function(){let i=this,t=this.element,o=this.elem,a=this.options,s,c=this.progress,p=c.word,d=c.char,m=[...this.words[p]].slice(0,d).join(""),f=(2*Math.random()-1)*a.variance+a.delay;this.cursor[0].style.opacity="1",this.on=!0,clearInterval(this.interval),this.interval=setInterval(()=>this._blink(),+a.blinkDelay),t.html(m),c.building?(s=c.char===this.words[p].length,s?c.building=!1:c.char+=1):c.char===0?(c.building=!0,c.word=(c.word+1)%this.words.length,this.colors.length&&(this.colorIndex=(this.colorIndex+1)%this.colors.length,o.style.color=this.colors[this.colorIndex])):c.char-=1,c.word===this.words.length-1&&(c.looped+=1),!c.building&&this.loop<=c.looped&&(this.typing=!1),setTimeout(()=>{this.typing&&this.doTyping()},s?a.deleteDelay:f)},start:function(){this.typing||(this.typing=!0,this.doTyping())},stop:function(){this.typing=!1},destroy:function(){this.element.remove()}})})(Metro,Dom);var zi={title:void 0,format:void 0,formatMask:void 0,name:void 0,colspan:null,size:void 0,sortable:!1,sortDir:void 0,clsColumn:void 0,cls:void 0,show:!0,required:!0,field:void 0,fieldType:void 0,validator:void 0,template:void 0,type:"data"};(function(e,r){"use strict";var l=e.utils,i={caption:"",cardMode:"",useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"\u{1F527}",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationIslandSize:3,paginationShortTrack:10,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,source:null,static:!1,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:e.noop,onDrawRow:e.noop,onDrawCell:e.noop,onAppendRow:e.noop,onAppendCell:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoadError:e.noop,onDataLoaded:e.noop,onDataLoadEnd:e.noop,onDataSaveError:e.noop,onFilterRowAccepted:e.noop,onFilterRowDeclined:e.noop,onCheckClick:e.noop,onCheckClickAll:e.noop,onCheckDraw:e.noop,onViewSave:e.noop,onViewGet:e.noop,onViewCreated:e.noop,onTableCreate:e.noop,onSkip:e.noop};e.tableSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroTableSetup!==void 0&&e.tableSetup(globalThis.metroTableSetup),e.Component("table",{init:function(t,o){return this._super(o,t,i,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},input_interval:null,searchFields:[],id:l.elementId("table"),sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){var t=this,o=this.element,a=this.options,s=l.elementId("table"),c,p,d;if(o.id()||(console.warn("To use all table component features, please set an ID for the table element!"),o.id(s)),l.isValue(a.searchFields)&&(this.searchFields=a.searchFields.toArray()),l.isValue(a.head)){var m=a.head;a.head=l.isObject(a.head),a.head||(console.warn("Head "+m+" defined but not exists!"),a.head=null)}if(l.isValue(a.body)){var f=a.body;a.body=l.isObject(a.body),a.body||(console.warn("Body "+f+" defined but not exists!"),a.body=null)}if(a.static===!0&&(a.showPagination=!1,a.showRowsSteps=!1,a.showSearch=!1,a.showTableInfo=!1,a.showSkip=!1,a.rows=-1),c=r("<div>").addClass("table-component"),c.insertBefore(o),p=r("<div>").addClass("table-container").addClass(a.clsTableContainer).appendTo(c),o.appendTo(p),a.horizontalScroll===!0&&p.addClass("horizontal-scroll"),!l.isNull(a.horizontalScrollStop)&&l.mediaExist(a.horizontalScrollStop)&&p.removeClass("horizontal-scroll"),c.addClass(a.clsComponent),this.activity=r("<div>").addClass("table-progress").appendTo(c),d=r("<div>").appendTo(this.activity),e.makePlugin(d,"activity",{type:a.activityType,style:a.activityStyle}),a.showActivity!==!0&&this.activity.css({visibility:"hidden"}),this.component=c[0],a.source!==null){this._fireEvent("data-load",{source:a.source});var g=l.isObject(a.source);g!==!1&&r.isPlainObject(g)?t._build(g):this.activity.show(function(){fetch(a.source).then(e.fetch.status).then(e.fetch.json).then(function(u){if(t.activity.hide(),typeof u!="object")throw new Error("Data for table is not a object");t._fireEvent("data-loaded",{source:a.source,data:u}),t._build(u)}).catch(function(u){t.activity.hide(),t._fireEvent("data-load-error",{source:a.source,error:u})})})}else t._build()},_createIndex:function(){var t=this,o=this.options.checkColIndex;setImmediate(function(){t.items.forEach(function(a,s){t.index[a[o]]=s})})},_build:function(t){var o=this,a=this.element,s=this.options,c,p=a.attr("id"),d;s.rows=+s.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(s.head)&&(this.heads=s.head),Array.isArray(s.body)&&(this.items=s.body),l.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=l.objectClone(this.view),d=s.viewSavePath.replace("$1",p),s.viewSaveMode.toLowerCase()==="client"?(c=e.storage.getItem(d),l.isValue(c)&&l.objectLength(c)===l.objectLength(this.view)&&(this.view=c,this._fireEvent("view-get",{source:"client",view:c})),this._final()):fetch(d).then(e.fetch.status).then(e.fetch.json).then(function(m){l.isValue(m)&&l.objectLength(m)===l.objectLength(o.view)&&(o.view=m,o._fireEvent("view-get",{source:"server",view:m})),o._final()}).catch(function(m){o._final(),console.warn("Warning! Error loading view for table "+a.attr("id")+": "+m)})},_final:function(){var t=this.element,o=this.options,a=t.attr("id");e.storage.delItem(o.checkStoreKey.replace("$1",a)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:t})},_service:function(){var t=this.options;this.service=[{...zi,title:t.rownumTitle,clsColumn:"rownum-cell "+(t.rownum!==!0?"d-none":""),cls:"rownum-cell "+(t.rownum!==!0?"d-none":""),type:"rownum"},{...zi,title:t.checkType==="checkbox"?"<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='"+t.checkStyle+"'>":"",clsColumn:"check-cell "+(t.check!==!0?"d-none":""),cls:"check-cell "+(t.check!==!0?"d-none":""),type:"rowcheck"}]},_createView:function(){var t;return t={},r.each(this.heads,function(o){l.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),l.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),t[o]={index:o,"index-view":o,show:l.isValue(this.show)?this.show:!0,size:l.isValue(this.size)?this.size:""}}),this._fireEvent("view-created",{view:t}),t},_createInspectorItems:function(t){var o=this,a=this.options,s,c=[],p,d=this.heads;for(t.html(""),s=0;s<d.length;s++)c[s]=null;for(r.each(d,function(m){p=r("<tr>"),p.data("index",m),p.data("index-view",m),r("<td>").html("<input type='checkbox' data-style='"+a.checkStyle+"' data-role='checkbox' name='column_show_check[]' value='"+m+"' "+(l.bool(o.view[m].show)?"checked":"")+">").appendTo(p),r("<td>").html(`<div>${this.title}</div>`).appendTo(p),r("<td>").html("<input type='number' data-role='spinner' name='column_size' value='"+o.view[m].size+"' data-index='"+m+"'>").appendTo(p),r("<td>").html("<button class='button square js-table-inspector-field-up' type='button'>\u2191</button><button class='button square js-table-inspector-field-down' type='button'>\u2193</button>").appendTo(p),c[o.view[m]["index-view"]]=p}),s=0;s<d.length;s++)c[s].appendTo(t)},_createInspector:function(){var t=this.options,o=this.strings,a,s,c,p,d;a=r("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector"),a.attr("for",this.element.attr("id")),r("<div class='table-inspector-header'>"+(t.inspectorTitle||o.label_inspector)+"</div>").appendTo(a),s=r("<div>").addClass("table-wrap").appendTo(a),c=r("<table>").addClass("table subcompact"),p=r("<tbody>").appendTo(c),c.appendTo(s),this._createInspectorItems(p),d=r("<div class='table-inspector-actions'>").appendTo(a),r("<button class='button primary js-table-inspector-save' type='button'>").html(o.label_save).appendTo(d),r("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(o.label_reset).appendTo(d),r("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(o.label_cancel).appendTo(d),a.data("open",!1),this.inspector=a,r("body").append(a),this._createInspectorEvents()},_resetInspector:function(){var t=this.inspector,o=t.find("table tbody");this._createInspectorItems(o),this._createInspectorEvents()},_createHeadsFromHTML:function(){var t=this,o=this.element,a=o.find("thead");a.length>0&&r.each(a.find("tr > *"),function(){var s=r(this),c,p,d;s.hasClass("rownum-cell")||s.hasClass("check-cell")||(l.isValue(s.data("sort-dir"))?c=s.data("sort-dir"):s.hasClass("sort-asc")?c="asc":s.hasClass("sort-desc")?c="desc":c=void 0,d=s[0].className.replace("sortable-column",""),d=d.replace("sort-asc",""),d=d.replace("sort-desc",""),d=d.replace("hidden",""),p={type:"data",title:s.html(),name:l.isValue(s.data("name"))?s.data("name"):s.text().replace(" ","_"),sortable:s.hasClass("sortable-column")||l.isValue(s.data("sortable"))&&JSON.parse(s.data("sortable"))===!0,sortDir:c,format:l.isValue(s.data("format"))?s.data("format"):"string",formatMask:l.isValue(s.data("format-mask"))?s.data("format-mask"):null,clsColumn:l.isValue(s.data("cls-column"))?s.data("cls-column"):"",cls:d,colspan:s.attr("colspan"),size:l.isValue(s.data("size"))?s.data("size"):"",show:!(s.hasClass("hidden")||l.isValue(s.data("show"))&&JSON.parse(s.data("show"))===!1),required:l.isValue(s.data("required"))?JSON.parse(s.data("required"))===!0:!1,field:l.isValue(s.data("field"))?s.data("field"):"input",fieldType:l.isValue(s.data("field-type"))?s.data("field-type"):"text",validator:l.isValue(s.data("validator"))?s.data("validator"):null,template:l.isValue(s.data("template"))?s.data("template"):null},t.heads.push(p))})},_createFootsFromHTML:function(){var t=this,o=this.element,a=o.find("tfoot");a.length>0&&r.each(a.find("tr > *"),function(){var s=r(this),c;c={title:s.html(),name:l.isValue(s.data("name"))?s.data("name"):!1,cls:s[0].className,colspan:s.attr("colspan")},t.foots.push(c)})},_createItemsFromHTML:function(){var t=this,o=this.element,a=o.find("tbody");a.length>0&&r.each(a.find("tr"),function(){var s=r(this),c=[];r.each(s.children("td"),function(){var p=r(this);c.push(p.html())}),t.items.push(c)}),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(t){var o=this;typeof t=="string"&&(t=JSON.parse(t)),t.header!==void 0?o.heads=t.header:this._createHeadsFromHTML(),t.data!==void 0&&r.each(t.data,function(){var a=this,s=[];r.each(a,function(){var c=this;s.push(c)}),o.items.push(s)}),t.footer!==void 0?this.foots=t.footer:this._createFootsFromHTML()},_createTableHeader:function(){var t=this.element,o=this.options,a=t.find("thead"),s,c,p=[],d,m,f=o.staticView?this._createView():this.view;if(a.length===0&&(a=r("<thead>"),t.prepend(a)),a.clear().addClass(o.clsHead),o.caption&&r("<caption>").html(o.caption).insertBefore(a),this.heads.length===0)return a;for(s=r("<tr>").addClass(o.clsHeadRow).appendTo(a),r.each(this.service,function(){var g=this,u=[],A=r("<th>");l.isValue(g.title)&&A.html(g.title),l.isValue(g.size)&&A.css({width:g.size}),l.isValue(g.cls)&&u.push(g.cls),u.push(o.clsHeadCell),A.addClass(u.join(" ")),s.append(A)}),m=this.heads,d=0;d<m.length;d++)p[d]=null;for(r.each(m,function(g){var u=this,A=[],b=r("<th>");b.data("index",g),l.isValue(u.title)&&b.html(u.title),l.isValue(u.format)&&b.attr("data-format",u.format),l.isValue(u.formatMask)&&b.attr("data-format-mask",u.formatMask),l.isValue(u.name)&&b.attr("data-name",u.name),l.isValue(u.colspan)&&b.attr("colspan",u.colspan),l.isValue(u.size)&&b.attr("data-size",u.size),l.isValue(u.sortable)&&b.attr("data-sortable",u.sortable),l.isValue(u.sortDir)&&b.attr("data-sort-dir",u.sortDir),l.isValue(u.clsColumn)&&b.attr("data-cls-column",u.clsColumn),l.isValue(u.cls)&&b.attr("data-cls",u.cls),l.isValue(u.show)&&b.attr("data-show",u.show),l.isValue(u.required)&&b.attr("data-required",u.required),l.isValue(u.field)&&b.attr("data-field",u.field),l.isValue(u.fieldType)&&b.attr("data-field-type",u.fieldType),l.isValue(u.validator)&&b.attr("data-validator",u.validator),l.isValue(u.template)&&b.attr("data-template",u.template),l.isValue(f[g].size)&&b.css({width:f[g].size}),u.sortable===!0&&(A.push("sortable-column"),l.isValue(u.sortDir)&&A.push("sort-"+u.sortDir)),l.isValue(u.cls)&&r.each(u.cls.toArray(),function(){A.push(this)}),l.bool(f[g].show)===!1&&A.indexOf("hidden")===-1&&A.push("hidden"),A.push(o.clsHeadCell),l.bool(f[g].show)&&l.arrayDelete(A,"hidden"),b.addClass(A.join(" ")),p[f[g]["index-view"]]=b}),d=0;d<m.length;d++)p[d].appendTo(s)},_createTableBody:function(){var t,o,a=this.element;o=a.find("thead"),t=a.find("tbody"),t.length===0&&(t=r("<tbody>").addClass(this.options.clsBody),o.length!==0?t.insertAfter(o):a.append(t)),t.clear()},_createTableFooter:function(){var t=this.element,o=this.options,a=t.find("tfoot"),s,c;a.length===0&&(a=r("<tfoot>").appendTo(t)),a.clear().addClass(o.clsFooter),this.foots.length!==0&&(s=r("<tr>").addClass(o.clsHeadRow).appendTo(a),r.each(this.foots,function(){var p=this;c=r("<th>").appendTo(s),p.title!==void 0&&c.html(p.title),p.name!==void 0&&c.addClass("foot-column-name-"+p.name),p.cls!==void 0&&c.addClass(p.cls),l.isValue(p.colspan)&&c.attr("colspan",p.colspan),c.appendTo(s)}))},_createTopBlock:function(){var t=this,o=this.element,a=this.options,s=this.strings,c=r("<div>").addClass("table-top").addClass(a.clsTableTop).insertBefore(o.parent()),p,d,m,f;return p=l.isValue(this.wrapperSearch)?this.wrapperSearch:r("<div>").addClass("table-search-block").addClass(a.clsSearch).appendTo(c),p.addClass(a.clsSearch),d=r("<input>").attr("type","text").attr("placeholder",a.tableSearchPlaceholder).appendTo(p),e.makePlugin(d,"input",{prepend:a.tableSearchTitle||s.label_search}),a.showSearch!==!0&&p.hide(),m=l.isValue(this.wrapperRows)?this.wrapperRows:r("<div>").addClass("table-rows-block").appendTo(c),m.addClass(a.clsRowsCount),f=r("<select>").appendTo(m),r.each(a.rowsSteps.toArray(),function(){var g=parseInt(this),u=r("<option>").attr("value",g).text(g===-1?a.allRecordsTitle||s.label_all:g).appendTo(f);g===parseInt(a.rows)&&u.attr("selected","selected")}),e.makePlugin(f,"select",{filter:!1,prepend:a.tableRowsCountTitle||s.label_rows_count,onChange:function(g){g=parseInt(g),g!==parseInt(a.rows)&&(a.rows=g,t.currentPage=1,t._draw(),t._fireEvent("rows-count-change",{val:g}))}}),a.showInspectorButton&&r("<button>").addClass("button inspector-button").attr("type","button").html(a.inspectorButtonIcon).insertAfter(m),a.showRowsSteps!==!0&&m.hide(),c},_createBottomBlock:function(){var t=this.element,o=this.options,a=this.strings,s=r("<div>").addClass("table-bottom").addClass(o.clsTableBottom).insertAfter(t.parent()),c,p,d;return c=l.isValue(this.wrapperInfo)?this.wrapperInfo:r("<div>").addClass("table-info").appendTo(s),c.addClass(o.clsTableInfo),o.showTableInfo!==!0&&c.hide(),p=l.isValue(this.wrapperPagination)?this.wrapperPagination:r("<div>").addClass("table-pagination").appendTo(s),p.addClass(o.clsTablePagination),o.showPagination!==!0&&p.hide(),d=l.isValue(this.wrapperSkip)?this.wrapperSkip:r("<div>").appendTo(s),d.addClass("table-skip").addClass(o.clsTableSkip),r(`<input type='text' data-role='input' placeholder="${a.label_enter_page}">`).addClass("table-skip-input").addClass(o.clsTableSkipInput).appendTo(d),r("<button>").addClass("button table-skip-button").addClass(o.clsTableSkipButton).html(o.tableSkipTitle||a.label_goto_page).appendTo(d),o.showSkip!==!0&&d.hide(),s},_createStructure:function(){var t=this,o=this.element,a=this.options,s,c=r(a.searchWrapper),p=r(a.infoWrapper),d=r(a.rowsWrapper),m=r(a.paginationWrapper),f=r(a.skipWrapper);c.length>0&&(this.wrapperSearch=c),p.length>0&&(this.wrapperInfo=p),d.length>0&&(this.wrapperRows=d),m.length>0&&(this.wrapperPagination=m),f.length>0&&(this.wrapperSkip=f),o.addClass(a.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();var g=!1;this.heads.length>0&&r.each(this.heads,function(A){var b=this;!g&&["asc","desc"].indexOf(b.sortDir)>-1&&(g=!0,t.sort.colIndex=A,t.sort.dir=b.sortDir)}),g&&(s=o.find("thead th"),this._resetSortClass(s),r(s.get(this.sort.colIndex+t.service.length)).addClass("sort-"+this.sort.dir),this.sorting());var u;l.isValue(a.filters)&&typeof a.filters=="string"&&r.each(a.filters.toArray(),function(){u=l.isFunc(this),u!==!1&&t.filtersIndexes.push(t.addFilter(u))}),this.currentPage=1,this._draw()},_resetSortClass:function(t){r(t).removeClass("sort-asc sort-desc")},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.closest(".table-component"),c=s.find(".table-container"),p=s.find(".table-search-block input"),d=a.skipWrapper?r(a.skipWrapper).find(".table-skip-button"):s.find(".table-skip-button"),m=a.skipWrapper?r(a.skipWrapper).find(".table-skip-input"):s.find(".table-skip-input"),f,g=o.attr("id"),u=s.find(".inspector-button");u.on(e.events.click,function(){t.toggleInspector()}),d.on(e.events.click,function(){var x=parseInt(m.val().trim());if(isNaN(x)||x<=0||x>t.pagesCount)return m.val(""),!1;m.val(""),t._fireEvent("skip",{skipTo:x,skipFrom:t.currentPage}),t.page(x)}),r(globalThis).on(e.events.resize,function(){a.horizontalScroll===!0&&(!l.isNull(a.horizontalScrollStop)&&l.mediaExist(a.horizontalScrollStop)?c.removeClass("horizontal-scroll"):c.addClass("horizontal-scroll"))},{ns:this.id}),o.on(e.events.click,".sortable-column",function(){if(a.muteTable===!0&&o.addClass("disabled"),t.busy)return!1;t.busy=!0;var x=r(this);t.activity.show(function(){setImmediate(function(){t.currentPage=1,t.sort.colIndex=x.data("index"),!x.hasClass("sort-asc")&&!x.hasClass("sort-desc")?t.sort.dir=a.sortDir:x.hasClass("sort-asc")?t.sort.dir="desc":t.sort.dir="asc",t._resetSortClass(o.find(".sortable-column")),x.addClass("sort-"+t.sort.dir),t.sorting(),t._draw(function(){t.busy=!1,a.muteTable===!0&&o.removeClass("disabled")})})})}),o.on(e.events.click,".table-service-check input",function(){var x=r(this),v=x.is(":checked"),I=""+x.val(),B=a.checkStoreKey.replace("$1",g),k=e.storage,w=k.getItem(B),E=x.attr("type")==="radio";E&&(w=[]),v?l.isValue(w)?Array(w).indexOf(I)===-1&&w.push(I):w=[I]:l.isValue(w)?l.arrayDelete(w,I):w=[],k.setItem(B,w),t._fireEvent("check-click",{check:this,status:v,data:w})}),o.on(e.events.click,".table-service-check-all input",function(){var x=r(this).is(":checked"),v=a.checkStoreKey.replace("$1",g),I=e.storage,B=[],k;a.useCurrentSlice===!0?(k=I.getItem(v,[]),x?r.each(t.currentSlice,function(){k.indexOf(""+this[a.checkColIndex])===-1&&k.push(""+this[a.checkColIndex])}):r.each(t.currentSlice,function(){var w=""+this[a.checkColIndex];k.indexOf(w)!==-1&&e.utils.arrayDelete(k,w)}),B=k):x?r.each(t.filteredItems,function(){B.indexOf(this[a.checkColIndex])===-1&&B.push(""+this[a.checkColIndex])}):B=[],I.setItem(v,B),t._draw(),t._fireEvent("check-click-all",{check:this,status:x,data:B})});var A=function(){t.searchString=this.value.trim().toLowerCase(),t.currentPage=1,t._draw()};A=Hooks.useDebounce(A,a.searchThreshold),p.on(e.events.inputchange,A),l.isValue(this.wrapperSearch)&&(f=this.wrapperSearch.find("input"),f.length>0&&f.on(e.events.inputchange,A));function b(x){var v=r(x),I=v.parent();t.filteredItems.length!==0&&(I.hasClass("active")||(I.hasClass("service")?v.data("page")==="prev"?(t.currentPage--,t.currentPage===0&&(t.currentPage=1)):(t.currentPage++,t.currentPage>t.pagesCount&&(t.currentPage=t.pagesCount)):t.currentPage=v.data("page"),t._draw()))}s.on(e.events.click,".pagination .page-link",function(){b(this)}),l.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",function(){b(this)}),this._createInspectorEvents(),o.on(e.events.click,".js-table-crud-button",function(){})},_createInspectorEvents:function(){var t=this,o=this.inspector;this._removeInspectorEvents(),o.on(e.events.click,".js-table-inspector-field-up",function(){var a=r(this),s=a.closest("tr"),c=s.prev("tr"),p=s.data("index"),d;c.length!==0&&(s.insertBefore(c),s.addClass("flash"),setTimeout(function(){s.removeClass("flash")},1e3),d=s.index(),s.data("index-view",d),t.view[p]["index-view"]=d,r.each(s.nextAll(),function(){var m=r(this);d++,m.data("index-view",d),t.view[m.data("index")]["index-view"]=d}),t._createTableHeader(),t._draw())}),o.on(e.events.click,".js-table-inspector-field-down",function(){var a=r(this),s=a.closest("tr"),c=s.next("tr"),p=s.data("index"),d;c.length!==0&&(s.insertAfter(c),s.addClass("flash"),setTimeout(function(){s.removeClass("flash")},1e3),d=s.index(),s.data("index-view",d),t.view[p]["index-view"]=d,r.each(s.prevAll(),function(){var m=r(this);d--,m.data("index-view",d),t.view[m.data("index")]["index-view"]=d}),t._createTableHeader(),t._draw())}),o.on(e.events.click,"input[type=checkbox]",function(){var a=r(this),s=a.is(":checked"),c=a.val(),p=["cls","clsColumn"];s?r.each(p,function(){var d;d=l.isValue(t.heads[c][this])?t.heads[c][this].toArray(" "):[],l.arrayDelete(d,"hidden"),t.heads[c][this]=d.join(" "),t.view[c].show=!0}):r.each(p,function(){var d;d=l.isValue(t.heads[c][this])?t.heads[c][this].toArray(" "):[],d.indexOf("hidden")===-1&&d.push("hidden"),t.heads[c][this]=d.join(" "),t.view[c].show=!1}),t._createTableHeader(),t._draw()}),o.find("input[type=number]").on(e.events.inputchange,function(){var a=r(this),s=a.attr("data-index"),c=parseInt(a.val());t.view[s].size=c===0?"":c,t._createTableHeader()}),o.on(e.events.click,".js-table-inspector-save",function(){t._saveTableView(),t.openInspector(!1)}),o.on(e.events.click,".js-table-inspector-cancel",function(){t.openInspector(!1)}),o.on(e.events.click,".js-table-inspector-reset",function(){t.resetView()})},_removeInspectorEvents:function(){var t=this.inspector;t.off(e.events.click,".js-table-inspector-field-up"),t.off(e.events.click,".js-table-inspector-field-down"),t.off(e.events.click,"input[type=checkbox]"),t.off(e.events.click,".js-table-inspector-save"),t.off(e.events.click,".js-table-inspector-cancel"),t.off(e.events.click,".js-table-inspector-reset"),t.off(e.events.inputchange,"input[type=number]")},_saveTableView:function(){var t=this,o=this.element,a=this.options,s=this.view,c=o.attr("id"),p=a.viewSavePath.replace("$1",c),d=e.storage;if(a.viewSaveMode.toLowerCase()==="client")d.setItem(p,s),this._fireEvent("view-save",{target:"client",path:a.viewSavePath,view:s});else{var m={id:o.attr("id"),view:s};fetch(p,{method:"POST",body:JSON.stringify(m),header:{"Content-type":"application/json;charset=utf-8"}}).then(e.fetch.status).then(e.fetch.text).then(function(f){t._fireEvent("view-save",{target:"server",path:a.viewSavePath,view:s,post_data:m,response:f})}).catch(function(f){t._fireEvent("data-save-error",{source:a.viewSavePath,error:f,post_data:m})})}},_info:function(t,o,a){var s=this.element,c=this.options,p=this.strings,d=s.closest(".table-component"),m=l.isValue(this.wrapperInfo)?this.wrapperInfo:d.find(".table-info"),f;m.length!==0&&(o>a&&(o=a),this.items.length===0&&(t=o=a=0),f=c.tableInfoTitle||p.table_info,f=f.replace("$1",t),f=f.replace("$2",o),f=f.replace("$3",a),m.html(f))},_paging:function(t){var o=this.element,a=this.options,s=this.strings,c=o.closest(".table-component");this.pagesCount=Math.ceil(t/a.rows),e.pagination({length:t,rows:a.rows,current:this.currentPage,target:l.isValue(this.wrapperPagination)?this.wrapperPagination:c.find(".table-pagination"),claPagination:a.clsPagination,prevTitle:a.paginationPrevTitle||s.label_prev,nextTitle:a.paginationNextTitle||s.label_next,distance:a.paginationDistance,islandSize:a.paginationIslandSize,shortTrack:a.paginationShortTrack})},_filter:function(){var t=this,o=this.options,a;return l.isValue(this.searchString)&&t.searchString.length>=o.searchMinLength||this.filters.length>0?a=this.items.filter(function(s){var c="",p,d,m,f=0;if(t.filters.length>0){for(p=o.filtersOperator.toLowerCase()==="and",m=0;m<t.filters.length;m++)l.isNull(t.filters[m])||(f++,p=o.filtersOperator.toLowerCase()==="and"?p&&l.exec(t.filters[m],[s,t.heads]):p||l.exec(t.filters[m],[s,t.heads]));f===0&&(p=!0)}else p=!0;return t.searchFields.length>0?r.each(t.heads,function(g,u){t.searchFields.indexOf(u.name)>-1&&(c+="\u2022"+s[g])}):c=s.join("\u2022"),c=c.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),d=l.isValue(t.searchString)&&t.searchString.length>=o.searchMinLength?~c.indexOf(t.searchString):!0,p=p&&d,p?t._fireEvent("filter-row-accepted",{row:s}):t._fireEvent("filter-row-declined",{row:s}),p}):a=this.items,this._fireEvent("search",{search:t.searchString,items:a}),this.filteredItems=a,a},_draw:function(t){var o=this,a=this.element,s=this.options,c=this.strings,p=a.find("tbody"),d,m,f,g,u,A,b,x,v=parseInt(s.rows)===-1?0:s.rows*(this.currentPage-1),I=parseInt(s.rows)===-1?this.items.length-1:v+s.rows-1,B,k=[],w=e.storage.getItem(s.checkStoreKey.replace("$1",a.attr("id"))),E=s.staticView?this.viewDefault:this.view;if(p.html(""),!this.heads.length){console.warn("Heads is not defined for table ID "+a.attr("id"));return}if(B=this._filter(),this.currentSlice=B.slice(v,I+1),k=[],B.length>0){for(d=v;d<=I;d++)if(A=B[d],b=[],!!l.isValue(A)){for(f=r("<tr>").addClass(s.clsBodyRow),f.data("original",A),x=d%2===0,g=r("<td>").attr("data-label","#").attr("aria-label","#").html(d+1),o.service[0].clsColumn!==void 0&&g.addClass(o.service[0].clsColumn),g.appendTo(f),g=r("<td>").attr("data-label","CHK").attr("aria-label","CHK"),s.checkType==="checkbox"?u=r("<input type='checkbox' data-style='"+s.checkStyle+"' data-role='checkbox' name='"+(l.isValue(s.checkName)?s.checkName:"table_row_check")+"[]' value='"+B[d][s.checkColIndex]+"'>"):u=r("<input type='radio' data-style='"+s.checkStyle+"' data-role='radio' name='"+(l.isValue(s.checkName)?s.checkName:"table_row_check")+"' value='"+B[d][s.checkColIndex]+"'>"),l.isValue(w)&&Array.isArray(w)&&w.indexOf(""+B[d][s.checkColIndex])>-1&&(u.prop("checked",!0),k.push(A)),u.addClass("table-service-check"),this._fireEvent("check-draw",{check:u}),u.appendTo(g),o.service[1].clsColumn!==void 0&&g.addClass(o.service[1].clsColumn),g.appendTo(f),m=0;m<A.length;m++)b[m]=null;for(r.each(A,function(y){var U=this,z=r("<td>").attr("data-label",o.heads[y].title).attr("aria-label",o.heads[y].title);l.isValue(o.heads[y].template)&&(U=o.heads[y].template.replace(/%VAL%/g,U)),z.html(U),z.addClass(s.clsBodyCell),l.isValue(o.heads[y].clsColumn)&&z.addClass(o.heads[y].clsColumn),l.bool(E[y].show)===!1&&z.addClass("hidden"),l.bool(E[y].show)&&z.removeClass("hidden"),z.data("original",this),b[E[y]["index-view"]]=z,o._fireEvent("draw-cell",{td:z,val:U,cellIndex:y,head:o.heads[y],items:A}),s.cellWrapper===!0&&(U=r("<div>").addClass("data-wrapper").addClass(s.clsCellWrapper).html(z.html()),z.html("").append(U))}),m=0;m<A.length;m++)b[m].appendTo(f),o._fireEvent("append-cell",{td:b[m],tr:f,index:m});o._fireEvent("draw-row",{tr:f,view:o.view,heads:o.heads,items:A}),f.addClass(s.clsRow).addClass(x?s.clsEvenRow:s.clsOddRow).appendTo(p),o._fireEvent("append-row",{tr:f})}r(this.component).find(".table-service-check-all input").prop("checked",k.length)}else m=0,r.each(E,function(){this.show&&m++}),s.check===!0&&m++,s.rownum===!0&&m++,f=r("<tr>").addClass(s.clsBodyRow).appendTo(p),g=r("<td>").attr("colspan",m).addClass("text-center").html(r("<span>").addClass(s.clsEmptyTableTitle).html(s.emptyTableTitle||c.label_empty)),g.appendTo(f);this._info(v+1,I+1,B.length),this._paging(B.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),t!==void 0&&l.exec(t,null,a[0])},_getItemContent:function(t){var o=this.options,a=this.locale,s,c=t[this.sort.colIndex],p=this.heads[this.sort.colIndex].format,d=!l.isNull(this.heads)&&!l.isNull(this.heads[this.sort.colIndex])&&l.isValue(this.heads[this.sort.colIndex].formatMask)?this.heads[this.sort.colIndex].formatMask:"%Y-%m-%d",m=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:o.thousandSeparator,f=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:o.decimalSeparator;if(s=(""+c).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),l.isValue(s)&&l.isValue(p))switch(["number","int","float","money"].indexOf(p)!==-1&&(s=l.parseNumber(s,m,f)),p){case"date":s=d?Datetime.from(s,d,a):datetime(s);break;case"number":s=+s;break;case"int":s=parseInt(s);break;case"float":s=parseFloat(s);break;case"money":s=l.parseMoney(s);break;case"card":s=l.parseCard(s);break;case"phone":s=l.parsePhone(s);break}return s},addItem:function(t,o){if(!Array.isArray(t))return console.warn("Item is not an array and can't be added"),this;this.items.push(t),o!==!1&&this.draw()},addItems:function(t,o){if(!Array.isArray(t))return console.warn("Items is not an array and can't be added"),this;t.forEach(function(a){Array.isArray(a)&&this.items.push(a,!1)}),this.draw(),o!==!1&&this.draw()},updateItem:function(t,o,a){var s=this.items[this.index[t]],c=null;return l.isNull(s)?(console.warn("Item is undefined for update"),this):(isNaN(o)&&this.heads.forEach(function(p,d){p.name===o&&(c=d)}),l.isNull(c)?(console.warn("Item is undefined for update. Field "+o+" not found in data structure"),this):(s[c]=a,this.items[this.index[t]]=s,this))},getItem:function(t){return this.items[this.index[t]]},deleteItem:function(t,o){var a,s=[],c=l.isFunc(o);for(a=0;a<this.items.length;a++)c?l.exec(o,[this.items[a][t]])&&s.push(a):this.items[a][t]===o&&s.push(a);return this.items=l.arrayDeleteByMultipleKeys(this.items,s),this},deleteItemByName:function(t,o){var a,s,c=[],p=l.isFunc(o);for(a=0;a<this.heads.length;a++)if(this.heads[a].name===t){s=a;break}for(a=0;a<this.items.length;a++)p?l.exec(o,[this.items[a][s]])&&c.push(a):this.items[a][s]===o&&c.push(a);return this.items=l.arrayDeleteByMultipleKeys(this.items,c),this},draw:function(){return this._draw(),this},sorting:function(t){var o=this;return l.isValue(t)&&(this.sort.dir=t),this._fireEvent("sort-start",{items:this.items}),this.items.sort(function(a,s){var c=o._getItemContent(a),p=o._getItemContent(s),d=0;return c<p&&(d=o.sort.dir==="asc"?-1:1),c>p&&(d=o.sort.dir==="asc"?1:-1),d!==0&&o._fireEvent("sort-item-switch",{a,b:s,result:d}),d}),this._fireEvent("sort-stop",{items:this.items}),this},search:function(t){return this.searchString=t.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(t){var o=this,a=this.element,s=!1,c;this._createIndex(),t===!0&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&r.each(this.heads,function(p){var d=this;!s&&["asc","desc"].indexOf(d.sortDir)>-1&&(s=!0,o.sort.colIndex=p,o.sort.dir=d.sortDir)}),s&&(c=a.find(".sortable-column"),this._resetSortClass(c),r(c.get(o.sort.colIndex)).addClass("sort-"+o.sort.dir),this.sorting()),o.currentPage=1,o._draw()},setHeads:function(t){return this.heads=t,this},setHeadItem:function(t,o){var a,s;for(a=0;a<this.heads.length;a++)if(this.heads[a].name===t){s=a;break}return this.heads[s]=o,this},setItems:function(t){return this.items=t,this},setData:function(t){var o=this,a=this.options;return this.activity.show(function(){o.items=[],o.heads=[],o.foots=[],Array.isArray(a.head)&&(o.heads=a.head),Array.isArray(a.body)&&(o.items=a.body),o._createItemsFromJSON(t),o._rebuild(!0),o.activity.hide()}),this},loadData:function(t,o){var a=this,s=this.element,c=this.options;l.isValue(o)||(o=!0),s.html(""),l.isValue(t)?(c.source=t,this._fireEvent("data-load",{source:c.source}),a.activity.show(function(){fetch(c.source).then(e.fetch.status).then(e.fetch.json).then(function(p){a.activity.hide(),a.items=[],a.heads=[],a.foots=[],a._fireEvent("data-loaded",{source:c.source,data:p}),Array.isArray(c.head)&&(a.heads=c.head),Array.isArray(c.body)&&(a.items=c.body),a._createItemsFromJSON(p),a._rebuild(o),a._resetInspector(),a._fireEvent("data-load-end",{source:c.source,data:p})}).catch(function(p){a.activity.hide(),a._fireEvent("data-load-error",{source:c.source,error:p})})})):this._rebuild(o)},reload:function(t){this.loadData(this.options.source,t)},clear:function(){return this.items=[],this.draw()},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}return this._draw(),this}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}return this._draw(),this}},first:function(){if(this.items.length!==0)return this.currentPage=1,this._draw(),this},last:function(){if(this.items.length!==0)return this.currentPage=this.pagesCount,this._draw(),this},page:function(t){return t<=0&&(t=1),t>this.pagesCount&&(t=this.pagesCount),this.currentPage=t,this._draw(),this},addFilter:function(t,o){var a=null,s,c=l.isFunc(t);if(c!==!1){for(s=0;s<this.filters.length;s++)if(l.isNull(this.filters[s])){a=s,this.filters[s]=c;break}return l.isNull(a)&&(this.filters.push(c),a=this.filters.length-1),o===!0&&(this.currentPage=1,this.draw()),a}},removeFilter:function(t,o){return this.filters[t]=null,o===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(t){return this.filters=[],t===!0&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){var t=this.element,o=this.options,a=e.storage.getItem(o.checkStoreKey.replace("$1",t.attr("id"))),s=[];return l.isValue(a)?(r.each(this.items,function(){a.indexOf(""+this[o.checkColIndex])!==-1&&s.push(this)}),s):[]},getStoredKeys:function(){var t=this.element,o=this.options;return e.storage.getItem(o.checkStoreKey.replace("$1",t.attr("id")),[])},clearSelected:function(t){var o=this.element,a=this.options;e.storage.setItem(a.checkStoreKey.replace("$1",o.attr("id")),[]),o.find("table-service-check-all input").prop("checked",!1),t===!0&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(t){var o=this.inspector;t?o.show(0,function(){o.css({top:(r(globalThis).height()-o.outerHeight(!0))/2+pageYOffset,left:(r(globalThis).width()-o.outerWidth(!0))/2+pageXOffset}).data("open",!0)}):o.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(t,o,a,s){var c=e.export,p=this,d=this.options,m=document.createElement("table"),f=r("<thead>").appendTo(m),g=r("<tbody>").appendTo(m),u,A,b,x=[],v,I,B,k,w;if(typeof c.tableToCSV=="function"){for(o=l.isValue(o)?o.toLowerCase():"all-filtered",a=l.isValue(a)?a:l.elementId("table")+"-export.csv",I=r("<tr>"),b=this.heads,A=0;A<b.length;A++)x[A]=null;for(r.each(b,function(E){var y=this;l.bool(p.view[E].show)!==!1&&(B=r("<th>"),l.isValue(y.title)&&B.html(y.title),x[p.view[E]["index-view"]]=B)}),A=0;A<b.length;A++)l.isValue(x[A])&&x[A].appendTo(I);for(I.appendTo(f),o==="checked"?(v=this.getSelectedItems(),k=0,w=v.length-1):o==="view"?(v=this._filter(),k=parseInt(d.rows)===-1?0:d.rows*(this.currentPage-1),w=parseInt(d.rows)===-1?v.length-1:k+d.rows-1):o==="all"?(v=this.items,k=0,w=v.length-1):(v=this._filter(),k=0,w=v.length-1),u=k;u<=w;u++)if(l.isValue(v[u])){for(I=r("<tr>"),b=v[u],A=0;A<b.length;A++)x[A]=null;for(r.each(b,function(E){l.bool(p.view[E].show)!==!1&&(B=r("<td>").html(this),x[p.view[E]["index-view"]]=B)}),A=0;A<b.length;A++)l.isValue(x[A])&&x[A].appendTo(I);I.appendTo(g)}c.tableToCSV(m,a,s),m.remove()}},changeAttribute:function(t){var o=this,a=this.element,s=this.options;function c(){s.check=l.bool(a.attr("data-check")),o._service(),o._createTableHeader(),o._draw()}function p(){s.rownum=l.bool(a.attr("data-rownum")),o._service(),o._createTableHeader(),o._draw()}switch(t){case"data-check":c();break;case"data-rownum":p();break}},destroy:function(){var t=this.element,o=t.closest(".table-component"),a=o.find("input"),s=o.find("select");if(a.data("input").destroy(),s.data("select").destroy(),r(globalThis).off(e.events.resize,{ns:this.id}),t.off(e.events.click,".sortable-column"),t.off(e.events.click,".table-service-check input"),t.off(e.events.click,".table-service-check-all input"),a.off(e.events.inputchange),l.isValue(this.wrapperSearch)){var c=this.wrapperSearch.find("input");c.length>0&&c.off(e.events.inputchange)}return o.off(e.events.click,".pagination .page-link"),l.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),t.off(e.events.click,".js-table-crud-button"),this._removeInspectorEvents(),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={tabsDeferred:0,expand:!1,expandPoint:null,tabsPosition:"top",tabsType:"default",updateUri:!1,clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:e.noop,onTabOpen:e.noop,onTabClose:e.noop,onBeforeTab:e.noop_true,onTabsCreate:e.noop};e.tabsSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroTabsSetup!==void 0&&e.tabsSetup(globalThis.metroTabsSetup),e.Component("tabs",{init:function(t,o){return this._super(o,t,i,{_targets:[],id:l.elementId("tabs")}),this},_create:function(){var t=this.element,o=this.options,a=t.find(".active").length>0?r(t.find(".active")[0]):void 0;this._createStructure(),this._createEvents(),this._open(a),this._fireEvent("tabs-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,a=t.parent(),s=a.hasClass("tabs"),c=s?a:r("<div>").addClass("tabs tabs-wrapper"),p,d;if(c.addClass(o.tabsPosition.replace(["-","_","+"]," ")),t.addClass("tabs-list"),o.tabsType!=="default"&&t.addClass("tabs-"+o.tabsType),s||(c.insertBefore(t),t.appendTo(c)),t.data("expanded",!1),p=r("<div>").addClass("expand-title"),c.prepend(p),d=c.find(".hamburger"),d.length===0){d=r("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(c);for(var m=0;m<3;m++)r("<span>").addClass("line").appendTo(d)}c.addClass(o.clsTabs),t.addClass(o.clsTabsList),t.children("li").addClass(o.clsTabsListItem),(o.expand===!0&&!o.tabsPosition.includes("vertical")||l.isValue(o.expandPoint)&&l.mediaExist(o.expandPoint)&&!o.tabsPosition.includes("vertical"))&&c.addClass("tabs-expand"),o.tabsPosition.includes("vertical")&&c.addClass("tabs-expand")},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.parent();r(globalThis).on(e.events.resize,function(){a.tabsPosition.includes("vertical")||(a.expand===!0&&!a.tabsPosition.includes("vertical")?s.addClass("tabs-expand"):l.isValue(a.expandPoint)&&l.mediaExist(a.expandPoint)&&!a.tabsPosition.includes("vertical")?s.hasClass("tabs-expand")||s.addClass("tabs-expand"):s.hasClass("tabs-expand")&&s.removeClass("tabs-expand"))},{ns:this.id}),s.on(e.events.click,".hamburger, .expand-title",function(){o.data("expanded")===!1?(o.addClass("expand"),o.data("expanded",!0),s.find(".hamburger").addClass("active")):(o.removeClass("expand"),o.data("expanded",!1),s.find(".hamburger").removeClass("active"))}),o.on(e.events.click,"a",function(c){var p=r(this),d=p.attr("href").trim(),m=p.parent("li");if(t._fireEvent("tab",{tab:m[0],target:m.children("a").attr("href")}),m.hasClass("active")&&c.preventDefault(),o.data("expanded")===!0&&(o.removeClass("expand"),o.data("expanded",!1),s.find(".hamburger").removeClass("active")),l.exec(a.onBeforeTab,[m,o],m[0])!==!0)return!1;l.isValue(d)&&d[0]==="#"&&(t._open(m),c.preventDefault())}),r(globalThis).on("hashchange",function(c){var p,d;a.updateUri&&(p=globalThis.location.hash,d=t._findTabByTarget(p),t._open(r(d)))})},_findTabByTarget:function(t){var o=this.element,a=o.find("li"),s=void 0;return a.each(function(c,p){!s&&r(p).children("a").attr("href")===t&&(s=p)}),s},_collectTargets:function(){var t=this,o=this.element,a=o.find("li");this._targets=[],r.each(a,function(){var s=r(this).find("a").attr("href").trim();s.length>1&&s[0]==="#"&&t._targets.push(s)})},_open:function(t){var o=this.element,a=this.options,s=o.find("li"),c=o.siblings(".expand-title"),p=o.find("li.active");if(s.length!==0){this._collectTargets(),t===void 0&&(t=r(s[0]));var d=t.find("a").attr("href");d!==void 0&&(s.removeClass("active").removeClass(a.clsTabsListItemActive),t.parent().hasClass("d-menu")?t.parent().parent().addClass("active"):t.addClass("active"),r.each(this._targets,function(){var m=r(this);m.length>0&&m.hide()}),d!=="#"&&d[0]==="#"&&(a.updateUri&&(globalThis.location.hash=d),r(d).show()),c.html(t.find("a").html()),t.addClass(a.clsTabsListItemActive),p.is(t)||(this._fireEvent("tab-open",{tab:t[0],target:t.children("a").attr("href")}),this._fireEvent("tab-close",{tab:p[0],target:p.children("a").attr("href")})))}},next:function(){var t=this.element,o,a=t.find("li.active");o=a.next("li"),o.length>0&&this._open(o)},prev:function(){var t=this.element,o,a=t.find("li.active");o=a.prev("li"),o.length>0&&this._open(o)},openByTarget:function(t){var o=this._findTabByTarget(t);o&&this._open(r(o))},open:function(t){var o=this.element,a=o.find("li");l.isValue(t)||(t=1),l.isInt(t)?l.isValue(a[t-1])&&this._open(r(a[t-1])):this._open(r(t))},changeAttribute:function(){},destroy:function(){var t=this.element,o=t.parent();return r(globalThis).off(e.events.resize,{ns:this.id}),o.off(e.events.click,".hamburger, .expand-title"),t.off(e.events.click,"a"),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={wheelStep:20,materialtabsDeferred:0,deep:!1,fixedTabs:!1,duration:300,appBar:!1,clsComponent:"",clsTabs:"",clsTab:"",clsTabActive:"",clsMarker:"",onBeforeTabOpen:e.noop_true,onTabOpen:e.noop,onTabsScroll:e.noop,onTabsCreate:e.noop};e.materialTabsSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroMaterialTabsSetup!==void 0&&e.materialTabsSetup(globalThis.metroMaterialTabsSetup),e.Component("material-tabs",{init:function(t,o){return this._super(o,t,i,{marker:null,scroll:0,scrollDir:"left"}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("tabs-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,a=t.find("li"),s=t.find("li.active"),c=r("<div>").addClass("tabs-material-wrapper").addClass(o.clsComponent).insertBefore(t);o.appBar===!0&&c.addClass("app-bar-present"),o.appBar==="more"&&c.addClass("app-bar-present-more"),t.appendTo(c),t.addClass("tabs-material").addClass(o.clsTabs),a.addClass(o.clsTab),o.deep===!0&&t.addClass("deep"),o.fixedTabs===!0&&t.addClass("fixed-tabs"),this.marker=t.find(".tab-marker"),this.marker.length===0&&(this.marker=r("<span>").addClass("tab-marker").addClass(o.clsMarker).appendTo(t)),this.openTab(s.length===0?a[0]:s[0])},_createEvents:function(){var t=this,o=this.element,a=this.options;o.on(e.events.click,"li",function(s){var c=r(this),p=o.find("li.active"),d=c.index()>p.index(),m=c.children("a").attr("href");if(s.preventDefault(),l.isValue(m)&&m[0]==="#"){if(c.hasClass("active")||c.hasClass("disabled")||l.exec(a.onBeforeTabOpen,[c,m,d],this)===!1)return;t.openTab(c,d)}}),o.on(e.events.scroll,function(){var s=t.scroll;t.scrollDir=t.scroll<o[0].scrollLeft?"left":"right",t.scroll=o[0].scrollLeft,t._fireEvent("tabs-scroll",{scrollLeft:o[0].scrollLeft,oldScroll:s,scrollDir:t.scrollDir})}),o.on(e.events.mousewheel,function(s){if(s.deltaY!==void 0){var c,p=r(this),d=s.deltaY>0?-1:1,m=a.wheelStep;c=p.scrollLeft()-d*m,p.scrollLeft(c)}},{passive:!0})},openTab:function(t,o){var a=this.element,s=this.options,c=a.find("li"),p=52,d,m,f,g,u,A,b;t=r(t),r.each(c,function(){var x=r(this).find("a").attr("href");l.isValue(x)&&x[0]==="#"&&x.length>1&&r(x).hide()}),m=a.width(),A=a.scrollLeft(),u=t.position().left,f=t.width(),d=u+f,c.removeClass("active").removeClass(s.clsTabActive),t.addClass("active").addClass(s.clsTabActive),d+p>m+A?b=A+p*2:u<A?b=u-p*2:b=A,a.animate({draw:{scrollLeft:b},dur:s.duration}),this.marker.animate({draw:{left:u,width:f},dur:s.duration}),g=t.find("a").attr("href"),l.isValue(g)&&g[0]==="#"&&g.length>1&&r(g).show(),this._fireEvent("tab-open",{tab:t[0],target:g,tab_next:o})},open:function(t){var o=this.element,a=o.find("li"),s=o.find("li.active"),c=a.eq(t-1),p=a.index(c)>a.index(s);this.openTab(c,p)},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,"li"),t.off(e.events.scroll),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={autocomplete:null,autocompleteUnique:!0,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,label:"",size:"normal",taginputDeferred:0,static:!1,clearButton:!0,clearButtonIcon:"\u274C",randomColor:!1,maxTags:0,tagSeparator:",",tagTrigger:"Enter, Space, Comma",backspace:!0,clsComponent:"",clsInput:"",clsClearButton:"",clsTag:"",clsTagTitle:"",clsTagAction:"",clsLabel:"",onBeforeTagAdd:e.noop_true,onTagAdd:e.noop,onBeforeTagRemove:e.noop_true,onTagRemove:e.noop,onTag:e.noop,onClear:e.noop,onTagTrigger:e.noop,onTagInputCreate:e.noop};e.tagInputSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroTagInputSetup!==void 0&&e.tagInputSetup(globalThis.metroTagInputSetup),e.Component("tag-input",{init:function(t,o){return this._super(o,t,i,{values:[],triggers:[],autocomplete:[]}),this},_create:function(){this.triggers=(""+this.options.tagTrigger).toArray(","),(this.triggers.includes("Space")||this.triggers.includes("Spacebar"))&&(this.triggers.push(" "),this.triggers.push("Spacebar")),this.triggers.includes("Comma")&&this.triggers.push(","),this._createStructure(),this._createEvents(),this._fireEvent("tag-input-create",{element:this.element})},_createStructure:function(){var t=this,o=this.element,a=this.options,s,c,p,d=o.val().trim();if(s=r("<div>").addClass("tag-input "+o[0].className).addClass(a.clsComponent).insertBefore(o),o.appendTo(s),s.addClass("input-"+a.size),o[0].className="",o.addClass("original-input"),c=r("<input type='text'>").addClass("input-wrapper").addClass(a.clsInput).attr("size",1),c.appendTo(s),a.clearButton!==!1&&!o[0].readOnly&&(s.addClass("padding-for-clear"),p=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(a.clearButtonIcon),p.appendTo(s)),l.isValue(d)&&r.each(d.toArray(a.tagSeparator),function(){t._addTag(this)}),a.label){var m=r("<label>").addClass("label-for-input").addClass(a.clsLabel).html(a.label).insertBefore(s);o.attr("id")&&m.attr("for",o.attr("id")),o.attr("dir")==="rtl"&&m.addClass("rtl")}if(o.is(":disabled")?this.disable():this.enable(),(a.static===!0||o.attr("readonly")!==void 0)&&s.addClass("static-mode"),(!l.isNull(a.autocomplete)||!l.isNull(a.autocompleteUrl))&&r("<div>").addClass("autocomplete-list").css({maxHeight:a.autocompleteListHeight,display:"none"}).appendTo(s),l.isValue(a.autocomplete)){var f=l.isObject(a.autocomplete);f!==!1?this.autocomplete=f:this.autocomplete=a.autocomplete.toArray(a.autocompleteDivider)}l.isValue(a.autocompleteUrl)&&fetch(a.autocompleteUrl,{method:a.autocompleteUrlMethod}).then(function(g){return g.text()}).then(function(g){var u=[];try{u=JSON.parse(g),a.autocompleteUrlKey&&(u=u[a.autocompleteUrlKey])}catch{u=g.split(`
`)}t.autocomplete=t.autocomplete.concat(u)})},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.closest(".tag-input"),c=s.find(".input-wrapper"),p=s.find(".autocomplete-list");c.on(e.events.focus,function(){s.addClass("focused")}),c.on(e.events.blur,function(){s.removeClass("focused")}),c.on(e.events.inputchange,function(){c.attr("size",Math.ceil(c.val().length/2)+2)}),c.on(e.events.keydown,function(d){var m=c.val().trim(),f=d.key;if(f==="Enter"&&d.preventDefault(),a.backspace===!0&&f==="Backspace"&&m.length===0){t.values.length>0&&(t.values.splice(-1,1),o.siblings(".tag").last().remove(),o.val(t.values.join(a.tagSeparator)));return}m!==""&&t.triggers.includes(f)&&(t._fireEvent("tag-trigger",{key:f}),c.val(""),t._addTag(m),c.attr("size",1))}),c.on(e.events.keyup,function(d){var m=c.val(),f=d.key;t.triggers.includes(f)&&m[m.length-1]===f&&c.val(m.slice(0,-1))}),s.on(e.events.click,".tag .action",function(){var d=r(this).closest(".tag");t._delTag(d)}),s.on(e.events.click,function(){c.focus()}),s.on(e.events.click,".input-clear-button",function(){var d=o.val();t.clear(),t._fireEvent("clear",{val:d})}),c.on(e.events.input,function(){var d=this.value.toLowerCase();t._drawAutocompleteList(d)}),s.on(e.events.click,".autocomplete-list .item",function(){var d=r(this).attr("data-autocomplete-value");c.val(""),t._addTag(d),c.attr("size",1),p.css({display:"none"}),t._fireEvent("autocomplete-select",{value:d})})},_drawAutocompleteList:function(t){var o=this,a=this.element,s=this.options,c=a.closest(".tag-input"),p=c.find(".input-wrapper"),d=c.find(".autocomplete-list"),m;d.length!==0&&(d.html(""),m=this.autocomplete.filter(function(f){return f.toLowerCase().indexOf(t)>-1}),d.css({display:m.length>0?"block":"none",left:p.position().left}),r.each(m,function(){if(!(s.autocompleteUnique&&o.values.indexOf(this)!==-1)){var f=this,g=f.toLowerCase().indexOf(t),u,A=r("<div>").addClass("item").attr("data-autocomplete-value",f);g===0?u="<strong>"+f.substr(0,t.length)+"</strong>"+f.substr(t.length):u=f.substr(0,g)+"<strong>"+f.substr(g,t.length)+"</strong>"+f.substr(g+t.length),A.html(u).appendTo(d),o._fireEvent("draw-autocomplete-item",{item:A})}}))},_addTag:function(t){var o=this.element,a=this.options,s=o.closest(".tag-input"),c=s.find(".input-wrapper"),p,d,m,f,g;if(s.hasClass("input-large")?f="large":s.hasClass("input-small")&&(f="small"),!(a.maxTags>0&&this.values.length===a.maxTags)&&(""+t).trim()!==""&&l.exec(a.onBeforeTagAdd,[t,this.values],o[0])){if(p=r("<span>").addClass("tag").addClass(f).addClass(a.clsTag).insertBefore(c),p.data("value",t),g=a.static||s.hasClass("static-mode")||o.readonly||o.disabled||s.hasClass("disabled"),g&&p.addClass("static"),d=r("<span>").addClass("title").addClass(a.clsTagTitle).html(t),m=r("<span>").addClass("action").addClass(a.clsTagAction).html("&times;"),d.appendTo(p),m.appendTo(p),a.randomColor===!0){var u=Object.values(Object.assign({},Farbe.StandardColors,Farbe.MetroColors)),A,b,x;A=u[r.random(0,u.length-1)],x=Farbe.Routines.darken(A,15),b=Farbe.Routines.isDark(A)?"#ffffff":"#000000",p.css({backgroundColor:A,color:b}),m.css({backgroundColor:x,color:b})}this.values.push(t),o.val(this.values.join(a.tagSeparator)),this._fireEvent("tag-add",{tag:p[0],val:t,values:this.values}),this._fireEvent("tag",{tag:p[0],val:t,values:this.values})}},_delTag:function(t){var o=this.element,a=this.options,s=t.data("value");l.exec(a.onBeforeTagRemove,[t,s,this.values],o[0])&&(l.arrayDelete(this.values,s),o.val(this.values.join(a.tagSeparator)),this._fireEvent("tag-remove",{tag:t[0],val:s,values:this.values}),this._fireEvent("tag",{tag:t[0],val:s,values:this.values}),t.remove())},tags:function(){return this.values},val:function(t){var o=this,a=this.element,s=this.options,c=a.closest(".tag-input"),p=[];return l.isValue(t)?(this.values=[],c.find(".tag").remove(),typeof t=="string"?p=(""+t).toArray(s.tagSeparator):Array.isArray(t)&&(p=t),r.each(p,function(){o._addTag(this)}),this):this.tags()},append:function(t){var o=this,a=this.options,s=this.values;return typeof t=="string"?s=(""+t).toArray(a.tagSeparator):Array.isArray(t)&&(s=t),r.each(s,function(){o._addTag(this)}),this},clear:function(){var t=this.element,o=t.closest(".tag-input");return this.values=[],t.val("").trigger("change"),o.find(".tag").remove(),this},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleStatic:function(t){var o=this.element.closest(".tag-input"),a;l.isValue(t)?a=l.bool(t):a=!o.hasClass("static-mode"),a?o.addClass("static-mode"):o.removeClass("static-mode")},setAutocompleteList:function(t){var o=l.isObject(t);o!==!1?this.autocomplete=o:typeof t=="string"&&(this.autocomplete=t.toArray(this.options.autocompleteDivider))},changeAttribute:function(t){var o=this,a=this.element,s=this.options,c=function(){var p=a.attr("value").trim();o.clear(),l.isValue(p)&&o.val(p.toArray(s.tagSeparator))};switch(t){case"value":c();break;case"disabled":this.toggleState();break;case"static":this.toggleStatic();break}},destroy:function(){var t=this.element,o=t.closest(".tag-input"),a=o.find(".input-wrapper");return a.off(e.events.focus),a.off(e.events.blur),a.off(e.events.keydown),o.off(e.events.click,".tag .action"),o.off(e.events.click),t}}),r(document).on(e.events.click,function(){r(".tag-input .autocomplete-list").hide()})})(Metro,Dom);(function(e,r){"use strict";let l={onTaskClick:e.noop,onMyObjectCreate:e.noop};e.taskBarSetup=function(i){l=r.extend({},l,i)},typeof window.metroTaskBarSetup!==void 0&&e.taskBarSetup(window.metroTaskBarSetup),e.Component("task-bar",{init:function(i,t){return this._super(t,i,l,{tasks:[],systemTray:[],widgets:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("task-bar-create")},_createStructure:function(){let i=this,t=this.element,o=this.options;t.addClass("task-bar"),t.append(r("<div>").addClass("widgets")),t.append(r("<div>").addClass("tasks")),t.append(r("<div>").addClass("system-tray"))},_createEvents:function(){let i=this,t=this.element,o=this.options;t.on(e.events.click,".task",function(){let a=i.tasks[r(this).index()];for(let s of i.tasks)s.active=!1;a.active=!0,i._renderTasks(),i._fireEvent("task-click",{task:a,element:a.ref})}),t.on(e.events.click,".system-tray-item",function(){let a=i.systemTray[r(this).index()];i._fireEvent("system-tray-click",{item:a})}),t.on(e.events.click,".widget",function(){let a=i.widgets[r(this).index()];i._fireEvent("widget-click",{item:a})})},_renderTasks:function(){let i=this,t=this.element,o=this.options,a=t.find(".tasks").clear();for(let s of this.tasks){let c=r("<div>").addClass("task").attr("title",s.title).html(s.icon);s.active&&c.addClass("active"),a.append(c)}},_renderSystemTray:function(){let i=this,t=this.element,o=this.options,a=t.find(".system-tray").clear();for(let s of this.systemTray)a.append(r(s).addClass("system-tray-item"))},_renderWidgets:function(){let i=this,t=this.element,o=this.options,a=t.find(".widgets").clear();for(let s of this.widgets)a.append(r(s).addClass("widget"))},addTask:function(i,t=!1){if(t)for(let o of this.tasks)o.active=!1;this.tasks.push({...i,active:t}),this._renderTasks()},removeTask:function(i){this.tasks=this.tasks.filter(t=>t.ref!==i),this._renderTasks()},activateTask:function(i){let t=this.tasks.filter(a=>a.ref===i);if(t.length===0)return;let o=t[0];for(let a of this.tasks)a.active=!1;o.active=!0,this._renderTasks()},addToSystemTray:function(i){this.systemTray.push(i),this._renderSystemTray()},addWidget:function(i){this.widgets.push(i),this._renderWidgets()},changeAttribute:function(i,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i=function(o,a,s){var c,p="<%(.+?)%>",d=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,m=`with(obj) { var r=[];
`,f=0,g,u,A=function(b,x){return x?m+=b.match(d)?b+`
`:"r.push("+b+`);
`:m+=b!==""?'r.push("'+b.replace(/"/g,'\\"')+`");
`:"",A};for(l.isValue(s)&&(r.hasProp(s,"beginToken")&&(p=p.replace("<%",s.beginToken)),r.hasProp(s,"endToken")&&(p=p.replace("%>",s.endToken))),c=new RegExp(p,"g"),u=c.exec(o);u;)A(o.slice(f,u.index))(u[1],!0),f=u.index+u[0].length,u=c.exec(o);A(o.substr(f,o.length-f)),m=(m+'return r.join(""); }').replace(/[\r\t\n]/g," ");try{g=new Function("obj",m).apply(a,[a])}catch(b){console.error("'"+b.message+"'",` in 

Code:
`,m,`
`)}return g},t={templateData:null,onTemplateCompile:e.noop,onTemplateCreate:e.noop};e.templateSetup=function(o){t=r.extend({},t,o)},typeof globalThis.metroTemplateSetup!==void 0&&e.templateSetup(globalThis.metroTemplateSetup),e.Component("template",{init:function(o,a){return this._super(a,o,t,{template:null,data:{}}),this},_compile:function(){var o=this.element,a,s;a=this.template.replace(/(&lt;%)/gm,"<%").replace(/(%&gt;)/gm,"%>").replace(/(&lt;)/gm,"<").replace(/(&gt;)/gm,">"),s=i(a,this.data),o.html(s),this._fireEvent("template-compile",{template:a,compiled:s,element:o})},_create:function(){var o=this.element,a=this.options;this.template=o.html(),this.data=l.isObject(a.templateData)||{},this._compile(),this._fireEvent("template-create",{element:o})},buildWith:function(o){var a=l.isObject(o);a&&(this.data=a,this._compile())},changeAttribute:function(o,a){o==="data-template-data"&&(this.options.templateData=a,this.data=l.isObject(a)||{},this._compile())},destroy:function(){return this.element}}),e.template=i})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={label:"",textareaDeferred:0,charsCounter:null,charsCounterTemplate:"$1",defaultValue:"",prepend:"",append:"",copyInlineStyles:!1,clearButton:!0,clearButtonIcon:"\u274C",autoSize:!0,maxHeight:0,clsPrepend:"",clsAppend:"",clsComponent:"",clsTextarea:"",clsLabel:"",onChange:e.noop,onTextareaCreate:e.noop};e.textareaSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroTextareaSetup!==void 0&&e.textareaSetup(globalThis.metroTextareaSetup),e.Component("textarea",{init:function(t,o){return this._super(o,t,i),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("textarea-create",{element:t})},_createStructure:function(){var t=this,o=this.element,a=this.elem,s=this.options,c=r("<div>").addClass("textarea "+o[0].className),p=r("<textarea>").addClass("fake-textarea"),d;if(c.insertBefore(o),o.appendTo(c),p.appendTo(c),s.clearButton!==!1&&!o[0].readOnly&&(d=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(s.clearButtonIcon),d.appendTo(c)),o.attr("dir")==="rtl"&&c.addClass("rtl").attr("dir","rtl"),s.prepend!==""){var m=r("<div>").html(s.prepend);m.addClass("prepend").addClass(s.clsPrepend).appendTo(c)}if(s.append!==""){var f=r("<div>").html(s.append);f.addClass("append").addClass(s.clsAppend).appendTo(c),d.css({right:f.outerWidth()+4})}if(a.className="",s.copyInlineStyles===!0)for(var g=0,u=a.style.length;g<u;g++)c.css(a.style[g],o.css(a.style[g]));if(l.isValue(s.defaultValue)&&o.val().trim()===""&&o.val(s.defaultValue),c.addClass(s.clsComponent),o.addClass(s.clsTextarea),s.label){var A=r("<label>").addClass("label-for-input").addClass(s.clsLabel).html(s.label).insertBefore(c);o.attr("id")&&A.attr("for",o.attr("id")),o.attr("dir")==="rtl"&&A.addClass("rtl")}o.is(":disabled")?this.disable():this.enable(),p.val(o.val()),s.autoSize===!0&&(c.addClass("autosize no-scroll-vertical"),setTimeout(function(){t.resize()},100))},_createEvents:function(){var t=this,o=this.element,a=this.options,s=o.closest(".textarea"),c=s.find(".fake-textarea"),p=r(a.charsCounter);s.on(e.events.click,".input-clear-button",function(d){o.val(l.isValue(a.defaultValue)?a.defaultValue:"").trigger("change").trigger("keyup").focus(),d.preventDefault(),d.stopPropagation()}),a.autoSize&&o.on(e.events.inputchange+" "+e.events.keyup,function(){c.val(this.value),t.resize()}),o.on(e.events.blur,function(){s.removeClass("focused")}),o.on(e.events.focus,function(){s.addClass("focused")}),o.on(e.events.keyup,function(){l.isValue(a.charsCounter)&&p.length>0&&(p[0].tagName==="INPUT"?p.val(t.length()):p.html(a.charsCounterTemplate.replace("$1",t.length()))),t._fireEvent("change",{val:o.val(),length:t.length()})})},resize:function(){var t=this.element,o=this.options,a=t.closest(".textarea"),s=a.find(".fake-textarea"),c=s[0].scrollHeight;if(o.maxHeight&&c>=o.maxHeight){a.removeClass("no-scroll-vertical");return}o.maxHeight&&c<o.maxHeight&&a.addClass("no-scroll-vertical"),s[0].style.cssText="height:auto;",s[0].style.cssText="height:"+s[0].scrollHeight+"px",t[0].style.cssText="height:"+s[0].scrollHeight+"px"},clear:function(){this.element.val("").trigger("change").trigger("keyup").focus()},toDefault:function(){this.element.val(l.isValue(this.options.defaultValue)?this.options.defaultValue:"").trigger("change").trigger("keyup").focus()},length:function(){var t=this.elem.value.split("");return t.length},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"disabled":this.toggleState();break}},destroy:function(){var t=this.element,o=this.options,a=t.closest(".textarea");return a.off(e.events.click,".input-clear-button"),o.autoSize&&t.off(e.events.inputchange+" "+e.events.keyup),t.off(e.events.blur),t.off(e.events.focus),t.off(e.events.keyup),t}})})(Metro,Dom);(function(e,r){"use strict";var l={state:e.theme.LIGHT,target:"html",saveState:!0,saveStateKey:"THEME:SWITCHER",clsDark:"",darkSymbol:"\u{1F319}",lightSymbol:"\u{1F31E}",mode:"switch",onThemeSwitcherCreate:e.noop,onChangeTheme:e.noop};e.themeSwitcherSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroThemeSwitcherSetup!==void 0&&e.themeSwitcherSetup(globalThis.metroThemeSwitcherSetup),e.Component("theme-switcher",{init:function(i,t){return this._super(t,i,l,{container:null,state:null,target:null}),this.state=this.options.state,this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("theme-switcher-create")},_createStructure:function(){let i=this.element,t=this.options,o="light";t.saveState&&(o=e.storage.getItem(t.saveStateKey,!1)),i.attr("data-light-symbol",t.lightSymbol),i.attr("data-dark-symbol",t.darkSymbol),e.makePlugin(i,"switch"),this.container=i.wrap(r("<label>").addClass("theme-switcher")),this.container.addClass(`mode-${t.mode}`),this.target=r(t.target),this.target.length===0&&(this.target=r("html")),this._setState(t.saveState?o:t.state===e.theme.DARK),this._updateState()},_createEvents:function(){this.container.on("click",()=>{this._updateState()}),this._observeClass()},_observeClass:function(){new MutationObserver(t=>{t.forEach(o=>{o.type==="attributes"&&o.attributeName==="class"&&(this.elem.checked=this.target[0].classList.contains("dark-side"))})}).observe(this.target[0],{attributes:!0,attributeFilter:["class"]})},_setState:function(i=!1){this.elem.checked=i},_updateState:function(){let i=r.meta("metro:theme").length>0,t=this.options,o=this.elem,a=this.target;i||(o.checked?a.addClass("dark-side").addClass(this.options.clsDark):a.removeClass("dark-side").addClass(this.options.clsDark),t.saveState&&e.storage.setItem(t.saveStateKey,o.checked),this._fireEvent("change-theme",{state:o.checked}))},val:function(i){if(typeof i===void 0)return this.elem.checked?e.theme.DARK:e.theme.LIGHT;this._setState(typeof i=="boolean"?i:i===e.theme.DARK),this._updateState()},changeAttribute:function(i,t){i==="data-target"&&(this.target=r(t),this._updateState())},destroy:function(){this.container.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i=["slide-up","slide-down","slide-left","slide-right","fade","zoom","swirl","switch"],t={tileDeferred:0,size:"medium",cover:"",coverPosition:"center",effect:"",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onTileClick:e.noop,onTileCreate:e.noop};e.tileSetup=function(o){t=r.extend({},t,o)},typeof globalThis.metroTileSetup!==void 0&&e.tileSetup(globalThis.metroTileSetup),e.Component("tile",{init:function(o,a){return this._super(a,o,t,{effectInterval:!1,images:[],slides:[],currentSlide:-1,unload:!1}),this},_create:function(){var o=this.element;this._createTile(),this._createEvents(),this._fireEvent("tile-create",{element:o})},_createTile:function(){function o(b,x,v){setTimeout(function(){b.fadeOut(500,function(){b.css("background-image","url("+x+")"),b.fadeIn()})},v*300)}var a=this,s=this.element,c=this.options,p=s.find(".slide"),d=s.find(".slide-front, .slide-back");if(s.addClass("tile-"+c.size),c.effect.indexOf("hover-")>-1&&(s.addClass("effect-"+c.effect),r.each(d,function(){var b=r(this);b.data("cover")!==void 0&&a._setCover(b,b.data("cover"),b.data("cover-position"))})),i.includes(c.effect)&&p.length>1&&(r.each(p,function(b){var x=r(this);a.slides.push(this),x.data("cover")!==void 0&&a._setCover(x,x.data("cover"),x.data("cover-position")),b>0&&(["slide-up","slide-down"].indexOf(c.effect)>-1&&x.css("top","100%"),["slide-left","slide-right"].indexOf(c.effect)>-1&&x.css("left","100%"),["fade","zoom","swirl","switch"].indexOf(c.effect)>-1&&x.css("opacity",0))}),this.currentSlide=0,this._runEffects()),c.cover!==""&&this._setCover(s,c.cover),c.effect==="image-set"){s.addClass("image-set"),r.each(s.children("img"),function(){a.images.push(this),r(this).remove()});for(var m=this.images.slice(),f=0;f<5;f++){var g=r.random(0,m.length-1),u=r("<div>").addClass("img -js-img-"+f).css("background-image","url("+m[g].src+")");s.prepend(u),m.splice(g,1)}var A=[0,1,4,3,2];setInterval(function(){var b=a.images.slice(),x=Farbe.Routines.randomColor();s.css("background-color",x);for(var v=0;v<A.length;v++){var I=r.random(0,b.length-1),B=s.find(".-js-img-"+A[v]);o(B,b[I].src,v),b.splice(I,1)}A=A.reverse()},5e3)}},_runEffects:function(){var o=this,a=this.options;this.effectInterval===!1&&(this.effectInterval=setInterval(function(){var s,c;s=r(o.slides[o.currentSlide]),o.currentSlide++,o.currentSlide===o.slides.length&&(o.currentSlide=0),c=o.slides[o.currentSlide],i.includes(a.effect)&&e.Effects[Str.camelCase(a.effect)](r(s)[0],r(c)[0],{duration:a.effectDuration})},a.effectInterval))},_stopEffects:function(){r.clearInterval(this.effectInterval),this.effectInterval=!1},_setCover:function(o,a,s){l.isValue(s)||(s=this.options.coverPosition),o.css({backgroundImage:"url("+a+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:s})},_createEvents:function(){var o=this,a=this.element,s=this.options;a.on(e.events.startAll,function(c){var p=r(this),d={w:a.width(),h:a.height()},m=l.pageXY(c).x-p.offset().left,f=l.pageXY(c).y-p.offset().top,g;l.isRightMouse(c)===!1&&(m<d.w*1/3&&(f<d.h*1/2||f>d.h*1/2)?g="left":m>d.w*2/3&&(f<d.h*1/2||f>d.h*1/2)?g="right":m>d.w*1/3&&m<d.w*2/3&&f>d.h/2?g="bottom":g="top",s.canTransform===!0&&p.addClass("transform-"+g),s.target!==null&&setTimeout(function(){document.location.href=s.target},100),o._fireEvent("tile-click",{side:g}))}),a.on([e.events.stopAll,e.events.leave].join(" "),function(){r(this).removeClass("transform-left").removeClass("transform-right").removeClass("transform-top").removeClass("transform-bottom")})},changeAttribute:function(){},destroy:function(){var o=this.element;return o.off(e.events.startAll),o.off([e.events.stopAll,e.events.leave].join(" ")),o}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={label:"",timepickerDeferred:0,hoursStep:1,minutesStep:1,secondsStep:1,value:null,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsHours:"",clsMinutes:"",clsSeconds:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"\u2713",cancelButtonIcon:"\u{10102}",onSet:e.noop,onOpen:e.noop,onClose:e.noop,onScroll:e.noop,onTimePickerCreate:e.noop};e.timePickerSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroTimePickerSetup!==void 0&&e.timePickerSetup(globalThis.metroTimePickerSetup),e.Component("time-picker",{init:function(t,o){return this._super(o,t,i,{picker:null,isOpen:!1,value:[],listTimer:{hours:null,minutes:null,seconds:null},id:l.elementId("time-picker")}),this},_create:function(){var t=this.element,o=this.options,a;for(o.distance<1&&(o.distance=1),o.hoursStep<1&&(o.hoursStep=1),o.hoursStep>23&&(o.hoursStep=23),o.minutesStep<1&&(o.minutesStep=1),o.minutesStep>59&&(o.minutesStep=59),o.secondsStep<1&&(o.secondsStep=1),o.secondsStep>59&&(o.secondsStep=59),t.val()===""&&!l.isValue(o.value)&&(o.value=datetime().format("HH:mm:ss")),this.value=(t.val()!==""?t.val():""+o.value).toArray(":"),a=0;a<3;a++)this.value[a]===void 0||this.value[a]===null?this.value[a]=0:this.value[a]=parseInt(this.value[a]);this._normalizeValue(),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("time-picker-create",{element:t})},_normalizeValue:function(){var t=this.options;t.hoursStep>1&&(this.value[0]=l.nearest(this.value[0],t.hoursStep,!0)),t.minutesStep>1&&(this.value[1]=l.nearest(this.value[1],t.minutesStep,!0)),t.minutesStep>1&&(this.value[2]=l.nearest(this.value[2],t.secondsStep,!0))},_createStructure:function(){var t=this.element,o=this.options,a=this.strings,s,c,p,d,m,f,g,u,A,b=l.elementId("timepicker");if(s=r("<div>").addClass("wheel-picker time-picker "+t[0].className).addClass(o.clsPicker),s.attr("id")||s.attr("id",b),s.insertBefore(t),t.attr("readonly",!0).appendTo(s),o.label){var x=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(s);t.attr("id")&&x.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&x.addClass("rtl")}if(f=r("<div>").addClass("time-wrapper").appendTo(s),o.hours===!0&&(c=r("<div>").attr("data-title",a.label_hours).addClass("hours").addClass(o.clsPart).addClass(o.clsHours).appendTo(f)),o.minutes===!0&&(p=r("<div>").attr("data-title",a.label_minutes).addClass("minutes").addClass(o.clsPart).addClass(o.clsMinutes).appendTo(f)),o.seconds===!0&&(d=r("<div>").attr("data-title",a.label_seconds).addClass("seconds").addClass(o.clsPart).addClass(o.clsSeconds).appendTo(f)),g=r("<div>").addClass("select-wrapper").appendTo(s),u=r("<div>").addClass("select-block").appendTo(g),o.hours===!0){for(c=r("<ul>").addClass("sel-hours").appendTo(u),m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(c);for(m=0;m<24;m=m+o.hoursStep)r("<li>").addClass("js-hours-"+m).html(Str.lpad(m,"0",2)).data("value",m).appendTo(c);for(m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(c)}if(o.minutes===!0){for(p=r("<ul>").addClass("sel-minutes").appendTo(u),m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(p);for(m=0;m<60;m=m+o.minutesStep)r("<li>").addClass("js-minutes-"+m).html(Str.lpad(m,"0",2)).data("value",m).appendTo(p);for(m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(p)}if(o.seconds===!0){for(d=r("<ul>").addClass("sel-seconds").appendTo(u),m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(d);for(m=0;m<60;m=m+o.secondsStep)r("<li>").addClass("js-seconds-"+m).html(Str.lpad(m,"0",2)).data("value",m).appendTo(d);for(m=0;m<o.distance;m++)r("<li>").html("&nbsp;").data("value",-1).appendTo(d)}if(u.height((o.distance*2+1)*40),A=r("<div>").addClass("action-block").appendTo(g),r("<button>").attr("type","button").addClass("button action-now").addClass(o.clsButton).addClass(o.clsTodayButton).html(`<span class="caption">${this.strings.label_now}</span>`).appendTo(A),r("<button>").attr("type","button").addClass("button action-ok").addClass(o.clsButton).addClass(o.clsOkButton).html(`<span class="icon">${o.okButtonIcon}</span>`).appendTo(A),r("<button>").attr("type","button").addClass("button action-cancel").addClass(o.clsButton).addClass(o.clsCancelButton).html(`<span class="icon">${o.cancelButtonIcon}</span>`).appendTo(A),t[0].className="",o.copyInlineStyles===!0)for(m=0;m<t[0].style.length;m++)s.css(t[0].style[m],t.css(t[0].style[m]));o.showLabels===!0&&s.addClass("show-labels"),t.prop("disabled")&&s.addClass("disabled"),this.picker=s},_createEvents:function(){var t=this,o=this.options,a=this.picker;a.on("touchstart",".select-block ul",function(c){if(!c.changedTouches){var p=this,d=l.pageXY(c).y;r(document).on("touchmove",function(m){p.scrollTop-=o.scrollSpeed*(d>l.pageXY(m).y?-1:1),d=l.pageXY(m).y},{ns:t.id}),r(document).on("touchend",function(){r(document).off(e.events.move,{ns:t.id}),r(document).off(e.events.stop,{ns:t.id})},{ns:t.id})}}),a.on(e.events.click,function(c){t.isOpen===!1&&t.open(),c.stopPropagation()}),a.on(e.events.click,".action-ok",function(c){var p,d,m,f=a.find(".sel-hours li.active"),g=a.find(".sel-minutes li.active"),u=a.find(".sel-seconds li.active");p=f.length===0?0:f.data("value"),d=g.length===0?0:g.data("value"),m=u.length===0?0:u.data("value"),t.value=[p,d,m],t._normalizeValue(),t._set(),t.close(),c.stopPropagation()}),a.on(e.events.click,".action-cancel",function(c){t.close(),c.stopPropagation()});var s=150;r.each(["hours","minutes","seconds"],function(){var c=this,p=a.find(".sel-"+c);let d=Hooks.useDebounce(function(m){var f,g,u;t.listTimer[c]=null,f=Math.round(Math.ceil(p.scrollTop())/40),c==="hours"&&o.hoursStep&&(f*=parseInt(o.hoursStep)),c==="minutes"&&o.minutesStep&&(f*=parseInt(o.minutesStep)),c==="seconds"&&o.secondsStep&&(f*=parseInt(o.secondsStep)),g=p.find(".js-"+c+"-"+f),u=g.position().top-o.distance*40,p.find(".active").removeClass("active"),p[0].scrollTop=u,g.addClass("active"),l.exec(o.onScroll,[g,p,a],p[0])},s);p.on("scroll",d)}),a.on(e.events.click,"ul li",function(c){let p=r(this),d=p.closest("ul"),m=p.position().top-o.distance*40;d.find(".active").removeClass("active"),r.animate({el:d[0],draw:{scrollTop:m},dur:300}),d[0].scrollTop=m,p.addClass("active"),l.exec(o.onScroll,[p,d,a],d[0])}),a.on(e.events.click,".action-now",function(c){let p=datetime(),d=p.hour(),m=p.minute(),f=p.second();a.find(`.sel-hours li.js-hours-${d}`).click(),a.find(`.sel-minutes li.js-minutes-${m}`).click(),a.find(`.sel-seconds li.js-seconds-${f}`).click(),c.preventDefault(),c.stopPropagation()})},_set:function(){var t=this.element,o=this.options,a=this.picker,s="00",c="00",p="00";o.hours===!0&&(s=parseInt(this.value[0]),a.find(".hours").html(Str.lpad(s,"0",2))),o.minutes===!0&&(c=parseInt(this.value[1]),a.find(".minutes").html(Str.lpad(c,"0",2))),o.seconds===!0&&(p=parseInt(this.value[2]),a.find(".seconds").html(Str.lpad(p,"0",2))),t.val([s,c,p].join(":")).trigger("change"),this._fireEvent("set",{val:this.value,elementVal:t.val()})},open:function(){var t=this.options,o=this.picker,a,s,c,p,d,m,f=o.find("li"),g=o.find(".select-wrapper"),u,A,b;r.each(r(".time-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"timepicker").close()})}),g.show(0),f.removeClass("active"),t.openMode==="auto"?(e.utils.inViewport(g[0])||g.parent().addClass("drop-up-select"),e.utils.inViewport(g[0])||(g.parent().removeClass("drop-up-select"),g.parent().addClass("drop-as-dialog"))):t.openMode==="dialog"?g.parent().addClass("drop-as-dialog"):t.openMode==="up"&&g.parent().addClass("drop-up-select");var x=function(v,I){v.scrollTop(0).animate({draw:{scrollTop:I.position().top-t.distance*40+v.scrollTop()},dur:100})};t.hours===!0&&(a=parseInt(this.value[0]),p=o.find(".sel-hours"),u=p.find("li.js-hours-"+a).addClass("active"),x(p,u)),t.minutes===!0&&(s=parseInt(this.value[1]),d=o.find(".sel-minutes"),A=d.find("li.js-minutes-"+s).addClass("active"),x(d,A)),t.seconds===!0&&(c=parseInt(this.value[2]),m=o.find(".sel-seconds"),b=m.find("li.js-seconds-"+c).addClass("active"),x(m,b)),this.isOpen=!0,this._fireEvent("open",{val:this.value})},close:function(){var t=this.picker,o=this.options;t.find(".select-wrapper").hide(0),o.openMode==="auto"&&t.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{val:this.value})},_convert:function(t){var o;return Array.isArray(t)?o=t:typeof t.getMonth=="function"?o=[t.getHours(),t.getMinutes(),t.getSeconds()]:l.isObject(t)?o=[t.h,t.m,t.s]:o=t.toArray(":"),o},val:function(t){if(t===void 0)return this.element.val();this.value=this._convert(t),this._normalizeValue(),this._set()},time:function(t){if(t===void 0)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(t),this._normalizeValue(),this._set()},date:function(t){if(t===void 0||typeof t.getMonth!="function")return datetime().hour(this.value[0]).minute(this.value[1]).second(this.value[2]).ms(0).val();this.value=this._convert(t),this._normalizeValue(),this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t,o){switch(t){case"data-value":this.val(o);break;case"disabled":this.toggleState();break}},destroy:function(){var t=this.element,o=this.picker;return r.each(["hours","minutes","seconds"],function(){o.find(".sel-"+this).off("scroll")}),o.off(e.events.start,".select-block ul"),o.off(e.events.click),o.off(e.events.click,".action-ok"),o.off(e.events.click,".action-cancel"),t}}),r(document).on(e.events.click,function(){r.each(r(".time-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"timepicker").close()})})})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={callback:e.noop,timeout:METRO_TIMEOUT,distance:20,position:"bottom",clsToast:""};e.toastSetup=function(o){i=r.extend({},i,o)},typeof globalThis.metroToastSetup!==void 0&&e.toastSetup(globalThis.metroToastSetup);var t={create:function(o,a){var s,c,p,d=Array.from(arguments),m,f,g;r.isPlainObject(a)||(a=d[4],f=d[1],m=d[2],g=d[3]),s=r.extend({},i,a),c=r("<div>").addClass("toast").html(o).appendTo(r("body")),p=c.outerWidth(),m=m||s.timeout,f=f||s.callback,g=g||s.cls,s.position==="top"?c.addClass("show-top").css({top:s.distance}):s.position==="center"?c.addClass("show-center"):c.css({bottom:s.distance}),c.css({left:"50%","margin-left":-(p/2)}).addClass(s.clsToast).addClass(g).fadeIn(METRO_ANIMATION_DURATION,function(){setTimeout(function(){t.remove(c,f)},m)})},remove:function(o,a){o.length&&o.fadeOut(METRO_ANIMATION_DURATION,function(){o.remove(),l.exec(a,null,o[0])})}};e.toast=t,e.createToast=t.create})(Metro,Dom);(function(e,r){"use strict";var l={textToTokenize:"",spaceSymbol:"",spaceClass:"space",tokenClass:"",splitter:"",tokenElement:"span",useTokenSymbol:!0,useTokenIndex:!0,clsTokenizer:"",clsToken:"",clsTokenOdd:"",clsTokenEven:"",onTokenCreate:e.noop,onTokenize:e.noop,onTokenizerCreate:e.noop};e.tokenizerSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroTokenizerSetup!==void 0&&e.tokenizerSetup(globalThis.metroTokenizerSetup),e.Component("tokenizer",{init:function(i,t){return this._super(t,i,l,{originalText:""}),this},_create:function(){var i=this.element,t=this.options;this.originalText=t.textToTokenize?t.textToTokenize.trim():i.text().trim().replace(/[\r\n\t]/gi,"").replace(/\s\s+/g," "),this._createStructure(),this._fireEvent("tokenizer-create")},_tokenize:function(){var i=this,t=this.element,o=this.options,a=0,s,c;t.clear().attr("aria-label",this.originalText),r.each(this.originalText.split(o.splitter),function(p){var d=this,m=d===" ",f;f=r("<"+o.tokenElement+">").html(m?o.spaceSymbol:d).attr("aria-hidden",!0).addClass(m?o.spaceClass:"").addClass(m&&o.useTokenSymbol?"":"ts-"+d.replace(" ","_")).addClass(m&&o.useTokenIndex?"":"ti-"+(p+1)).addClass(o.tokenClass?o.tokenClass:"").addClass(m?"":o.clsToken),m||(a++,f.addClass(a%2===0?"te-even":"te-odd"),f.addClass(a%2===0?o.clsTokenEven:o.clsTokenOdd)),o.prepend&&(c=r.isSelector(o.prepend)?r(o.prepend):r("<span>").html(o.prepend),f.prepend(c)),o.append&&(s=r.isSelector(o.append)?r(o.append):r("<span>").html(o.append),f.append(s)),t.append(f),i._fireEvent("token-create",{token:f[0]})}),i._fireEvent("tokenize",{tokens:t.children().items(),originalText:this.originalText})},_createStructure:function(){var i=this.element,t=this.options;i.addClass(t.clsTokenizer),this._tokenize()},tokenize:function(i){this.originalText=i,this._tokenize()},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={treeviewDeferred:0,showChildCount:!1,duration:100,hideActionsOnLeave:!0,onNodeClick:e.noop,onNodeDblClick:e.noop,onNodeDelete:e.noop,onNodeInsert:e.noop,onNodeClean:e.noop,onCheckClick:e.noop,onRadioClick:e.noop,onExpandNode:e.noop,onCollapseNode:e.noop,onTreeViewCreate:e.noop};e.treeViewSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroTreeViewSetup!==void 0&&e.treeViewSetup(globalThis.metroTreeViewSetup),e.Component("tree-view",{init:function(t,o){return this._super(o,t,i),this},_create:function(){var t=this,o=this.element;this._createTree(),this._createEvents(),r.each(o.find("input"),function(){r(this).is(":checked")&&t._recheck(this)}),this._fireEvent("tree-view-create",{element:o})},_createIcon:function(t){var o,a;return a=l.isTag(t)?r(t):r("<img src='' alt=''>").attr("src",t),o=r("<span>").addClass("icon"),o.html(a.outerHTML()),o},_createCaption:function(t,o){let a=r("<span>").addClass("caption").html(t);return o&&(l.isObject(o)?a.css(o):typeof o=="string"&&(a[0].style.cssText=o)),a},_createToggle:function(){return r("<span>").addClass("node-toggle")},_createNode:function(t,o){let a=this.options,s=o||r("<li>"),c=r("<a>");if(s.prepend(c),t.caption&&c.prepend(this._createCaption(t.caption,t.style)),t.icon&&c.prepend(this._createIcon(t.icon)),t.html&&c.append(t.html),t.attributes&&l.isObject(t.attributes))for(let d in t.attributes)c.attr(`data-${d}`,t.attributes[d]);if(t.badge&&c.append(r("<span>").addClass("badge").html(t.badge)),t.badges&&r.each(t.badges,function(d,m){c.append(r("<span>").addClass("badge").html(m))}),t.actions){let d=r("<div class='dropdown-button'>").addClass("actions-holder"),m=r("<span class='actions-list-trigger'>").text("\u22EE").appendTo(d),f=r("<ul data-role='dropdown' class='d-menu actions-list'>").appendTo(d);s.append(d);for(let g of t.actions)if(g.type&&g.type==="divider")r("<li>").addClass("divider").appendTo(f);else{let u=g.icon?r(g.icon).addClass("icon").outerHTML():"",A=`<span class="caption">${g.caption}</span>`,b=r(`<li><a href="#">${u} ${A}</a></li>`).appendTo(f);g.cls&&b.addClass(g.cls),b.find("a").on("click",function(){e.utils.exec(g.onclick,[b[0]],this)})}f.on(e.events.leave,g=>{a.hideActionsOnLeave&&e.getPlugin(f,"dropdown").close()})}return t.type==="node"&&(s.addClass("tree-node"),s.append(r("<span>").addClass("node-toggle")),s.append(r("<ul>"))),s.children("ul").length&&(s.addClass("tree-node"),s.append(r("<span>").addClass("node-toggle"))),s.children("ul").length&&(e.utils.bool(t.collapsed)!==!0?s.addClass("expanded"):s.children("ul").hide()),s},_createTree:function(){var t=this,o=this.element,a=this.options,s=o.find("li[data-caption]");o.addClass("treeview"),r.each(s,(c,p)=>{let d=r(p);this._createNode({caption:d.data("caption"),icon:d.data("icon"),html:d.data("html"),attributes:d.data("attributes"),badge:d.data("badge"),badges:d.data("badges"),actions:d.data("actions"),type:d.data("type"),collapsed:d.data("collapsed")},d)})},_createEvents:function(){var t=this,o=this.element;o.on(e.events.click,".node-toggle",function(a){var s=r(this),c=s.parent();t.toggleNode(c),a.preventDefault()}),o.on(e.events.click,"a",function(a){var s=r(this).parent();t.current(s),t._fireEvent("node-click",{node:s[0]}),a.preventDefault()}),o.on(e.events.dblclick,"a",function(a){var s=r(this).closest("li"),c=s.children(".node-toggle"),p=s.children("ul");(c.length>0||p.length>0)&&t.toggleNode(s),t._fireEvent("node-dbl-click",{node:s[0]}),a.preventDefault()}),o.on(e.events.click,"input[type=radio]",function(){var a=r(this),s=a.is(":checked"),c=a.closest("li");t.current(c),t._fireEvent("radio-click",{checked:s,check:a[0],node:c[0]})}),o.on(e.events.click,"input[type=checkbox]",function(){var a=r(this),s=a.is(":checked"),c=a.closest("li");t._recheck(a),t._fireEvent("check-click",{checked:s,check:a[0],node:c[0]})})},_recheck:function(t){var o=this.element,a,s,c,p;t=r(t),a=t.is(":checked"),s=t.closest("li"),this.current(s),c=t.closest("li").find("ul input[type=checkbox]"),c.attr("data-indeterminate",!1),c.prop("checked",a),c.trigger("change"),p=[],r.each(o.find("input[type=checkbox]"),function(){p.push(this)}),r.each(p.reverse(),function(){var d=r(this),m=d.closest("li").children("ul").find("input[type=checkbox]").length,f=d.closest("li").children("ul").find("input[type=checkbox]").filter(function(g){return g.checked}).length;m>0&&f===0&&(d.attr("data-indeterminate",!1),d.prop("checked",!1),d.trigger("change")),f===0?d.attr("data-indeterminate",!1):f>0&&m>f?d.attr("data-indeterminate",!0):m===f&&(d.attr("data-indeterminate",!1),d.prop("checked",!0),d.trigger("change"))})},current:function(t){var o=this.element;if(!t)return o.find(".current");o.find(".current").removeClass("current"),t.addClass("current")},toggleNode:function(t){var o=r(t),a=this.options,s,c=!o.data("collapsed");o.toggleClass("expanded"),o.data("collapsed",c),s=c===!0?"slideUp":"slideDown",c?this._fireEvent("collapse-node",{node:o[0]}):this._fireEvent("expand-node",{node:o[0]}),o.children("ul")[s](a.duration)},addTo:function(t,o){var a=this.element,s,c,p;return t===null?s=a:(t=r(t),s=t.children("ul"),s.length===0&&(s=r("<ul>").appendTo(t),p=this._createToggle(),p.appendTo(t),t.addClass("expanded"))),t.addClass("tree-node"),c=this._createNode(o),c.appendTo(s),this._fireEvent("node-insert",{node:c[0],parent:t?t[0]:null}),c},insertBefore:function(t,o){var a=this._createNode(o);return l.isNull(t)?this.addTo(t,o):(t=r(t),a.insertBefore(t),this._fireEvent("node-insert",{node:a[0],parent:t?t[0]:null}),a)},insertAfter:function(t,o){var a=this._createNode(o);return l.isNull(t)?this.addTo(t,o):(t=r(t),a.insertAfter(t),this._fireEvent("node-insert",{node:a[0],parent:t[0]}),a)},del:function(t){var o=this.element;t=r(t);var a=t.closest("ul"),s=a.closest("li");this._fireEvent("node-delete",{node:t[0]}),t.remove(),a.children().length===0&&!a.is(o)&&(a.remove(),s.removeClass("expanded"),s.children(".node-toggle").remove())},clean:function(t){t=r(t),t.children("ul").remove(),t.removeClass("expanded"),t.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:t[0]})},collapseNode(t){let o=this.element,a=this.options;t=r(t),t.removeClass("expanded"),t.data("collapsed",!0),t.children("ul").slideUp(a.duration),this._fireEvent("collapse-node",{node:t[0]})},expandNode(t){let o=this.element,a=this.options;t=r(t),t.hasClass("tree-node")&&(t.addClass("expanded"),t.data("collapsed",!1),t.children("ul").slideDown(a.duration),this._fireEvent("expand-node",{node:t[0]}))},collapseAll(){let t=this.element,o=this.options;t.find(".expanded").each((a,s)=>{let c=r(s),p,d=!c.data("collapsed");c.toggleClass("expanded"),c.data("collapsed",d),p=d===!0?"slideUp":"slideDown",d?this._fireEvent("collapse-node",{node:c[0]}):this._fireEvent("expand-node",{node:c[0]}),c.children("ul")[p](o.duration)}),this._fireEvent("collapse-all")},expandAll(){let t=this.element,o=this.options;t.find(".tree-node:not(.expanded)").each((a,s)=>{let c=r(s),p,d=!c.data("collapsed");c.toggleClass("expanded"),c.data("collapsed",d),p=d===!0?"slideUp":"slideDown",d?this._fireEvent("collapse-node",{node:c[0]}):this._fireEvent("expand-node",{node:c[0]}),c.children("ul")[p](o.duration)}),this._fireEvent("expand-all")},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,".node-toggle"),t.off(e.events.click,"li > .caption"),t.off(e.events.dblclick,"li > .caption"),t.off(e.events.click,"input[type=radio]"),t.off(e.events.click,"input[type=checkbox]"),t}})})(Metro,Dom);(function(e,r){"use strict";var l={required:function(t){return G.safeParse(G.required(),t).ok},length:function(t,o){return G.safeParse(G.length(+o),t).ok},minlength:function(t,o){return G.safeParse(G.minLength(+o),t).ok},maxlength:function(t,o){return G.safeParse(G.maxLength(+o),t).ok},min:function(t,o){return G.safeParse(G.minValue(+o),+t).ok},max:function(t,o){return G.safeParse(G.maxValue(+o),+t).ok},email:function(t){return G.safeParse(G.email(),t).ok},domain:function(t){return G.safeParse(G.domain(),t).ok},url:function(t){return G.safeParse(G.url(),t).ok},date:function(t,o,a){try{return o?Datetime.from(t,o,a):datetime(t),!0}catch{return!1}},number:function(t){return G.safeParse(G.number(),+t).ok},integer:function(t){return G.safeParse(G.integer(),+t).ok},safeInteger:function(t){return G.safeParse(G.safeInteger(),+t).ok},float:function(t){return G.safeParse(G.float(),+t).ok},digits:function(t){return G.safeParse(G.digits(),t).ok},hexcolor:function(t){return G.safeParse(G.hexColor(),t).ok},color:function(t){return e.utils.isValue(t)?Farbe.Palette.color(t,Farbe.StandardColors)||Farbe.Routines.isColor(t):!1},pattern:function(t,o){return G.safeParse(G.pattern(o),t).ok},compare:function(t,o){return t==o},not:function(t,o){return t!=o},notequals:function(t,o){return t!==o},equals:function(t,o){return t===o},custom:function(t,o){return e.utils.isFunc(o)===!1?!1:e.utils.exec(o,[t])},is_control:function(t){return t.attr("data-role")},reset_state:function(t){var o=r(t),a=l.is_control(o);a?o.parent().removeClass("invalid valid"):o.removeClass("invalid valid")},set_valid_state:function(t){var o=r(t),a=l.is_control(o);a?o.parent().addClass("valid"):o.addClass("valid")},set_invalid_state:function(t){var o=r(t),a=l.is_control(o);a?o.parent().addClass("invalid"):o.addClass("invalid")},reset:function(t){var o=this;return r.each(r(t).find("[data-validate]"),function(){o.reset_state(this)}),this},validate:function(t,o,a,s,c){var p=!0,d=r(t),m=d.data("validate")!==void 0?String(d.data("validate")).split(" ").map(function(b){return b.trim()}):[],f=[],g=d.closest("form").length>0,u,A;return m.length===0?!0:(this.reset_state(d),d.attr("type")&&d.attr("type").toLowerCase()==="checkbox"?(m.indexOf("required")===-1?p=!0:p=d.is(":checked"),p===!1&&f.push("required"),o!==void 0&&(o.val+=p?0:1)):d.attr("type")&&d.attr("type").toLowerCase()==="radio"?(u=d.attr("name"),typeof u===void 0?p=!0:(A=r("input[name="+u.replace("[","\\[").replace("]","\\]")+"]:checked"),p=A.length>0),o!==void 0&&(o.val+=p?0:1)):r.each(m,function(){if(p!==!1){var b=this.split("="),x,v,I;x=b[0],b.shift(),v=b.join("="),["compare","not","equals","notequals"].indexOf(x)>-1&&(v=g?d[0].form.elements[v].value:r("[name="+v+"]").val()),x==="date"&&(v=d.attr("data-value-format"),I=d.attr("data-value-locale")),e.utils.isFunc(l[x])===!1?p=!0:c===!0||x==="required"||d.val().trim()!==""?p=l[x](d.val(),v,I):p=!0,p===!1&&f.push(x),o!==void 0&&(o.val+=p?0:1)}}),p===!1?(this.set_invalid_state(d),o!==void 0&&o.log.push({input:d[0],name:d.attr("name"),value:d.val(),funcs:m,errors:f}),s!==void 0&&e.utils.exec(s,[d,d.val()],d[0])):(this.set_valid_state(d),a!==void 0&&e.utils.exec(a,[d,d.val()],d[0])),p)}};e.validator=l;var i={validatorDeferred:0,submitTimeout:200,interactiveCheck:!1,clearInvalid:0,requiredMode:!0,useRequiredClass:!0,onBeforeSubmit:e.noop_true,onSubmit:e.noop,onError:e.noop,onValidate:e.noop,onErrorForm:e.noop,onValidateForm:e.noop,onValidatorCreate:e.noop};e.validatorSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroValidatorSetup!==void 0&&e.validatorSetup(globalThis.metroValidatorSetup),e.Component("validator",{init:function(t,o){return this._super(o,t,i,{_onsubmit:null,_onreset:null,result:[]}),this},_create:function(){var t=this,o=this.element,a=this.options,s=o.find("[data-validate]");o.attr("novalidate","novalidate"),r.each(s,function(){var c=r(this),p=c.data("validate"),d=p.indexOf("required")>-1;d&&a.useRequiredClass===!0&&(l.is_control(c)?c.parent().addClass("required"):c.addClass("required")),a.interactiveCheck===!0&&c.on(e.events.inputchange,function(){l.validate(this,void 0,void 0,void 0,a.requiredMode)})}),this._onsubmit=null,this._onreset=null,o[0].onsubmit!==null&&(this._onsubmit=o[0].onsubmit,o[0].onsubmit=null),o[0].onreset!==null&&(this._onreset=o[0].onreset,o[0].onreset=null),o[0].onsubmit=function(){return t._submit()},o[0].onreset=function(){return t._reset()},this._fireEvent("validator-create",{element:o})},_reset:function(){l.reset(this.element),this._onreset!==null&&e.utils.exec(this._onreset,null,this.element[0])},_submit:function(){var t=this,o=this.element,a=this.options,s=this.elem,c=o.find("[data-validate]"),p=o.find("input[type=submit], button[type=submit]"),d={val:0,log:[]},m=r.serializeToArray(o);return p.length>0&&p.attr("disabled","disabled").addClass("disabled"),r.each(c,function(){l.validate(this,d,a.onValidate,a.onError,a.requiredMode)}),p.removeAttr("disabled").removeClass("disabled"),d.val+=e.utils.exec(a.onBeforeSubmit,[m],this.elem)===!1?1:0,d.val===0?(this._fireEvent("validate-form",{data:m}),setTimeout(function(){e.utils.exec(a.onSubmit,[m],s),o.fire("formsubmit",{data:m}),t._onsubmit!==null&&e.utils.exec(t._onsubmit,null,s)},a.submitTimeout)):(this._fireEvent("error-form",{log:d.log,data:m}),a.clearInvalid>0&&setTimeout(function(){r.each(c,function(){var f=r(this);l.is_control(f)?f.parent().removeClass("invalid"):f.removeClass("invalid")})},a.clearInvalid)),d.val===0},changeAttribute:function(){}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={duration:4e3,animationDuration:null,transitionDuration:null,transition:"fade",animation:null,slides:[],shuffle:!1,align:"center",valign:"center",loop:!0,autoplay:!0,mute:!0,cover:!0,preload:!0,timer:!0,overlay:2,color:null,volume:1,onPlay:e.noop,onPause:e.noop,onEnd:e.noop,onWalk:e.noop,onNext:e.noop,onPrev:e.noop,onJump:e.noop,onVegasCreate:e.noop};e.vegasSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroVegasSetup!==void 0&&e.vegasSetup(globalThis.metroVegasSetup),e.Component("vegas",{videoCache:{},init:function(t,o){return this.transitions=["fade","fade2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsUp","kenburnsDown","kenburnsRight","kenburnsLeft","kenburnsUpLeft","kenburnsUpRight","kenburnsDownLeft","kenburnsDownRight"],this.support={objectFit:"objectFit"in document.body.style,video:!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)},this._super(o,t,i,{slide:0,slides:null,total:0,noshow:!1,paused:!1,ended:!1,timer:null,overlay:null,first:!0,timeout:!1}),this},_create:function(){var t=this.element,o=this.options;this.slides=l.isObject(o.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!o.autoplay||this.noshow,o.shuffle&&this.slides.shuffle(),o.preload&&this._preload(),this._createStructure(),this._createEvents(),this._fireEvent("vegas-create",{element:t})},_createStructure:function(){var t=this,o=this.element,a=this.options,s=o[0].tagName==="BODY",c;s||(o.css("height",o.css("height")),c=r('<div class="vegas-wrapper">').css("overflow",o.css("overflow")).css("padding",o.css("padding")),o.css("padding")||c.css("padding-top",o.css("padding-top")).css("padding-bottom",o.css("padding-bottom")).css("padding-left",o.css("padding-left")).css("padding-right",o.css("padding-right")),o.children().appendTo(c),o.clear()),o.addClass("vegas-container"),s||o.append(c),a.timer&&(this.timer=r('<div class="vegas-timer"><div class="vegas-timer-progress">'),o.append(this.timer)),a.overlay&&(this.overlay=r('<div class="vegas-overlay">').addClass("overlay"+(typeof a.overlay=="boolean"||isNaN(a.overlay)?2:+a.overlay)),o.append(this.overlay)),setTimeout(function(){l.exec(a.onPlay,null,o[0]),t._goto(t.slide)},1)},_createEvents:function(){},_preload:function(){var t,o;for(o=0;o<this.slides.length;o++){var a=this.slides[o];a.src&&(t=new Image,t.src=this.slides[o].src),a.video&&(a.video instanceof Array?this._video(a.video):this._video(a.video.src))}},_slideShow:function(){var t=this,o=this.options;this.total>1&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){t.next()},o.duration))},_timer:function(t){var o=this,a=this.options;clearTimeout(this.timeout),this.timer&&(this.timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),!(this.ended||this.paused||this.noshow)&&t&&setTimeout(function(){o.timer.addClass("vegas-timer-running").find("div").css("transition-duration",+a.duration-100+"ms")},100))},_fadeSoundIn:function(t,o){var a=this.options;r.animate({el:t,draw:{volume:+a.volume},dur:o})},_fadeSoundOut:function(t,o){r.animate({el:t,draw:{volume:0},dur:o})},_video:function(t){var o,a,s=t.toString();return this.videoCache[s]?this.videoCache[s]:(Array.isArray(t)||(t=[t]),o=document.createElement("video"),o.preload=!0,t.forEach(function(c){a=document.createElement("source"),a.src=c,o.appendChild(a)}),this.videoCache[s]=o,o)},_goto:function(t){var o=this,a=this.element,s=this.options;typeof this.slides[t]>"u"&&(t=0),this.slide=t;var c,p,d,m,f,g=a.children(".vegas-slide"),u=this.slides[t],A=s.cover,b,x,v,I;this.first&&(this.first=!1),A!=="repeat"&&(A===!0?A="cover":A===!1&&(A="contain")),s.transition==="random"?b=r.random(this.transitions):b=s.transition?s.transition:this.transitions[0],s.animation==="random"?x=r.random(this.animations):x=s.animation?s.animation:this.animations[0],s.transitionDuration?s.transitionDuration==="auto"||+s.transitionDuration>+s.duration?v=+s.duration:v=+s.transitionDuration:v=+s.duration,s.animationDuration?s.animationDuration==="auto"||+s.animationDuration>+s.duration?I=+s.duration:I=+s.animationDuration:I=+s.duration,c=r("<div>").addClass("vegas-slide").addClass("vegas-transition-"+b),this.support.video&&u.video?(d=u.video instanceof Array?this._video(u.video):this._video(u.video.src),d.loop=u.video.loop?u.video.loop:s.loop,d.muted=u.video.mute?u.video.mute:s.mute,d.muted?d.pause():this._fadeSoundIn(d,v),f=r(d).addClass("vegas-video").css("background-color",s.color||"#000000"),this.support.objectFit?f.css("object-position",s.align+" "+s.valign).css("object-fit",A).css("width","100%").css("height","100%"):A==="contain"&&f.css("width","100%").css("height","100%"),c.append(f)):(m=new Image,p=r("<div>").addClass("vegas-slide-inner").css({backgroundImage:'url("'+u.src+'")',backgroundColor:s.color||"#000000",backgroundPosition:s.align+" "+s.valign}),A==="repeat"?p.css("background-repeat","repeat"):p.css("background-size",A),x&&p.addClass("vegas-animation-"+x).css("animation-duration",I+"ms"),c.append(p)),g.length?g.eq(g.length-1).after(c):a.prepend(c),g.css("transition","all 0ms").each(function(){this.className="vegas-slide",this.tagName==="VIDEO"&&(this.className+=" vegas-video"),b&&(this.className+=" vegas-transition-"+b,this.className+=" vegas-transition-"+b+"-in")}),this._timer(!1);function B(){o._timer(!0),setTimeout(function(){g.css("transition","all "+v+"ms").addClass("vegas-transition-"+b+"-out"),g.each(function(){var w=g.find("video").get(0);w&&(w.volume=1,o._fadeSoundOut(w,v))}),c.css("transition","all "+v+"ms").addClass("vegas-transition-"+b+"-in");for(var k=0;k<g.length-1;k++)g.eq(k).remove();o._fireEvent("walk",{slide:o.current(!0)}),o._slideShow()},100)}d?(d.readyState===4&&(d.currentTime=0),d.play(),B()):(m.src=u.src,m.complete?B():m.onload=B)},_end:function(){this.ended=this.options.autoplay,this._timer(!1),this._fireEvent("end",{slide:this.current(!0)})},play:function(){this.paused&&(this._fireEvent("play",{slide:this.current(!0)}),this.paused=!1,this.next())},pause:function(){this._timer(!1),this.paused=!0,this._fireEvent("pause",{slide:this.current(!0)})},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(t){return t?{slide:this.slide,data:this.slides[this.slide]}:this.slide},jump:function(t){if(t<=0||t>this.slides.length||t===this.slide+1)return this;this.slide=t-1,this._fireEvent("jump",{slide:this.current(!0)}),this._goto(this.slide)},next:function(){var t=this.options;if(this.slide++,this.slide>=this.slides.length){if(!t.loop)return this._end();this.slide=0}this._fireEvent("next",{slide:this.current(!0)}),this._goto(this.slide)},prev:function(){var t=this.options;if(this.slide--,this.slide<0){if(!t.loop)return this.slide++,this._end();this.slide=this.slides.length-1}this._fireEvent("prev",{slide:this.current(!0)}),this._goto(this.slide)},changeAttribute:function(t){var o=this.element,a=this.options,s=Str.camelCase(t.replace("data-",""));s==="slides"?(a.slides=o.attr("data-slides"),this.slides=l.isObject(a.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!this.options.autoplay||this.noshow):typeof i[s]<"u"&&(a[s]=JSON.parse(o.attr(t)))},destroy:function(){var t=this.element,o=this.options;return clearTimeout(this.timeout),t.removeClass("vegas-container"),t.find("> .vegas-slide").remove(),t.find("> .vegas-wrapper").children().appendTo(t),t.find("> .vegas-wrapper").remove(),o.timer&&this.timer.remove(),o.overlay&&this.overlay.remove(),t[0]}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={videoDeferred:0,src:null,poster:"",logo:"",logoHeight:32,logoWidth:"auto",logoTarget:"",volume:.5,loop:!1,autoplay:!1,fullScreenMode:e.fullScreenMode.DESKTOP,aspectRatio:e.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:"\u{1F501}",stopIcon:"\u23F9",playIcon:"\u25B6",pauseIcon:"\u23F8",muteIcon:"\u{1F507}",volumeLowIcon:"\u{1F508}",volumeMediumIcon:"\u{1F509}",volumeHighIcon:"\u{1F50A}",screenMoreIcon:"\u2B1C",screenLessIcon:"\u2B1A",onPlay:e.noop,onPause:e.noop,onStop:e.noop,onEnd:e.noop,onMetadata:e.noop,onTime:e.noop,onVideoPlayerCreate:e.noop};e.videoPlayerSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroVideoPlayerSetup!==void 0&&e.videoPlayerSetup(globalThis.metroVideoPlayerSetup),e.Component("video-player",{init:function(t,o){return this._super(o,t,i,{fullscreen:!1,preloader:null,player:null,video:o,stream:null,volume:null,volumeBackup:0,muted:!1,fullScreenInterval:!1,isPlaying:!1,id:l.elementId("video-player")}),this},_create:function(){var t=this.element,o=this.options;e.fullScreenEnabled===!1&&(o.fullScreenMode=e.fullScreenMode.WINDOW),this._createPlayer(),this._createControls(),this._createEvents(),this._setAspectRatio(),o.autoplay===!0&&this.play(),this._fireEvent("video-player-create",{element:t,player:this.player})},_createPlayer:function(){var t=this.element,o=this.options,a=this.video,s=r("<div>").addClass("media-player video-player "+t[0].className),c=r("<div>").addClass("preloader").appendTo(s),p=r("<a>").attr("href",o.logoTarget).addClass("logo").appendTo(s);s.insertBefore(t),t.appendTo(s),r.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){t.removeAttr(this)}),t.attr("preload","auto"),o.poster!==""&&t.attr("poster",o.poster),a.volume=o.volume,c.activity({type:"cycle",style:"color"}),c.hide(),this.preloader=c,o.logo!==""&&r("<img>").css({height:o.logoHeight,width:o.logoWidth}).attr("src",o.logo).appendTo(p),o.src!==null&&this._setSource(o.src),t[0].className="",this.player=s},_setSource:function(t){var o=this.element;o.find("source").remove(),o.removeAttr("src"),Array.isArray(t)?r.each(t,function(){var a=this;a.src!==void 0&&r("<source>").attr("src",a.src).attr("type",a.type!==void 0?a.type:"").appendTo(o)}):o.attr("src",t)},_createControls:function(){var t=this,o=this.element,a=this.options,s=this.elem,c=r("<div>").addClass("controls").addClass(a.clsControls).insertAfter(o),p=r("<div>").addClass("stream").appendTo(c),d=r("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(p),m=r("<div>").addClass("volume").appendTo(c),f=r("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(m),g=r("<div>").addClass("info-box").appendTo(c);a.showInfo!==!0&&g.hide(),e.makePlugin(d,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){s.paused||s.pause()},onStop:function(A){s.seekable.length>0&&(s.currentTime=(t.duration*A/100).toFixed(0)),s.paused&&s.currentTime>0&&s.play()}}),this.stream=d,a.showStream!==!0&&p.hide(),e.makePlugin(f,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:a.volume*100,onChangeValue:function(A){s.volume=A/100}}),this.volume=f,a.showVolume!==!0&&m.hide();var u;a.showLoop===!0&&(u=r("<button>").attr("type","button").addClass("button square loop").html(a.loopIcon).appendTo(c)),a.showPlay===!0&&r("<button>").attr("type","button").addClass("button square play").html(a.playIcon).appendTo(c),a.showStop===!0&&r("<button>").attr("type","button").addClass("button square stop").html(a.stopIcon).appendTo(c),a.showMute===!0&&r("<button>").attr("type","button").addClass("button square mute").html(a.muteIcon).appendTo(c),a.showFull===!0&&r("<button>").attr("type","button").addClass("button square full").html(a.screenMoreIcon).appendTo(c),a.loop===!0&&(u.addClass("active"),o.attr("loop","loop")),this._setVolume(),a.muted&&(t.volumeBackup=s.volume,e.getPlugin(t.volume,"slider").val(0),s.volume=0),g.html("00:00 / 00:00")},_createEvents:function(){var t=this,o=this.element,a=this.options,s=this.elem,c=this.player;o.on("loadstart",function(){t.preloader.show()}),o.on("loadedmetadata",function(){t.duration=s.duration.toFixed(0),t._setInfo(0,t.duration),l.exec(a.onMetadata,[s,c],o[0])}),o.on("canplay",function(){t._setBuffer(),t.preloader.hide()}),o.on("progress",function(){t._setBuffer()}),o.on("timeupdate",function(){var p=Math.round(s.currentTime*100/t.duration);t._setInfo(s.currentTime,t.duration),e.getPlugin(t.stream,"slider").val(p),l.exec(a.onTime,[s.currentTime,t.duration,s,c],o[0])}),o.on("waiting",function(){t.preloader.show()}),o.on("loadeddata",function(){}),o.on("play",function(){c.find(".play").html(a.pauseIcon),l.exec(a.onPlay,[s,c],o[0]),t._onMouse()}),o.on("pause",function(){c.find(".play").html(a.playIcon),l.exec(a.onPause,[s,c],o[0]),t._offMouse()}),o.on("stop",function(){e.getPlugin(t.stream,"slider").val(0),l.exec(a.onStop,[s,c],o[0]),t._offMouse()}),o.on("ended",function(){e.getPlugin(t.stream,"slider").val(0),l.exec(a.onEnd,[s,c],o[0]),t._offMouse()}),o.on("volumechange",function(){t._setVolume()}),c.on(e.events.click,".play",function(){s.paused?t.play():t.pause()}),c.on(e.events.click,".stop",function(){t.stop()}),c.on(e.events.click,".mute",function(){t._toggleMute()}),c.on(e.events.click,".loop",function(){t._toggleLoop()}),c.on(e.events.click,".full",function(){t.fullscreen=!t.fullscreen,c.find(".full").html(t.fullscreen===!0?a.screenLessIcon:a.screenMoreIcon),a.fullScreenMode===e.fullScreenMode.WINDOW?t.fullscreen===!0?c.addClass("full-screen"):c.removeClass("full-screen"):t.fullscreen===!0?(e.requestFullScreen(s),t.fullScreenInterval===!1&&(t.fullScreenInterval=setInterval(function(){e.inFullScreen()===!1&&(t.fullscreen=!1,clearInterval(t.fullScreenInterval),t.fullScreenInterval=!1,c.find(".full").html(a.screenMoreIcon))},1e3))):e.exitFullScreen()}),r(globalThis).on(e.events.keyup,function(p){t.fullscreen&&p.keyCode===27&&c.find(".full").click()},{ns:this.id}),r(globalThis).on(e.events.resize,function(){t._setAspectRatio()},{ns:this.id})},_onMouse:function(){var t=this.options,o=this.player;o.on(e.events.enter,function(){var a=o.find(".controls");t.controlsHide>0&&a.style("display")==="none"&&a.stop(!0).fadeIn(500,function(){a.css("display","flex")})}),o.on(e.events.leave,function(){var a=o.find(".controls");t.controlsHide>0&&parseInt(a.style("opacity"))===1&&setTimeout(function(){a.stop(!0).fadeOut(500)},t.controlsHide)})},_offMouse:function(){var t=this.player,o=this.options,a=t.find(".controls");t.off(e.events.enter),t.off(e.events.leave),o.controlsHide>0&&a.style("display")==="none"&&a.stop(!0).fadeIn(500,function(){a.css("display","flex")})},_toggleLoop:function(){var t=this.player.find(".loop");t.length!==0&&(t.toggleClass("active"),t.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.video.volume=this.volumeBackup:(this.volumeBackup=this.video.volume,this.video.volume=0),e.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(t,o){this.player.find(".info-box").html(l.secondsToFormattedString(Math.round(t))+" / "+l.secondsToFormattedString(Math.round(o)))},_setBuffer:function(){var t=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;e.getPlugin(this.stream,"slider").buff(t)},_setVolume:function(){var t=this.video,o=this.player,a=this.options,s=o.find(".mute"),c=t.volume*100;c>1&&c<30?s.html(a.volumeLowIcon):c>=30&&c<60?s.html(a.volumeMediumIcon):c>=60&&c<=100?s.html(a.volumeHighIcon):s.html(a.muteIcon)},_setAspectRatio:function(){var t=this.player,o=this.options,a=t.outerWidth(),s;switch(o.aspectRatio){case e.aspectRatio.SD:s=l.aspectRatioH(a,"4/3");break;case e.aspectRatio.CINEMA:s=l.aspectRatioH(a,"21/9");break;default:s=l.aspectRatioH(a,"16/9")}t.outerHeight(s)},aspectRatio:function(t){this.options.aspectRatio=t,this._setAspectRatio()},play:function(t){t!==void 0&&this._setSource(t),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&(this.isPlaying=!0,this.video.play())},pause:function(){this.isPlaying=!1,this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,e.getPlugin(this.stream,"slider").val(0),this._offMouse()},setVolume:function(t){if(t===void 0)return this.video.volume;t>1&&(t/=100),this.video.volume=t,e.getPlugin(this.volume[0],"slider").val(t*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr("data-aspect-ratio"),this._setAspectRatio()},changeSource:function(){var t=JSON.parse(this.element.attr("data-src"));this.play(t)},changeVolume:function(){var t=this.element.attr("data-volume");this.setVolume(t)},changeAttribute:function(t){switch(t){case"data-aspect-ratio":this.changeAspectRatio();break;case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){var t=this.element,o=this.player;return e.getPlugin(this.stream,"slider").destroy(),e.getPlugin(this.volume,"slider").destroy(),t.off("loadstart"),t.off("loadedmetadata"),t.off("canplay"),t.off("progress"),t.off("timeupdate"),t.off("waiting"),t.off("loadeddata"),t.off("play"),t.off("pause"),t.off("stop"),t.off("ended"),t.off("volumechange"),o.off(e.events.click,".play"),o.off(e.events.click,".stop"),o.off(e.events.click,".mute"),o.off(e.events.click,".loop"),o.off(e.events.click,".full"),r(globalThis).off(e.events.keyup,{ns:this.id}),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,i={onViewport:e.noop,onViewportEnter:e.noop,onViewportLeave:e.noop,onViewportCheckCreate:e.noop};e.viewportCheckSetup=function(t){i=r.extend({},i,t)},typeof globalThis.metroViewportCheckSetup!==void 0&&e.viewportCheckSetup(globalThis.metroViewportCheckSetup),e.Component("viewport-check",{init:function(t,o){return this._super(o,t,i,{inViewport:!1,id:l.elementId("viewport-check")}),this},_create:function(){this.inViewport=l.inViewport(this.elem),this._createEvents(),this._fireEvent("viewport-check-create")},_createEvents:function(){var t=this,o=this.elem;r(globalThis).on(e.events.scroll,function(){var a=t.inViewport;t.inViewport=l.inViewport(o),a!==t.inViewport&&(t.inViewport?t._fireEvent("viewport-enter"):t._fireEvent("viewport-leave")),t._fireEvent("viewport",{state:t.inViewport})},{ns:t.id})},state:function(){return this.inViewport},destroy:function(){return r(globalThis).off(e.events.scroll,{ns:this.id}),this.element}})})(Metro,Dom);(function(e,r){"use strict";let l={_runtime:!1,windowDeferred:0,hidden:!1,width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,draggable:!0,dragElement:".window-caption .title",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:null,resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",closeAction:e.actions.HIDE,customButtons:null,status:"",canClose:!0,canMaximize:!0,canMinimize:!0,clsCustomButton:"",clsCaption:"",clsContent:"",clsWindow:"",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onWindowClick:e.noop,onCaptionClick:e.noop,onCaptionDblClick:e.noop,onCloseClick:e.noop,onMaxClick:e.noop,onMinClick:e.noop,onResizeStart:e.noop,onResizeStop:e.noop,onResize:e.noop,onWindowCreate:e.noop,onShow:e.noop,onWindowDestroy:e.noop,onCanClose:e.noop_true,onMinimize:e.noop,onMaximize:e.noop,onClose:e.noop};e.windowSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroWindowSetup!==void 0&&e.windowSetup(globalThis.metroWindowSetup),e.Component("window",{init:function(i,t){return this._super(t,i,l,{win:null,overlay:null,position:{top:0,left:0},hidden:!1,content:null}),this},_create:function(){let i=this,t=this.element,o=this.options,a,s,c=o.dragArea==="parent"?t.parent():r(o.dragArea),p;o.modal===!0&&(o.btnMax=!1,o.btnMin=!1,o.resizable=!1),e.utils.isNull(o.content)||(e.utils.isUrl(o.content)&&e.utils.isVideoUrl(o.content)?(o.content=e.utils.embedUrl(o.content),t.css({height:"100%"})):!e.utils.isQ(o.content)&&e.utils.isFunc(o.content)&&(o.content=e.utils.exec(o.content)),p=r(o.content),p.length===0?t.appendText(o.content):t.append(p)),o.content=t,o._runtime===!0&&this._runtime(t,"window"),a=this._window(o),a.addClass("no-visible"),c.append(a),o.overlay===!0&&(s=this._overlay(),s.appendTo(a.parent()),this.overlay=s),this.win=a,this._fireEvent("window-create",{win:this.win[0],element:t}),setTimeout(function(){i._setPosition(),o.hidden!==!0&&i.win.removeClass("no-visible"),i._fireEvent("show",{win:i.win[0],element:t})},100)},_setPosition:function(){let i=this.options,t=this.win,o=i.dragArea==="parent"?t.parent():r(i.dragArea),a=o.height()/2-t[0].offsetHeight/2,s=o.width()/2-t[0].offsetWidth/2,c,p,d,m;if(i.place!=="auto"){switch(i.place.toLowerCase()){case"top-left":c=0,p=0,d="auto",m="auto";break;case"top-center":c=0,p=s,d="auto",m="auto";break;case"top-right":c=0,d=0,p="auto",m="auto";break;case"right-center":c=a,d=0,p="auto",m="auto";break;case"bottom-right":m=0,d=0,p="auto",c="auto";break;case"bottom-center":m=0,p=s,d="auto",c="auto";break;case"bottom-left":m=0,p=0,d="auto",c="auto";break;case"left-center":c=a,p=0,d="auto",m="auto";break;default:c=a,p=s,m="auto",d="auto"}t.css({top:c,left:p,bottom:m,right:d})}},_window:function(i){let t=this,o,a,s,c,p,d,m,f,g,u,A,b=i.width,x=i.height;if(o=r("<div>").addClass("window"),i.modal===!0&&o.addClass("modal"),a=r("<div>").addClass("window-caption"),s=r("<div>").addClass("window-content"),o.append(a),o.append(s),(i.status||i.resizable)&&(A=r("<div>").addClass("window-status").html(i.status),o.append(A)),i.shadow===!0&&o.addClass("shadowed"),e.utils.isValue(i.icon)&&(c=r("<span>").addClass("icon").html(i.icon),c.appendTo(a)),p=r("<span>").addClass("title").html(e.utils.isValue(i.title)?i.title:"&nbsp;"),p.appendTo(a),e.utils.isNull(i.content)||(e.utils.isQ(i.content)?i.content.appendTo(s):s.html(i.content)),d=r("<div>").addClass("buttons"),d.appendTo(a),i.btnMax===!0&&(g=r("<span>").addClass("button small square btn-max sys-button"),g.appendTo(d)),i.btnMin===!0&&(f=r("<span>").addClass("button small square btn-min sys-button"),f.appendTo(d)),i.btnClose===!0&&(m=r("<span>").addClass("button small square btn-close sys-button"),m.appendTo(d)),i.customButtons){let v=e.utils.isObject(i.customButtons);v&&r.each(v,function(){let I=this,B=r("<span>");B.addClass("button btn-custom").addClass(i.clsCustomButton).addClass(I.cls).attr("tabindex",-1).html(I.html),I.attr&&typeof I.attr=="object"&&r.each(I.attr,function(k,w){B.attr(Str.dashedName(k),w)}),B.data("action",I.onclick),d.prepend(B)})}return a.on(e.events.click,".btn-custom",function(v){if(e.utils.isRightMouse(v))return;let I=r(this),B=I.data("action");e.utils.exec(B,[I],this)}),o.attr("id",i.id===void 0?e.utils.elementId("window"):i.id),o.on(e.events.startAll,".window-caption",function(v){t._fireEvent("caption-click",{win:o[0],e:v})}),o.on(e.events.dblclick,".window-caption",function(v){t.maximize(v)}),a.on(e.events.click,".btn-max, .btn-min, .btn-close",function(v){if(e.utils.isRightMouse(v))return;let I=r(v.target);I.hasClass("btn-max")&&i.canMaximize&&t.maximize(v),I.hasClass("btn-min")&&i.canMinimize&&t.minimize(v),I.hasClass("btn-close")&&i.canClose&&t.close(v)}),o.on(e.events.click,function(v){t._fireEvent("window-click",{win:o[0],e:v})}),i.draggable===!0&&e.makePlugin(o,"draggable",{dragContext:o[0],dragElement:a,dragArea:i.dragArea,onDragStart:i.onDragStart,onDragStop:i.onDragStop,onDragMove:i.onDragMove}),o.addClass(i.clsWindow),a.addClass(i.clsCaption),s.addClass(i.clsContent),i.minWidth===0&&(i.minWidth=34,r.each(d.children(".btn-custom"),function(){i.minWidth+=e.utils.hiddenElementSize(this).width}),i.btnMax&&(i.minWidth+=34),i.btnMin&&(i.minWidth+=34),i.btnClose&&(i.minWidth+=34)),i.minWidth>0&&!isNaN(i.width)&&i.width<i.minWidth&&(b=i.minWidth),i.minHeight>0&&!isNaN(i.height)&&i.height>i.minHeight&&(x=i.minHeight),i.resizable&&(u=r("<span>").addClass("resize-element"),u.appendTo(o),o.addClass("resizable"),e.makePlugin(o,"resizable",{minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,resizeElement:".resize-element",onResizeStart:i.onResizeStart,onResizeStop:i.onResizeStop,onResize:i.onResize})),o.css({width:b,height:x,position:i.position,top:i.top,left:i.left}),o},_overlay:function(){let i=this.options,t=r("<div>");return t.addClass("overlay"),i.overlayColor==="transparent"?t.addClass("transparent"):t.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(i.overlayColor),i.overlayAlpha)}),t},width:function(i){let t=this.win;return e.utils.isValue(i)?(t.css("width",parseInt(i)),this):t.width()},height:function(i){let t=this.win;return e.utils.isValue(i)?(t.css("height",parseInt(i)),this):t.height()},maximize:function(i){let t=this.win,o=this.options,a=r(i.target);o.btnMax&&(t.removeClass("minimized"),t.toggleClass("maximized")),a.hasClass&&a.hasClass("title")?this._fireEvent("caption-dbl-click",{win:t[0]}):this._fireEvent("max-click",{win:t[0]}),this._fireEvent("maximize",{win:t[0]})},minimize:function(){let i=this.win;this.options.btnMin&&(i.removeClass("maximized"),i.toggleClass("minimized")),this._fireEvent("min-click",{win:i[0]}),this._fireEvent("minimize",{win:i[0]})},close:function(){let i=this,t=this.win,o=this.options;if(e.utils.exec(o.onCanClose,[t])===!1)return!1;let a=0;o.onClose!==e.noop&&(a=500),this._fireEvent("close",{win:t[0]}),setTimeout(function(){o.modal===!0&&t.siblings(".overlay").remove(),i._fireEvent("close-click",{win:t[0]}),o.closeAction===e.actions.REMOVE?(i._fireEvent("window-destroy",{win:t[0]}),t.remove()):i.hide()},a)},hide:function(){let i=this.win;i.css({display:"none"}),this._fireEvent("hide",{win:i[0]})},show:function(){let i=this.win;i.removeClass("no-visible").css({display:"flex"}),this._fireEvent("show",{win:i[0]})},toggle:function(){this.win.css("display")==="none"||this.win.hasClass("no-visible")?this.show():this.hide()},isOpen:function(){return this.win.hasClass("no-visible")},min:function(i){i?this.win.addClass("minimized"):this.win.removeClass("minimized")},max:function(i){i?this.win.addClass("maximized"):this.win.removeClass("maximized")},changeClass:function(i){let t=this.element,o=this.win,a=this.options;i==="data-cls-window"&&(o[0].className="window "+(a.resizable?" resizable ":" ")+t.attr("data-cls-window")),i==="data-cls-caption"&&(o.find(".window-caption")[0].className="window-caption "+t.attr("data-cls-caption")),i==="data-cls-content"&&(o.find(".window-content")[0].className="window-content "+t.attr("data-cls-content"))},toggleShadow:function(){let i=this.element,t=this.win;JSON.parse(i.attr("data-shadow"))===!0?t.addClass("win-shadow"):t.removeClass("win-shadow")},setContent:function(i){let t=this.element,o=this.win,a=e.utils.isValue(i)?i:t.attr("data-content"),s;!e.utils.isQ(a)&&e.utils.isFunc(a)?s=e.utils.exec(a):e.utils.isQ(a)?s=a.html():s=a,o.find(".window-content").html(s)},setTitle:function(i){let t=this.element,o=this.win,a=e.utils.isValue(i)?i:t.attr("data-title");o.find(".window-caption .title").html(a)},setIcon:function(i){let t=this.element,o=this.win,a=e.utils.isValue(i)?i:t.attr("data-icon");o.find(".window-caption .icon").html(a)},getIcon:function(){return this.win.find(".window-caption .icon").html()},getTitle:function(){return this.win.find(".window-caption .title").html()},toggleDraggable:function(i){let t=this.win,o=e.utils.bool(i),a=e.getPlugin(t,"draggable");o===!0?a.on():a.off()},toggleResizable:function(i){let t=this.win,o=e.utils.bool(i),a=e.getPlugin(t,"resizable");o===!0?(a.on(),t.find(".resize-element").removeClass("resize-element-disabled")):(a.off(),t.find(".resize-element").addClass("resize-element-disabled"))},changePlace:function(i){let t=this.element,o=this.win,a=e.utils.isValue(i)?i:t.attr("data-place");o.addClass(a)},pos:function(i,t){return this.win.css({top:i,left:t}),this},top:function(i){return this.win.css({top:i}),this},left:function(i){return this.win.css({left:i}),this},changeAttribute:function(i,t){let o=function(c,p){let d=this.win,m;if(c==="data-top"){if(m=parseInt(p),!isNaN(m))return;d.css("top",m)}if(c==="data-left"){if(m=parseInt(p),!isNaN(m))return;d.css("left",m)}},a=function(c,p){let d=this.win,m=d.find(".btn-close"),f=d.find(".btn-min"),g=d.find(".btn-max"),A=e.utils.bool(p)?"show":"hide";switch(c){case"data-btn-close":m[A]();break;case"data-btn-min":f[A]();break;case"data-btn-max":g[A]();break}},s=function(c,p){let d=this.win;c==="data-width"&&d.css("width",+p),c==="data-height"&&d.css("height",+p)};switch(i){case"data-btn-close":case"data-btn-min":case"data-btn-max":a(i,t);break;case"data-width":case"data-height":s(i,t);break;case"data-cls-window":case"data-cls-caption":case"data-cls-content":this.changeClass(i);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable(t);break;case"data-resizable":this.toggleResizable(t);break;case"data-top":case"data-left":o(i,t);break;case"data-place":this.changePlace();break}},destroy:function(){return this.element}}),e.window={isWindow:function(i){return e.utils.isMetroObject(i,"window")},min:function(i,t){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").min(t)},max:function(i,t){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").max(t)},show:function(i){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").show()},hide:function(i){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").hide()},toggle:function(i){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").toggle()},isOpen:function(i){return this.isWindow(i)?e.getPlugin(i,"window").isOpen():!1},close:function(i){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").close()},pos:function(i,t,o){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").pos(t,o)},top:function(i,t){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").top(t)},left:function(i,t){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").left(t)},width:function(i,t){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").width(t)},height:function(i,t){if(!this.isWindow(i))return!1;e.getPlugin(i,"window").height(t)},create:function(i,t){let o;o=r("<div>").appendTo(r(t||"body"));let a=r.extend({_runtime:!0},i||{});return e.makePlugin(o,"window",a),e.getPlugin(o,"window").win}}})(Metro,Dom);(function(e,r){"use strict";let l={wizardDeferred:0,start:1,finish:0,iconHelp:"\u{1F4A1}",iconPrev:"\u{1F850}",iconNext:"\u{1F852}",iconFinish:"\u2714",buttonMode:"cycle",buttonOutline:!0,duration:300,clsWizard:"",clsActions:"",clsHelp:"",clsPrev:"",clsNext:"",clsFinish:"",onPage:e.noop,onNextPage:e.noop,onPrevPage:e.noop,onFirstPage:e.noop,onLastPage:e.noop,onFinishPage:e.noop,onHelpClick:e.noop,onPrevClick:e.noop,onNextClick:e.noop,onFinishClick:e.noop,onBeforePrev:e.noop_true,onBeforeNext:e.noop_true,onWizardCreate:e.noop};e.wizardSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroWizardSetup!==void 0&&e.wizardSetup(globalThis.metroWizardSetup),e.Component("wizard",{init:function(i,t){return this._super(t,i,l,{id:e.utils.elementId("wizard")}),this},_create:function(){let i=this.element;this._createWizard(),this._createEvents(),this._fireEvent("wizard-create",{element:i})},_createWizard:function(){let i=this.element,t=this.options,o;i.addClass("wizard").addClass(t.view).addClass(t.clsWizard),o=r("<div>").addClass("action-bar").addClass(t.clsActions).appendTo(i);let a=t.buttonMode==="button"?"":t.buttonMode;t.buttonOutline===!0&&(a+=" outline"),t.iconHelp!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-help").addClass(a).addClass(t.clsHelp).html(t.iconHelp).appendTo(o),t.iconPrev!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-prev").addClass(a).addClass(t.clsPrev).html(t.iconPrev).appendTo(o),t.iconNext!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-next").addClass(a).addClass(t.clsNext).html(t.iconNext).appendTo(o),t.iconFinish!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-finish").addClass(a).addClass(t.clsFinish).html(t.iconFinish).appendTo(o),this.toPage(t.start),this._setHeight()},_setHeight:function(){let i=this.element,t=i.children("section"),o=0;t.children(".page-content").css("max-height","none"),r.each(t,function(){let a=r(this).height();o<parseInt(a)&&(o=a)}),i.height(o)},_createEvents:function(){let i=this,t=this.element;t.on(e.events.click,".wizard-btn-help",function(){let a=t.children("section").get(i.current-1);i._fireEvent("help-click",{index:i.current,page:a})}),t.on(e.events.click,".wizard-btn-prev",function(){i.prev();let a=t.children("section").get(i.current-1);i._fireEvent("prev-click",{index:i.current,page:a})}),t.on(e.events.click,".wizard-btn-next",function(){i.next();let a=t.children("section").get(i.current-1);i._fireEvent("next-click",{index:i.current,page:a})}),t.on(e.events.click,".wizard-btn-finish",function(){let a=t.children("section").get(i.current-1);i._fireEvent("finish-click",{index:i.current,page:a})}),t.on(e.events.click,".complete",function(){let o=r(this).index()+1;i.toPage(o)}),r(globalThis).on(e.events.resize,function(){i._setHeight()},{ns:this.id})},next:function(){let i=this,t=this.element,o=this.options,a=t.children("section"),s=r(t.children("section").get(this.current-1));this.current+1>a.length||e.utils.exec(o.onBeforeNext,[this.current,s,t])===!1||(this.current++,this.toPage(this.current),s=r(t.children("section").get(this.current-1)),this._fireEvent("next-page",{index:i.current,page:s[0]}))},prev:function(){let i=this,t=this.element,o=this.options,a=r(t.children("section").get(this.current-1));this.current-1===0||e.utils.exec(o.onBeforePrev,[this.current,a,t])===!1||(this.current--,this.toPage(this.current),a=r(t.children("section").get(this.current-1)),this._fireEvent("prev-page",{index:i.current,page:a[0]}))},last:function(){let i=this,t=this.element,o;this.toPage(t.children("section").length),o=r(t.children("section").get(this.current-1)),this._fireEvent("last-page",{index:i.current,page:o[0]})},first:function(){let i=this,t=this.element,o;this.toPage(1),o=r(t.children("section").get(0)),this._fireEvent("first-page",{index:i.current,page:o[0]})},toPage:function(i){let t=this.element,o=this.options,a=r(t.children("section").get(i-1)),s=t.children("section"),c=t.find(".action-bar");if(a.length===0)return;let p=t.find(".wizard-btn-finish").addClass("disabled"),d=t.find(".wizard-btn-next").addClass("disabled"),m=t.find(".wizard-btn-prev").addClass("disabled");this.current=i,t.children("section").removeClass("complete current").removeClass(o.clsCurrent).removeClass(o.clsComplete),a.addClass("current").addClass(o.clsCurrent),a.prevAll().addClass("complete").addClass(o.clsComplete);let f=t.children("section.complete").length===0?0:parseInt(e.utils.getStyleOne(t.children("section.complete")[0],"border-left-width"));c.animate({draw:{left:t.children("section.complete").length*f+41},dur:o.duration}),(this.current===s.length||o.finish>0&&this.current>=o.finish)&&p.removeClass("disabled"),parseInt(o.finish)>0&&this.current===parseInt(o.finish)&&this._fireEvent("finish-page",{index:this.current,page:a[0]}),this.current<s.length&&d.removeClass("disabled"),this.current>1&&m.removeClass("disabled"),this._fireEvent("page",{index:this.current,page:a[0]})},changeAttribute:function(){},destroy:function(){let i=this.element;return i.off(e.events.click,".wizard-btn-help"),i.off(e.events.click,".wizard-btn-prev"),i.off(e.events.click,".wizard-btn-next"),i.off(e.events.click,".wizard-btn-finish"),i.off(e.events.click,".complete"),r(globalThis).off(e.events.resize,{ns:this.id}),i}})})(Metro,Dom);(function(e,r){"use strict";let l={appendButton:!0,tabsPosition:"left",customButtons:null,activateNewTab:!0,defaultNewTabTitle:"New File",defaultNewCanClose:!0,defaultNewTabIcon:"",defaultNewTabImage:"",defaultNewTabPosition:"before",appendActions:null,tabsActions:null,tabActions:null,refControl:!1,onAppendButtonClick:e.noop,onTabCreate:e.noop_arg,onTabActivate:e.noop,onTabDeactivate:e.noop,onTabBeforeClose:e.noop_true,onTabClose:e.noop,onTabRename:e.noop,onTabPropChange:e.noop,onTabOrganized:e.noop};e.pageControlSetup=function(i){l=r.extend({},l,i)},typeof globalThis.metroPageControlSetup!==void 0&&e.pageControlSetup(globalThis.metroPageControlSetup),e.Component("page-control",{init:function(i,t){return this._super(t,i,l,{newFileIndex:1,invisibleTabsHolderToggle:null,invisibleTabsHolder:null}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("page-control-create")},_createStructure:function(){let i=this,t=this.element,o=this.options;this.component=r("<div>").addClass("page-control").insertBefore(t),t.addClass("page-control__tabs").appendTo(this.component),t.addClass(`tabs-position-${o.tabsPosition}`);let a=t.children("li:not(.page-control__tab-custom)"),s=!1;if(a.each(function(d,m){let f=r(m),g=f.html(),u=f.hasClass("active"),A=i.createTab({caption:g,icon:f.attr("data-icon"),image:f.attr("data-image"),canClose:f.attr("data-close")!=="false",data:f.attr("data-data"),ref:f.attr("data-ref")});u&&!s&&(s=!0,A.addClass("active"),i._fireEvent("tab-activate",{tab:A[0]})),t.append(A),f.remove()}),!s){let d=this.element.children(".page-control__tab").first();d.addClass("active"),this._fireEvent("tab-activate",{tab:d[0]})}if(o.refControl&&this._updateRefs(),o.appendButton){let d=r("<li>").addClass("page-control__tab__append").html('<span class="toggle">+</span>');if(o.appendActions){let m=e.utils.exec(o.appendActions,null,this);if(!Array.isArray(m))throw"PageControl Error! Prop appendActions must be a function that returns an array.";let f=r("<ul data-role='dropdown' class='d-menu context'>");m.map(g=>f.append(i._renderMenuItem(g))),d.append(f)}t.append(d)}let c=r("<li>").addClass("page-control__tab__service").addClass("invisible-tabs").appendTo(t);c.append(r("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">\u21A7</span>
                    <ul class="d-menu place-right context page-control__invisible_tabs_holder"></ul>
                `)),this.invisibleTabsHolderToggle=c.find(".page-control__tab__service.invisible-tabs > .page-control__service-button"),this.invisibleTabsHolder=e.makePlugin(c.find(".page-control__invisible_tabs_holder"),"dropdown",{onClick:d=>{let m=r(d.target.parentNode);m.hasClass("page-control__tab__closer")?this.closeButtonClick(d):this.activateTab(m[0]),d.preventDefault(),d.stopPropagation()}}),this.invisibleTabsHolderToggle.hide(),this.organizeTabs();let p=r("<li>").addClass("page-control__tab__service").addClass("tabs-menu").appendTo(t);if(p.append(r("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">\uFE19</span>
                    <ul class="d-menu place-right context" data-role="dropdown"></ul>
                `)),!o.tabsActions)p.hide();else{let d=p.find("ul");e.utils.exec(o.tabsActions,null,this).map(f=>d.append(i._renderMenuItem(f)))}},_updateRefs:function(){let i=this.element.find(".page-control__tab"),t=this.element.find(".page-control__tab.active");i.each((o,a)=>r(r(a).data("ref")).hide()),r(t.data("ref")).show()},_createEvents:function(){let i=this,t=this.element,o=this.options;t.on("click",".page-control__tab__closer",this.closeButtonClick.bind(this)),t.on("click",".page-control__tab__menu > li > a",function(a){let s=r(this).attr("data-action"),c=e.getPlugin(r(this).closest("ul"),"dropdown"),p=r(this).closest(".page-control__tab")[0];switch(c.close(),s){case"close":{i.closeTab(p);break}case"close-all":{i.closeAll();break}case"close-other":{i.closeOtherTabs(p);break}case"close-inactive":{i.closeInactiveTabs();break}case"close-left":{i.closeTabsOnTheLeft(p);break}case"close-right":{i.closeTabsOnTheRight(p);break}case"rename":{i.renameTab(p);break}}a.preventDefault(),a.stopPropagation()}),t.on("click",".page-control__tab",function(){r(this).hasClass("active")||i.activateTab(this)}),t.on("click",".page-control__tab__append > span",a=>{a.preventDefault(),a.stopPropagation();let s=i.createTab({caption:`${o.defaultNewTabTitle} ${i.newFileIndex++}`,canClose:o.defaultNewCanClose,icon:o.defaultNewTabIcon,image:o.defaultNewTabImage,data:null});i._fireEvent("tab-append",{tab:s}),i.activateTab(s),i.organizeTabs(),i._fireEvent("append-button-click",{tab:s})}),r(globalThis).on("resize",()=>{this.organizeTabs()})},_renderMenuItem:function(i){let t=r("<li>"),o=r("<a>");return(i.icon||i.image)&&o.append(i.icon?r("<span class='icon'>").addClass(i.icon):r("<img class='icon'>").attr("src",i.image).attr("alt","")),i.title&&o.append(r("<span>").addClass("caption").text(i.title)),o.data("data",i.data),i.onclick&&o.on("click",a=>i.onclick(a)),t.append(o),t},createTab:function({caption:i,icon:t,image:o,canClose:a=!0,hasMenu:s=!0,data:c,ref:p}){let d=this,m=this.element,f=this.options,g=r("<li>").addClass("page-control__tab").appendTo(m);if(s&&(g.append(r("<div>").addClass("page-control__tab__menu__holder").html(`
                        <span class="">\uFE19</span>
                        <ul class="d-menu context page-control__tab__menu" data-role="dropdown">
                            <li><a data-action="rename">${this.strings.label_rename_tab}</a></li>
                            <li class="divider"></li>
                            <li><a data-action="close">${this.strings.label_close_tab}</a></li>
                            <li><a data-action="close-other">${this.strings.label_close_other_tabs}</a></li>
                            <li><a data-action="close-left">${this.strings.label_close_tabs_left}</a></li>
                            <li><a data-action="close-right">${this.strings.label_close_tabs_right}</a></li>
                            <li><a data-action="close-all">${this.strings.label_close_all_tabs}</a></li>
                            <li><a data-action="close-inactive">${this.strings.label_close_inactive_tabs}</a></li>
                        </ul>
                    `)),f.tabActions)){let u=g.find("ul"),A=e.utils.exec(f.tabActions);if(!Array.isArray(A))throw"PageControl Error! Prop tabActions must be a function that returns an array.";u.append(r("<li class='divider'>")),A.map(b=>u.append(d._renderMenuItem(b)))}return(t||o)&&g.append(r("<span>").addClass("page-control__tab__icon").html(t?`<span class="${t}">`:`<img src="${o}" alt=""/>`)),g.append(r("<span>").addClass("page-control__tab__caption").html(i)),a&&g.append(r("<span>").addClass("page-control__tab__closer").html("<span>\u2715</span>")),g.data("data",c),g.data("ref",p),this._fireEvent("tab-create",{tab:g[0]}),m[f.defaultNewTabPosition==="before"?"prepend":"append"](g),g[0]},closeButtonClick:function(i){let t=this,o=this.options,a=r(i.target).closest(".page-control__tab"),s=a.closest("ul");o.onTabBeforeClose(a[0])&&(t.closeTab(a[0]),s.hasClass("page-control__invisible_tabs_holder")&&s.children(".page-control__tab").length===0&&(e.getPlugin(this.invisibleTabsHolder,"dropdown").close(),this.invisibleTabsHolderToggle.hide()),i.preventDefault(),i.stopPropagation())},closeTab:function(i,t=!0){let o=r(i);if(o.hasClass("active")){let a=o.prev(".page-control__tab"),s=o.next(".page-control__tab");a.length?this.activateTab(a[0]):s.length?this.activateTab(s[0]):o.parent().hasClass("page-control__invisible_tabs_holder")&&parent.children(".page-control__tab").length===1&&element.children(".page-control__tab").length&&this.activateTab(element.children(".page-control__tab").last()[0])}return this._fireEvent("tab-close",{tab:i}),this.options.refControl&&r(o.data("ref")).remove(),o.remove(),t&&this.organizeTabs(),this},activateTab:function(i){let t=this.element,o=this.options;return t.find(".page-control__tab").each((a,s)=>{let c=r(s);c.hasClass("active")&&(this._fireEvent("tab-deactivate",{tab:s}),c.removeClass("active"))}),r(i).addClass("active"),o.refControl&&this._updateRefs(),this._fireEvent("tab-activate",{tab:i}),r(i).parent().hasClass("page-control__invisible_tabs_holder")&&(t.prepend(i),this.organizeTabs()),this},organizeTabs:function(){let i=this.element,t=this.elem.getBoundingClientRect().width,o=this.invisibleTabsHolder,a=i.find(".page-control__tab__append");o.children(".page-control__tab").each((p,d)=>{let m=r(d);a.length?m.insertBefore(a):m.appendTo(i)});let s=i.children(".page-control__tab"),c=0;for(let p of s){let d=p.getBoundingClientRect();if(c+d.width+50>t){r(p).nextAll(".page-control__tab").appendTo(o),r(p).appendTo(o);break}c+=d.width}o.children().length?this.invisibleTabsHolderToggle.show(function(){r(this).css({display:"flex"})}):this.invisibleTabsHolderToggle.hide(),this._fireEvent("tab-organized",null)},addTab:function({caption:i,icon:t,image:o,canClose:a=!0,hasMenu:s=!0,data:c,ref:p},d="before"){let m=this.options,f=this.createTab({caption:i,icon:t,image:o,canClose:a,hasMenu:s,data:c,ref:p});return m.activateNewTab&&this.activateTab(f),this.element[d==="before"?"prepend":"append"](f),this.organizeTabs(),f},getActiveTab:function(){return this.component.find(".page-control__tab.active")[0]},getActiveTabIndex:function(){return this.component.find(".page-control__tab").index(".active",!1)},getTabByIndex:function(i){return this.component.find(".page-control__tab").get(i)},getTabByTitle:function(i){if(!i)return;let t=this.component.find(".page-control__tab");for(let o of t)if(r(o).find(".caption").text()===i)return o},closeAll:function(){return this.component.find(".page-control__tab").each((i,t)=>{this.closeTab(t,!1)}),this.organizeTabs(),this},closeInactiveTabs:function(){return this.component.find(".page-control__tab").each((i,t)=>{r(t).hasClass("active")||this.closeTab(t,!1)}),this.organizeTabs(),this},closeOtherTabs:function(i){let t=typeof i=="number"?this.getTabByIndex(i):r(i);return this.component.find(".page-control__tab").each((o,a)=>{t[0]!==a&&this.closeTab(a,!1)}),this.activateTab(i),this.organizeTabs(),this},closeTabsOnTheLeft:function(i){let o=this.component.find(".page-control__tab").indexOf(r(i));return this.component.find(".page-control__tab").each((a,s)=>{a<o&&this.closeTab(s,!1)}),this.organizeTabs(),this},closeTabsOnTheRight:function(i){let o=this.component.find(".page-control__tab").indexOf(r(i));return this.component.find(".page-control__tab").each((a,s)=>{a>o&&this.closeTab(s,!1)}),this.organizeTabs(),this},setupTab:function(i,t,o){let a=r(i);switch(t){case"caption":{a.find(".page-control__tab__caption").text(o);break}case"icon":{a.find(".page-control__tab__icon")[0].className=o;break}case"image":{a.find(".page-control__tab__image").attr("src",o);break}case"data":{a.data("data",o);break}case"ref":{a.data("ref",o);break}}this._fireEvent("tab-prop-change",{tab:i}),this.organizeTabs()},renameTab:function(i){let t=this,o=r(i).find(".page-control__tab__caption");e.dialog.create({title:t.strings.label_rename_tab,content:`
                    <form style="width: 100%">
                        <input type="text" data-role="input" value="${o.text()}">
                    </form>
                `,actions:[{caption:t.strings.label_ok,cls:"js-dialog-close info",onclick:function(a){t.setupTab(i,"caption",a.find("input").val())}},{caption:t.strings.label_cancel,cls:"js-dialog-close"}]})},changeAttribute:function(i,t){},destroy:function(){this.component.remove()}})})(Metro,Dom);})();
//!node.hasClass("expanded");
/*! Bundled license information:

@olton/datetime/dist/datetime.js:
  (*!
   * Datetime v3.2.0. 
   * Copyright 2024 by Serhii Pimenov
   * Licensed under MIT
   *
   * Build time: 22.11.2024 16:28:08
   *)

@olton/string/dist/string.es.js:
  (*!
   * String - String routines
   * Copyright 2024 by Serhii Pimenov
   * Licensed under MIT
   !*)

@olton/dom/dist/dom.js:
  (*!
   * DOM - Work with HTML elements (@olton/dom, https://metroui.org.ua)
   * Version: 1.0.0
   * Build date: 14.01.2025, 11:19:35
   * Copyright 2012-2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/hooks/dist/hooks.esm.js:
  (*!
   * HooksJS - The set of hooks  (https://github.com/olton/hooks)
   * Copyright 2024 by Serhii Pimenov
   * Licensed under MIT
   !*)

@olton/farbe/dist/farbe.es.js:
  (*!
   * Farbe  v1.0.4 - Color manipulation library
   * Copyright 2024 by Serhii Pimenov
   * Licensed under MIT
   !*)

@olton/html/dist/html.esm.js:
  (*!
   * HtmlJS - Create html elements with JS
   * Copyright 2024 by Serhii Pimenov
   * Licensed under MIT
   !*)

@olton/guardian/dist/guardian.mjs:
  (*!
   * Guardian v0.5.2
   * Data guard and validation library
   * Copyright 2024 Serhii Pimenov
   * Licensed under MIT
   *
   * Build time: 29.11.2024 18:45:18
   *)
*/
