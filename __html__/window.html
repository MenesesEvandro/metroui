<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="../lib/metro.css" rel="stylesheet">
    <link href="../lib/icons.css" rel="stylesheet">

    <title>Test Window - Metro UI :: Popular HTML, CSS and JS library</title>
    <style>
        body{
            height: 100vh;
        }
    </style>
</head>
<body class="cloak">
<nav data-role="appbar" class="border-bottom bd-default">
    <span class="app-bar-item">Any</span>
    <div class="app-bar-item-static no-hover">
        <input type="checkbox" data-role="theme-switcher"/>
    </div>
    <div class="app-bar-item-static no-hover">
        <div class="text-leader">Component Test</div>
    </div>
</nav>

<div class="explorer no-overflow" style="height: calc(100% - 50px)">
</div>

<div data-role="task-bar" id="taskbar" data-on-task-click="taskClick"></div>

<script src="../lib/metro.js"></script>
<script>
    var customButtonHandler = function(btn){
        console.log($(btn).attr("data-custom-id"));
        console.log($(btn).attr("data-special-attr"));
    }

    var customButtons = [
        {
            html: "<span class='mif-cog'></span>",
            onclick: customButtonHandler,
            cls: "alert",
            attr: {
                "data-custom-id": "myID_1",
                dataSpecialAttr: "additional attribute"
            }
        }
    ];

    function createWindow() {
        const window = Metro.window.create({
            title       : "Window Caption",
            btnMin      : true,
            btnMax      : true,
            btnClose    : true,
            shadow      : true,
            resizable   : true,
            icon        : "<span class='mif-run'>",
            dragArea    : ".explorer",
            width       : 400,
            height      : 300,
            place: "center",
            content     : `
                <div>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi, deserunt distinctio dolore dolorem dolores dolorum ducimus ea eaque et illo laboriosam libero nesciunt nisi officiis placeat possimus quaerat quo ratione recusandae reprehenderit sed similique tempore tenetur ullam veritatis vitae voluptates voluptatibus. Accusantium ad aliquam, aliquid animi dignissimos, ducimus est, facilis incidunt nesciunt non obcaecati sint. Ab, animi aperiam autem beatae cumque doloribus facilis fugiat fugit inventore magnam mollitia nihil nisi officia perspiciatis placeat quas quasi qui quisquam, rerum suscipit totam ullam voluptatem voluptatum. Ad, aliquam blanditiis cum ducimus ex explicabo harum laboriosam neque nobis officia quibusdam similique voluptate. Blanditiis, sit?
                </div>
            `,
            status: `<div>Status bar</div>`,
        });
        
        taskBar.addTask({
            title: "Window Run",
            icon: "<span class='mif-run'></span>",
            ref: window
        }, true);
    }

    var taskBar;
    
    $(function(){
        taskBar = Metro.getPlugin("#taskbar", "taskbar");

        taskBar.addToSystemTray("<span data-role='clock' data-show='column' style='--clock-font-size: 12px'>")
        
        createWindow();
    })

    function taskClick(task, ref){
        console.dir(task);
        console.dir(ref);
    }
    
</script>
</body>
</html>
